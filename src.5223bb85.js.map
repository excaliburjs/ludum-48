{"version":3,"sources":["node_modules/regenerator-runtime/runtime.js","lib/excalibur/node_modules/core-js/internals/to-integer.js","lib/excalibur/node_modules/core-js/internals/require-object-coercible.js","lib/excalibur/node_modules/core-js/internals/string-multibyte.js","lib/excalibur/node_modules/core-js/internals/global.js","lib/excalibur/node_modules/core-js/internals/fails.js","lib/excalibur/node_modules/core-js/internals/descriptors.js","lib/excalibur/node_modules/core-js/internals/is-object.js","lib/excalibur/node_modules/core-js/internals/document-create-element.js","lib/excalibur/node_modules/core-js/internals/ie8-dom-define.js","lib/excalibur/node_modules/core-js/internals/an-object.js","lib/excalibur/node_modules/core-js/internals/to-primitive.js","lib/excalibur/node_modules/core-js/internals/object-define-property.js","lib/excalibur/node_modules/core-js/internals/create-property-descriptor.js","lib/excalibur/node_modules/core-js/internals/create-non-enumerable-property.js","lib/excalibur/node_modules/core-js/internals/set-global.js","lib/excalibur/node_modules/core-js/internals/shared-store.js","lib/excalibur/node_modules/core-js/internals/inspect-source.js","lib/excalibur/node_modules/core-js/internals/native-weak-map.js","lib/excalibur/node_modules/core-js/internals/has.js","lib/excalibur/node_modules/core-js/internals/is-pure.js","lib/excalibur/node_modules/core-js/internals/shared.js","lib/excalibur/node_modules/core-js/internals/uid.js","lib/excalibur/node_modules/core-js/internals/shared-key.js","lib/excalibur/node_modules/core-js/internals/hidden-keys.js","lib/excalibur/node_modules/core-js/internals/internal-state.js","lib/excalibur/node_modules/core-js/internals/object-property-is-enumerable.js","lib/excalibur/node_modules/core-js/internals/classof-raw.js","lib/excalibur/node_modules/core-js/internals/indexed-object.js","lib/excalibur/node_modules/core-js/internals/to-indexed-object.js","lib/excalibur/node_modules/core-js/internals/object-get-own-property-descriptor.js","lib/excalibur/node_modules/core-js/internals/redefine.js","lib/excalibur/node_modules/core-js/internals/path.js","lib/excalibur/node_modules/core-js/internals/get-built-in.js","lib/excalibur/node_modules/core-js/internals/to-length.js","lib/excalibur/node_modules/core-js/internals/to-absolute-index.js","lib/excalibur/node_modules/core-js/internals/array-includes.js","lib/excalibur/node_modules/core-js/internals/object-keys-internal.js","lib/excalibur/node_modules/core-js/internals/enum-bug-keys.js","lib/excalibur/node_modules/core-js/internals/object-get-own-property-names.js","lib/excalibur/node_modules/core-js/internals/object-get-own-property-symbols.js","lib/excalibur/node_modules/core-js/internals/own-keys.js","lib/excalibur/node_modules/core-js/internals/copy-constructor-properties.js","lib/excalibur/node_modules/core-js/internals/is-forced.js","lib/excalibur/node_modules/core-js/internals/export.js","lib/excalibur/node_modules/core-js/internals/to-object.js","lib/excalibur/node_modules/core-js/internals/correct-prototype-getter.js","lib/excalibur/node_modules/core-js/internals/object-get-prototype-of.js","lib/excalibur/node_modules/core-js/internals/engine-is-node.js","lib/excalibur/node_modules/core-js/internals/engine-user-agent.js","lib/excalibur/node_modules/core-js/internals/engine-v8-version.js","lib/excalibur/node_modules/core-js/internals/native-symbol.js","lib/excalibur/node_modules/core-js/internals/use-symbol-as-uid.js","lib/excalibur/node_modules/core-js/internals/well-known-symbol.js","lib/excalibur/node_modules/core-js/internals/iterators-core.js","lib/excalibur/node_modules/core-js/internals/object-keys.js","lib/excalibur/node_modules/core-js/internals/object-define-properties.js","lib/excalibur/node_modules/core-js/internals/html.js","lib/excalibur/node_modules/core-js/internals/object-create.js","lib/excalibur/node_modules/core-js/internals/set-to-string-tag.js","lib/excalibur/node_modules/core-js/internals/iterators.js","lib/excalibur/node_modules/core-js/internals/create-iterator-constructor.js","lib/excalibur/node_modules/core-js/internals/a-possible-prototype.js","lib/excalibur/node_modules/core-js/internals/object-set-prototype-of.js","lib/excalibur/node_modules/core-js/internals/define-iterator.js","lib/excalibur/node_modules/core-js/modules/es.string.iterator.js","lib/excalibur/node_modules/core-js/internals/a-function.js","lib/excalibur/node_modules/core-js/internals/function-bind-context.js","lib/excalibur/node_modules/core-js/internals/iterator-close.js","lib/excalibur/node_modules/core-js/internals/call-with-safe-iteration-closing.js","lib/excalibur/node_modules/core-js/internals/is-array-iterator-method.js","lib/excalibur/node_modules/core-js/internals/create-property.js","lib/excalibur/node_modules/core-js/internals/to-string-tag-support.js","lib/excalibur/node_modules/core-js/internals/classof.js","lib/excalibur/node_modules/core-js/internals/get-iterator-method.js","lib/excalibur/node_modules/core-js/internals/array-from.js","lib/excalibur/node_modules/core-js/internals/check-correctness-of-iteration.js","lib/excalibur/node_modules/core-js/modules/es.array.from.js","lib/excalibur/node_modules/core-js/internals/is-array.js","lib/excalibur/node_modules/core-js/modules/es.array.is-array.js","lib/excalibur/node_modules/core-js/modules/es.array.of.js","lib/excalibur/node_modules/core-js/internals/array-species-create.js","lib/excalibur/node_modules/core-js/internals/array-method-has-species-support.js","lib/excalibur/node_modules/core-js/modules/es.array.concat.js","lib/excalibur/node_modules/core-js/internals/array-copy-within.js","lib/excalibur/node_modules/core-js/internals/add-to-unscopables.js","lib/excalibur/node_modules/core-js/modules/es.array.copy-within.js","lib/excalibur/node_modules/core-js/internals/array-iteration.js","lib/excalibur/node_modules/core-js/internals/array-method-is-strict.js","lib/excalibur/node_modules/core-js/modules/es.array.every.js","lib/excalibur/node_modules/core-js/internals/array-fill.js","lib/excalibur/node_modules/core-js/modules/es.array.fill.js","lib/excalibur/node_modules/core-js/modules/es.array.filter.js","lib/excalibur/node_modules/core-js/modules/es.array.find.js","lib/excalibur/node_modules/core-js/modules/es.array.find-index.js","lib/excalibur/node_modules/core-js/internals/flatten-into-array.js","lib/excalibur/node_modules/core-js/modules/es.array.flat.js","lib/excalibur/node_modules/core-js/modules/es.array.flat-map.js","lib/excalibur/node_modules/core-js/internals/array-for-each.js","lib/excalibur/node_modules/core-js/modules/es.array.for-each.js","lib/excalibur/node_modules/core-js/modules/es.array.includes.js","lib/excalibur/node_modules/core-js/modules/es.array.index-of.js","lib/excalibur/node_modules/core-js/modules/es.array.iterator.js","lib/excalibur/node_modules/core-js/modules/es.array.join.js","lib/excalibur/node_modules/core-js/internals/array-last-index-of.js","lib/excalibur/node_modules/core-js/modules/es.array.last-index-of.js","lib/excalibur/node_modules/core-js/modules/es.array.map.js","lib/excalibur/node_modules/core-js/internals/array-reduce.js","lib/excalibur/node_modules/core-js/modules/es.array.reduce.js","lib/excalibur/node_modules/core-js/modules/es.array.reduce-right.js","lib/excalibur/node_modules/core-js/modules/es.array.reverse.js","lib/excalibur/node_modules/core-js/modules/es.array.slice.js","lib/excalibur/node_modules/core-js/modules/es.array.some.js","lib/excalibur/node_modules/core-js/modules/es.array.sort.js","lib/excalibur/node_modules/core-js/internals/set-species.js","lib/excalibur/node_modules/core-js/modules/es.array.species.js","lib/excalibur/node_modules/core-js/modules/es.array.splice.js","lib/excalibur/node_modules/core-js/modules/es.array.unscopables.flat.js","lib/excalibur/node_modules/core-js/modules/es.array.unscopables.flat-map.js","lib/excalibur/node_modules/core-js/es/array/index.js","lib/excalibur/node_modules/core-js/internals/object-get-own-property-names-external.js","lib/excalibur/node_modules/core-js/internals/well-known-symbol-wrapped.js","lib/excalibur/node_modules/core-js/internals/define-well-known-symbol.js","lib/excalibur/node_modules/core-js/modules/es.symbol.js","lib/excalibur/node_modules/core-js/internals/object-assign.js","lib/excalibur/node_modules/core-js/modules/es.object.assign.js","lib/excalibur/node_modules/core-js/modules/es.object.create.js","lib/excalibur/node_modules/core-js/modules/es.object.define-property.js","lib/excalibur/node_modules/core-js/modules/es.object.define-properties.js","lib/excalibur/node_modules/core-js/internals/object-to-array.js","lib/excalibur/node_modules/core-js/modules/es.object.entries.js","lib/excalibur/node_modules/core-js/internals/freezing.js","lib/excalibur/node_modules/core-js/internals/internal-metadata.js","lib/excalibur/node_modules/core-js/modules/es.object.freeze.js","lib/excalibur/node_modules/core-js/internals/iterate.js","lib/excalibur/node_modules/core-js/modules/es.object.from-entries.js","lib/excalibur/node_modules/core-js/modules/es.object.get-own-property-descriptor.js","lib/excalibur/node_modules/core-js/modules/es.object.get-own-property-descriptors.js","lib/excalibur/node_modules/core-js/modules/es.object.get-own-property-names.js","lib/excalibur/node_modules/core-js/modules/es.object.get-prototype-of.js","lib/excalibur/node_modules/core-js/internals/same-value.js","lib/excalibur/node_modules/core-js/modules/es.object.is.js","lib/excalibur/node_modules/core-js/modules/es.object.is-extensible.js","lib/excalibur/node_modules/core-js/modules/es.object.is-frozen.js","lib/excalibur/node_modules/core-js/modules/es.object.is-sealed.js","lib/excalibur/node_modules/core-js/modules/es.object.keys.js","lib/excalibur/node_modules/core-js/modules/es.object.prevent-extensions.js","lib/excalibur/node_modules/core-js/modules/es.object.seal.js","lib/excalibur/node_modules/core-js/modules/es.object.set-prototype-of.js","lib/excalibur/node_modules/core-js/modules/es.object.values.js","lib/excalibur/node_modules/core-js/internals/object-to-string.js","lib/excalibur/node_modules/core-js/modules/es.object.to-string.js","lib/excalibur/node_modules/core-js/internals/object-prototype-accessors-forced.js","lib/excalibur/node_modules/core-js/modules/es.object.define-getter.js","lib/excalibur/node_modules/core-js/modules/es.object.define-setter.js","lib/excalibur/node_modules/core-js/modules/es.object.lookup-getter.js","lib/excalibur/node_modules/core-js/modules/es.object.lookup-setter.js","lib/excalibur/node_modules/core-js/modules/es.json.to-string-tag.js","lib/excalibur/node_modules/core-js/modules/es.math.to-string-tag.js","lib/excalibur/node_modules/core-js/modules/es.reflect.to-string-tag.js","lib/excalibur/node_modules/core-js/es/object/index.js","lib/excalibur/node_modules/core-js/internals/function-bind.js","lib/excalibur/node_modules/core-js/modules/es.function.bind.js","lib/excalibur/node_modules/core-js/modules/es.function.name.js","lib/excalibur/node_modules/core-js/modules/es.function.has-instance.js","lib/excalibur/node_modules/core-js/es/function/index.js","../../src/engine/Polyfill.ts","../../src/engine/Flags.ts","../../../src/engine/Util/Log.ts","../../../src/engine/Math/Random.ts","../../../src/engine/Collision/Side.ts","../../../src/engine/Util/Util.ts","../../../src/engine/Util/Decorators.ts","../../src/engine/Algebra.ts","../../../src/engine/Collision/CollisionType.ts","../../src/engine/Physics.ts","../../src/engine/Events.ts","../../../src/engine/Drawing/Color.ts","../../../src/engine/Collision/BoundingBox.ts","../../../src/engine/Collision/CollisionContact.ts","../../../src/engine/Collision/CollisionJumpTable.ts","../../../src/engine/Collision/ClosestLineJumpTable.ts","../../../src/engine/Collision/Circle.ts","../../../src/engine/Collision/Edge.ts","../../../src/engine/Collision/ConvexPolygon.ts","../../../src/engine/Collision/Shape.ts","../../../src/engine/Math/matrix.ts","../../../src/engine/Math/vector-view.ts","../../../src/engine/EntityComponentSystem/Component.ts","../../../../src/engine/EntityComponentSystem/Components/TransformComponent.ts","../../../src/engine/Collision/Body.ts","../../../src/engine/Util/DrawUtil.ts","../../../src/engine/Collision/CollisionGroup.ts","../../src/engine/EventDispatcher.ts","../../../src/engine/Collision/Pair.ts","../../../src/engine/Collision/Collider.ts","../../../src/engine/Collision/CollisionGroupManager.ts","../../../src/engine/Collision/DynamicTree.ts","../../../src/engine/Collision/DynamicTreeCollisionBroadphase.ts","../../../src/engine/Collision/Index.ts","../../src/engine/Screen.ts","../../../src/engine/Resources/Resource.ts","../../../src/engine/Drawing/SpriteEffects.ts","../../src/engine/Configurable.ts","../../../src/engine/Drawing/Sprite.ts","../../../src/engine/Resources/Texture.ts","../../../src/engine/Drawing/Animation.ts","../../../src/engine/Actions/RotationType.ts","../../../src/engine/Actions/Action.ts","../../../src/engine/Util/EasingFunctions.ts","../../../src/engine/Actions/ActionContext.ts","../../../src/engine/Traits/CapturePointer.ts","../../../src/engine/Util/CullingBox.ts","../../../src/engine/Util/Observable.ts","../../src/engine/Class.ts","../../../src/engine/EntityComponentSystem/Entity.ts","../../../src/engine/EntityComponentSystem/EntityManager.ts","../../../src/engine/EntityComponentSystem/Util.ts","../../../src/engine/EntityComponentSystem/System.ts","../../../src/engine/EntityComponentSystem/Query.ts","../../../src/engine/EntityComponentSystem/QueryManager.ts","../../../src/engine/EntityComponentSystem/SystemManager.ts","../../../src/engine/EntityComponentSystem/World.ts","../../../src/engine/EntityComponentSystem/index.ts","../../../src/engine/Traits/OffscreenCulling.ts","../../../src/engine/Traits/TileMapCollisionDetection.ts","../../../src/engine/Traits/Index.ts","../../../src/engine/Drawing/CanvasDrawComponent.ts","../../../src/engine/Graphics/Graphic.ts","../../../src/engine/Graphics/Animation.ts","../../../src/engine/Graphics/GraphicsGroup.ts","../../../src/engine/Graphics/GraphicsComponent.ts","../../../../src/engine/Graphics/Context/webgl-util.ts","../../../src/engine/Util/Watch.ts","../../../../src/engine/Graphics/Context/texture-loader.ts","../../../src/engine/Graphics/Raster.ts","../../../src/engine/Graphics/Rectangle.ts","../../src/engine/Actor.ts","../../../../src/engine/Resources/Sound/AudioContext.ts","../../../src/engine/Util/WebAudio.ts","../../../src/engine/Graphics/Canvas.ts","../../src/engine/Loader.ts","../../../src/engine/Util/Detector.ts","../../src/engine/ScreenElement.ts","../../src/engine/Timer.ts","../../../src/engine/Graphics/ImageSource.ts","../../../src/engine/Graphics/Sprite.ts","../../../src/engine/Graphics/SpriteSheet.ts","../../../src/engine/Graphics/GraphicsDiagnostics.ts","../../../src/engine/Graphics/GraphicsSystem.ts","../../../src/engine/Graphics/Circle.ts","../../../src/engine/Graphics/Polygon.ts","../../../src/engine/Graphics/FontCommon.ts","../../../src/engine/Graphics/Font.ts","../../../src/engine/Graphics/Text.ts","../../../src/engine/Graphics/SpriteFont.ts","../../../../src/engine/Graphics/Context/state-stack.ts","../../../../src/engine/Graphics/Context/ExcaliburGraphicsContext2DCanvas.ts","../../../../src/engine/Graphics/Context/transform-stack.ts","../../../../src/engine/Graphics/Context/shader.ts","lib/excalibur/build/dist/Graphics/Context/shaders/line-vertex.glsl","lib/excalibur/build/dist/Graphics/Context/shaders/line-fragment.glsl","../../../../src/engine/Graphics/Context/batch.ts","../../../src/engine/Util/Pool.ts","../../../../src/engine/Graphics/Context/renderer.ts","../../../../src/engine/Graphics/Context/line-renderer.ts","lib/excalibur/build/dist/Graphics/Context/shaders/image-vertex.glsl","lib/excalibur/build/dist/Graphics/Context/shaders/image-fragment.glsl","../../../../src/engine/Graphics/Context/draw-image-command.ts","../../../../src/engine/Graphics/Context/image-renderer.ts","lib/excalibur/build/dist/Graphics/Context/shaders/point-vertex.glsl","lib/excalibur/build/dist/Graphics/Context/shaders/point-fragment.glsl","../../../../src/engine/Graphics/Context/point-renderer.ts","../../../../src/engine/Graphics/Context/ExcaliburGraphicsContextWebGL.ts","../../../src/engine/Graphics/index.ts","../../../src/engine/Drawing/Polygon.ts","../../../src/engine/Drawing/SpriteSheet.ts","../../../src/engine/Drawing/CanvasDrawingSystem.ts","../../../src/engine/Drawing/Index.ts","../../src/engine/TileMap.ts","../../src/engine/Camera.ts","../../src/engine/Label.ts","../../src/engine/Trigger.ts","../../../src/engine/Util/Actors.ts","../../src/engine/Scene.ts","../../../src/engine/PostProcessing/ColorBlindCorrector.ts","../../../src/engine/PostProcessing/Index.ts","../../src/engine/DebugFlags.ts","../../src/engine/Debug.ts","../../../src/engine/Input/Gamepad.ts","../../../src/engine/Input/Pointer.ts","../../../src/engine/Input/PointerEvents.ts","../../../src/engine/Input/Pointers.ts","../../../src/engine/Input/Keyboard.ts","../../../src/engine/Input/Index.ts","../../../src/engine/Util/Browser.ts","../../src/engine/Engine.ts","../../../src/engine/Events/MediaEvents.ts","../../src/engine/Particles.ts","../../../src/engine/Actions/Index.ts","../../../src/engine/Interfaces/AudioImplementation.ts","../../../src/engine/Interfaces/LifecycleEvents.ts","../../../src/engine/Interfaces/Index.ts","../../../src/engine/Math/PerlinNoise.ts","../../../src/engine/Math/Index.ts","../../../../src/engine/Resources/Sound/WebAudioInstance.ts","../../../src/engine/Util/Sound.ts","../../../../src/engine/Resources/Sound/Sound.ts","../../../../src/engine/Resources/Sound/Index.ts","../../../src/engine/Resources/Gif.ts","../../../src/engine/Resources/Index.ts","../../../src/engine/Util/Index.ts","../../../src/engine/Util/SortedList.ts","../../src/engine/Promises.ts","../../src/engine/index.ts","../src/dat/index.js","../src/dat/color/toString.js","../src/dat/utils/common.js","../src/dat/color/interpret.js","../src/dat/color/math.js","../src/dat/color/Color.js","../src/dat/controllers/Controller.js","../src/dat/dom/dom.js","../src/dat/controllers/BooleanController.js","../src/dat/controllers/OptionController.js","../src/dat/controllers/StringController.js","../src/dat/controllers/NumberController.js","../src/dat/controllers/NumberControllerBox.js","../src/dat/controllers/NumberControllerSlider.js","../src/dat/controllers/FunctionController.js","../src/dat/controllers/ColorController.js","../src/dat/utils/css.js","../src/dat/gui/saveDialogue.html.js","../src/dat/controllers/ControllerFactory.js","../src/dat/utils/requestAnimationFrame.js","../src/dat/dom/CenteredDiv.js","../src/dat/gui/GUI.js","src/resources.ts","src/config.ts","src/playerTrail.ts","src/terrain.ts","src/globalState.ts","src/effects.ts","src/player.ts","src/every.ts","src/snek.ts","src/dialogueCard.ts","src/gameOver.ts","src/powerup.ts","src/background.ts","src/weightmap.ts","src/progress-meter.ts","src/level.ts","src/index.ts"],"names":["module","exports","color","forceCSSHex","colorFormat","__state","conversionName","toString","r","Math","round","g","b","a","h","s","toFixed","v","str","hex","length","ARR_EACH","Array","prototype","forEach","ARR_SLICE","slice","Common","target","each","call","arguments","obj","isObject","Object","keys","key","isUndefined","bind","toCall","args","i","apply","itr","scope","l","BREAK","fnc","func","threshold","callImmediately","timeout","callNow","setTimeout","delayed","toArray","undefined","isNaN","isArray","constructor","Function","INTERPRETATIONS","common","isString","original","test","match","parseInt","parseFloat","isNumber","result","toReturn","interpret","family","litmus","conversions","conversion","read","tmpComponent","ColorMath","hi","floor","f","p","q","t","c","min","max","delta","NaN","hex_with_component","componentIndex","value","Color","Error","colorToString","write","defineRGBComponent","component","componentHexIndex","defineProperty","space","recalculateRGB","defineHSVComponent","recalculateHSV","math","component_from_hex","extend","hsv_to_rgb","rgb_to_hsv","COMPONENTS","rgb_to_hex","Controller","object","property","initialValue","domElement","document","createElement","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP","EVENT_MAP_INV","k","e","CSS_VALUE_PIXELS","cssValueToPixels","val","isNull","dom","elem","selectable","style","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","hor","vert","vertical","horizontal","position","left","right","top","bottom","eventType","pars","aux","params","className","evt","createEvent","clientX","x","clientY","y","initMouseEvent","bubbles","cancelable","window","clickCount","init","initKeyboardEvent","initKeyEvent","defaults","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","addEventListener","attachEvent","removeEventListener","detachEvent","classes","split","indexOf","push","join","replace","removeAttribute","index","splice","RegExp","getComputedStyle","width","height","el","offset","offsetParent","offsetLeft","offsetTop","activeElement","type","href","BooleanController","_this","__prev","__checkbox","setAttribute","onChange","setValue","appendChild","checked","OptionController","opts","options","__select","map","element","opt","innerHTML","desiredValue","selectedIndex","isActive","StringController","__input","onBlur","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","pow","log","abs","LN10","__precision","_v","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","onMouseUp","unbind","attempted","onMouseDown","i1","i2","o1","o2","NumberControllerSlider","preventDefault","bgRect","__background","getBoundingClientRect","onTouchMove","touches","onTouchEnd","__foreground","onTouchStart","addClass","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","makeSelectable","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","removeClass","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","mismatch","flip","_flip","toHexString","marginTop","vendors","linearGradient","background","vendor","cssText","hueGradient","css","url","indoc","doc","link","rel","getElementsByTagName","cssContent","injected","head","saveDialogContents","ControllerFactory","isFunction","isBoolean","requestAnimationFrame","callback","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","makeFullscreen","body","hide","display","opacity","webkitTransform","layout","defer","innerWidth","getWidth","innerHeight","getHeight","inject","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","DEFAULT_WIDTH","autoPlace","load","preset","parent","hideable","resizable","scrollable","useLocalStorage","root","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","defineProperties","closeOnTop","getRoot","revert","name","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","stringify","getSaveObject","saveToLocalStorageIfPossible","gui","newDom","liBefore","li","removeListeners","markPresetModified","modified","__preset_select","augmentController","controller","__li","__gui","nextSibling","nextElementSibling","add","remove","firstElementChild","listen","box","method","pc","pb","returned","oldName","wasListening","newController","compose","fakeEvent","stopPropagation","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","remembered","presetMap","factoryArgs","concat","before","container","CLASS_CONTROLLER_ROW","location","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","__save_row","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","newConstructorTextArea","which","show","focus","save","presetName","prompt","saveAs","addResizeHandle","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","setWidth","w","getCurrentPreset","useInitialValues","savedValues","setPresetSelectIndex","updateDisplays","controllerArray","toggleHide","CLASS_TOO_TALL","_keydownHandler","removeChild","subfolder","removeFolder","newGuiParams","folders","folder","parentElement","getOffset","node","offsetHeight","debounce","saveDialogueContents","controllers","domImport","GUIImport"],"mappings":"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EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA7jBH,SAAS,EAAM,EAAc,EAAW,GAC/B,OAAA,EAAI,GAAQ,EAAI,GAQzB,SAAS,EAAM,GACN,OAAA,EAAI,EAAI,GAAK,GAAS,EAAJ,EAAQ,IAAM,IAqC5B,IAAA,EAAA,WAqSC,SAAA,EAAA,GAAuB,EAAA,KAAA,GApS3B,KAAA,MAAkB,CACxB,IACA,IACA,IACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,GACA,IACA,IACA,EACA,IACA,IACA,GACA,IACA,GACA,GACA,IACA,EACA,GACA,GACA,IACA,GACA,GACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,GACA,EACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,EACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IAC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","file":"src.5223bb85.js","sourceRoot":"..","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = false;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.10.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // eslint-disable-next-line es/no-symbol -- required for testing\n  return !Symbol.sham &&\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    (IS_NODE ? V8_VERSION === 38 : V8_VERSION > 37 && V8_VERSION < 41);\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","module.exports = {};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.es/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar createProperty = require('../internals/create-property');\n\nvar ISNT_GENERIC = fails(function () {\n  function F() { /* empty */ }\n  // eslint-disable-next-line es/no-array-of -- required for testing\n  return !(Array.of.call(F) instanceof F);\n});\n\n// `Array.of` method\n// https://tc39.es/ecma262/#sec-array.of\n// WebKit Array.of isn't generic\n$({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {\n  of: function of(/* ...args */) {\n    var index = 0;\n    var argumentsLength = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(argumentsLength);\n    while (argumentsLength > index) createProperty(result, index, arguments[index++]);\n    result.length = argumentsLength;\n    return result;\n  }\n});\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.copywithin\n// eslint-disable-next-line es/no-array-prototype-copywithin -- safe\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var $ = require('../internals/export');\nvar copyWithin = require('../internals/array-copy-within');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.copyWithin` method\n// https://tc39.es/ecma262/#sec-array.prototype.copywithin\n$({ target: 'Array', proto: true }, {\n  copyWithin: copyWithin\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('copyWithin');\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\n\n// `Array.prototype.every` method\n// https://tc39.es/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-array.prototype.flatmap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\n/* eslint-disable es/no-array-prototype-lastindexof -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar min = Math.min;\nvar $lastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return $lastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : $lastIndexOf;\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\n// eslint-disable-next-line es/no-array-prototype-lastindexof -- required for testing\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduceRight = require('../internals/array-reduce').right;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduceRight');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduceRight` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduceright\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign -- dirty hack\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\n\n// `Array.prototype.some` method\n// https://tc39.es/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var setSpecies = require('../internals/set-species');\n\n// `Array[@@species]` getter\n// https://tc39.es/ecma262/#sec-get-array-@@species\nsetSpecies('Array');\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flatMap');\n","require('../../modules/es.string.iterator');\nrequire('../../modules/es.array.from');\nrequire('../../modules/es.array.is-array');\nrequire('../../modules/es.array.of');\nrequire('../../modules/es.array.concat');\nrequire('../../modules/es.array.copy-within');\nrequire('../../modules/es.array.every');\nrequire('../../modules/es.array.fill');\nrequire('../../modules/es.array.filter');\nrequire('../../modules/es.array.find');\nrequire('../../modules/es.array.find-index');\nrequire('../../modules/es.array.flat');\nrequire('../../modules/es.array.flat-map');\nrequire('../../modules/es.array.for-each');\nrequire('../../modules/es.array.includes');\nrequire('../../modules/es.array.index-of');\nrequire('../../modules/es.array.iterator');\nrequire('../../modules/es.array.join');\nrequire('../../modules/es.array.last-index-of');\nrequire('../../modules/es.array.map');\nrequire('../../modules/es.array.reduce');\nrequire('../../modules/es.array.reduce-right');\nrequire('../../modules/es.array.reverse');\nrequire('../../modules/es.array.slice');\nrequire('../../modules/es.array.some');\nrequire('../../modules/es.array.sort');\nrequire('../../modules/es.array.species');\nrequire('../../modules/es.array.splice');\nrequire('../../modules/es.array.unscopables.flat');\nrequire('../../modules/es.array.unscopables.flat-map');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array;\n","/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\n// eslint-disable-next-line es/no-object-freeze -- safe\nvar $freeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { $freeze(1); });\n\n// `Object.freeze` method\n// https://tc39.es/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(onFreeze(it)) : it;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\n// eslint-disable-next-line es/no-object-getownpropertynames -- required for testing\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: getOwnPropertyNames\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.es/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar $isExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { $isExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.es/ecma262/#sec-object.isextensible\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isExtensible: function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\n// eslint-disable-next-line es/no-object-isfrozen -- safe\nvar $isFrozen = Object.isFrozen;\nvar FAILS_ON_PRIMITIVES = fails(function () { $isFrozen(1); });\n\n// `Object.isFrozen` method\n// https://tc39.es/ecma262/#sec-object.isfrozen\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isFrozen: function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\n// eslint-disable-next-line es/no-object-issealed -- safe\nvar $isSealed = Object.isSealed;\nvar FAILS_ON_PRIMITIVES = fails(function () { $isSealed(1); });\n\n// `Object.isSealed` method\n// https://tc39.es/ecma262/#sec-object.issealed\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isSealed: function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-preventextensions -- safe\nvar $preventExtensions = Object.preventExtensions;\nvar FAILS_ON_PRIMITIVES = fails(function () { $preventExtensions(1); });\n\n// `Object.preventExtensions` method\n// https://tc39.es/ecma262/#sec-object.preventextensions\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-seal -- safe\nvar $seal = Object.seal;\nvar FAILS_ON_PRIMITIVES = fails(function () { $seal(1); });\n\n// `Object.seal` method\n// https://tc39.es/ecma262/#sec-object.seal\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  seal: function seal(it) {\n    return $seal && isObject(it) ? $seal(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\n\n// Forced replacement object prototype accessors methods\nmodule.exports = IS_PURE || !fails(function () {\n  var key = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call -- required for testing\n  __defineSetter__.call(null, key, function () { /* empty */ });\n  delete global[key];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineGetter__` method\n// https://tc39.es/ecma262/#sec-object.prototype.__defineGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineGetter__: function __defineGetter__(P, getter) {\n      definePropertyModule.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineSetter__` method\n// https://tc39.es/ecma262/#sec-object.prototype.__defineSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineSetter__: function __defineSetter__(P, setter) {\n      definePropertyModule.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupGetter__` method\n// https://tc39.es/ecma262/#sec-object.prototype.__lookupGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupGetter__: function __lookupGetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.get;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupSetter__` method\n// https://tc39.es/ecma262/#sec-object.prototype.__lookupSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupSetter__: function __lookupSetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.set;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n$({ global: true }, { Reflect: {} });\n\n// Reflect[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-reflect-@@tostringtag\nsetToStringTag(global.Reflect, 'Reflect', true);\n","require('../../modules/es.symbol');\nrequire('../../modules/es.object.assign');\nrequire('../../modules/es.object.create');\nrequire('../../modules/es.object.define-property');\nrequire('../../modules/es.object.define-properties');\nrequire('../../modules/es.object.entries');\nrequire('../../modules/es.object.freeze');\nrequire('../../modules/es.object.from-entries');\nrequire('../../modules/es.object.get-own-property-descriptor');\nrequire('../../modules/es.object.get-own-property-descriptors');\nrequire('../../modules/es.object.get-own-property-names');\nrequire('../../modules/es.object.get-prototype-of');\nrequire('../../modules/es.object.is');\nrequire('../../modules/es.object.is-extensible');\nrequire('../../modules/es.object.is-frozen');\nrequire('../../modules/es.object.is-sealed');\nrequire('../../modules/es.object.keys');\nrequire('../../modules/es.object.prevent-extensions');\nrequire('../../modules/es.object.seal');\nrequire('../../modules/es.object.set-prototype-of');\nrequire('../../modules/es.object.values');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.object.define-getter');\nrequire('../../modules/es.object.define-setter');\nrequire('../../modules/es.object.lookup-getter');\nrequire('../../modules/es.object.lookup-setter');\nrequire('../../modules/es.json.to-string-tag');\nrequire('../../modules/es.math.to-string-tag');\nrequire('../../modules/es.reflect.to-string-tag');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object;\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func -- we have no proper alternatives, IE8- only\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.es/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar HAS_INSTANCE = wellKnownSymbol('hasInstance');\nvar FunctionPrototype = Function.prototype;\n\n// `Function.prototype[@@hasInstance]` method\n// https://tc39.es/ecma262/#sec-function.prototype-@@hasinstance\nif (!(HAS_INSTANCE in FunctionPrototype)) {\n  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: function (O) {\n    if (typeof this != 'function' || !isObject(O)) return false;\n    if (!isObject(this.prototype)) return O instanceof this;\n    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n    while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n    return false;\n  } });\n}\n","require('../../modules/es.function.bind');\nrequire('../../modules/es.function.name');\nrequire('../../modules/es.function.has-instance');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Function;\n","import 'core-js/es/array';\nimport 'core-js/es/object';\nimport 'core-js/es/function';\n\n/**\n * Polyfill adding function\n */\nexport function polyfill() {\n  /* istanbul ignore next */\n  if (typeof window === 'undefined') {\n    window = <any>{\n      audioContext: function () {\n        return;\n      }\n    };\n  }\n  /* istanbul ignore next */\n  if (typeof window !== 'undefined' && !window.requestAnimationFrame) {\n    (<any>window).requestAnimationFrame =\n      (<any>window).webkitRequestAnimationFrame ||\n      (<any>window).mozRequestAnimationFrame ||\n      function (callback: Function) {\n        window.setInterval(callback, 1000 / 60);\n      };\n  }\n  /* istanbul ignore next */\n  if (typeof window !== 'undefined' && !window.cancelAnimationFrame) {\n    (<any>window).cancelAnimationFrame =\n      (<any>window).webkitCancelAnimationFrame ||\n      (<any>window).mozCancelAnimationFrame ||\n      function () {\n        return;\n      };\n  }\n  /* istanbul ignore next */\n  if (typeof window !== 'undefined' && !(<any>window).AudioContext) {\n    (<any>window).AudioContext =\n      (<any>window).AudioContext ||\n      (<any>window).webkitAudioContext ||\n      (<any>window).mozAudioContext ||\n      (<any>window).msAudioContext ||\n      (<any>window).oAudioContext;\n  }\n\n  /* istanbul ignore next */\n  if (typeof window !== 'undefined' && !(<any>window).devicePixelRatio) {\n    (<any>window).devicePixelRatio = window.devicePixelRatio || 1;\n  }\n}\n","\n/**\n * Features in preview\n */\nexport enum Experiments {\n  WebGL = 'use-webgl'\n}\n\n/**\n * Legacy features that will go away\n */\nexport enum Legacy {\n  LegacyDrawing= 'use-legacy-drawing'\n}\n\n/**\n * Flags is a feature flag implementation for Excalibur. They can only be operated **before [[Engine]] construction**\n * after which they are frozen and are read-only.\n *\n * Flags are used to enable experimental or preview features in Excalibur.\n */\nexport class Flags {\n  private static _FROZEN = false;\n  private static _FLAGS: Record<string, boolean> = {};\n\n  /**\n   * Freeze all flag modifications making them readonly\n   */\n  public static freeze() {\n    Flags._FROZEN = true;\n  }\n\n  /**\n   * Resets internal flag state, not meant to be called by users. Only used for testing.\n   *\n   * Calling this in your game is UNSUPPORTED\n   * @internal\n   */\n  public static _reset() {\n    Flags._FROZEN = false;\n    Flags._FLAGS = {};\n  }\n\n  /**\n   * Enable a specific feature flag by name. **Note: can only be set before [[Engine]] constructor time**\n   * @param flagName\n   */\n  public static enable(flagName: string): void {\n    if (this._FROZEN) {\n      throw Error('Feature flags can only be enabled before Engine constructor time');\n    }\n    Flags._FLAGS[flagName] = true;\n  }\n\n  /**\n   * Disable a specific feature flag by name. **Note: can only be set before [[Engine]] constructor time**\n   * @param flagName\n   */\n  public static disable(flagName: string): void {\n    if (this._FROZEN) {\n      throw Error('Feature flags can only be disabled before Engine constructor time');\n    }\n    Flags._FLAGS[flagName] = false;\n  }\n\n  /**\n   * Check if a flag is enabled. If the flag is disabled or does not exist `false` is returned\n   * @param flagName\n   */\n  public static isEnabled(flagName: string): boolean {\n    return !!Flags._FLAGS[flagName];\n  }\n\n  /**\n   * Show a list of currently known flags\n   */\n  public static show(): string[] {\n    return Object.keys(Flags._FLAGS);\n  }\n}\n","/* eslint-disable no-console */\n/**\n * Logging level that Excalibur will tag\n */\nexport enum LogLevel {\n  Debug,\n  Info,\n  Warn,\n  Error,\n  Fatal\n}\n\n/**\n * Static singleton that represents the logging facility for Excalibur.\n * Excalibur comes built-in with a [[ConsoleAppender]] and [[ScreenAppender]].\n * Derive from [[Appender]] to create your own logging appenders.\n */\nexport class Logger {\n  private static _INSTANCE: Logger = null;\n  private _appenders: Appender[] = [];\n\n  constructor() {\n    if (Logger._INSTANCE) {\n      throw new Error('Logger is a singleton');\n    }\n    Logger._INSTANCE = this;\n    // Default console appender\n    Logger._INSTANCE.addAppender(new ConsoleAppender());\n    return Logger._INSTANCE;\n  }\n\n  /**\n   * Gets or sets the default logging level. Excalibur will only log\n   * messages if equal to or above this level. Default: [[LogLevel.Info]]\n   */\n  public defaultLevel: LogLevel = LogLevel.Info;\n\n  /**\n   * Gets the current static instance of Logger\n   */\n  public static getInstance(): Logger {\n    if (Logger._INSTANCE == null) {\n      Logger._INSTANCE = new Logger();\n    }\n    return Logger._INSTANCE;\n  }\n\n  /**\n   * Adds a new [[Appender]] to the list of appenders to write to\n   */\n  public addAppender(appender: Appender): void {\n    this._appenders.push(appender);\n  }\n\n  /**\n   * Clears all appenders from the logger\n   */\n  public clearAppenders(): void {\n    this._appenders.length = 0;\n  }\n\n  /**\n   * Logs a message at a given LogLevel\n   * @param level  The LogLevel`to log the message at\n   * @param args   An array of arguments to write to an appender\n   */\n  private _log(level: LogLevel, args: any[]): void {\n    if (level == null) {\n      level = this.defaultLevel;\n    }\n\n    const len = this._appenders.length;\n\n    for (let i = 0; i < len; i++) {\n      if (level >= this.defaultLevel) {\n        this._appenders[i].log(level, args);\n      }\n    }\n  }\n\n  /**\n   * Writes a log message at the [[LogLevel.Debug]] level\n   * @param args  Accepts any number of arguments\n   */\n  public debug(...args: any[]): void {\n    this._log(LogLevel.Debug, args);\n  }\n\n  /**\n   * Writes a log message at the [[LogLevel.Info]] level\n   * @param args  Accepts any number of arguments\n   */\n  public info(...args: any[]): void {\n    this._log(LogLevel.Info, args);\n  }\n\n  /**\n   * Writes a log message at the [[LogLevel.Warn]] level\n   * @param args  Accepts any number of arguments\n   */\n  public warn(...args: any[]): void {\n    this._log(LogLevel.Warn, args);\n  }\n\n  /**\n   * Writes a log message at the [[LogLevel.Error]] level\n   * @param args  Accepts any number of arguments\n   */\n  public error(...args: any[]): void {\n    this._log(LogLevel.Error, args);\n  }\n\n  /**\n   * Writes a log message at the [[LogLevel.Fatal]] level\n   * @param args  Accepts any number of arguments\n   */\n  public fatal(...args: any[]): void {\n    this._log(LogLevel.Fatal, args);\n  }\n}\n\n/**\n * Contract for any log appender (such as console/screen)\n */\nexport interface Appender {\n  /**\n   * Logs a message at the given [[LogLevel]]\n   * @param level  Level to log at\n   * @param args   Arguments to log\n   */\n  log(level: LogLevel, args: any[]): void;\n}\n\n/**\n * Console appender for browsers (i.e. `console.log`)\n */\nexport class ConsoleAppender implements Appender {\n  /**\n   * Logs a message at the given [[LogLevel]]\n   * @param level  Level to log at\n   * @param args   Arguments to log\n   */\n  public log(level: LogLevel, args: any[]): void {\n    // Check for console support\n    if (!console && !console.log && console.warn && console.error) {\n      // todo maybe do something better than nothing\n      return;\n    }\n\n    // Create a new console args array\n    const consoleArgs: any[] = [];\n    consoleArgs.unshift.apply(consoleArgs, args);\n    consoleArgs.unshift('[' + LogLevel[level] + '] : ');\n\n    if (level < LogLevel.Warn) {\n      // Call .log for Debug/Info\n      if (console.log.apply) {\n        // this is required on some older browsers that don't support apply on console.log :(\n        console.log.apply(console, consoleArgs);\n      } else {\n        console.log(consoleArgs.join(' '));\n      }\n    } else if (level < LogLevel.Error) {\n      // Call .warn for Warn\n      if (console.warn.apply) {\n        console.warn.apply(console, consoleArgs);\n      } else {\n        console.warn(consoleArgs.join(' '));\n      }\n    } else {\n      // Call .error for Error/Fatal\n      if (console.error.apply) {\n        console.error.apply(console, consoleArgs);\n      } else {\n        console.error(consoleArgs.join(' '));\n      }\n    }\n  }\n}\n\n/**\n * On-screen (canvas) appender\n */\nexport class ScreenAppender implements Appender {\n  // @todo Clean this up\n\n  private _messages: string[] = [];\n  private _canvas: HTMLCanvasElement;\n  private _ctx: CanvasRenderingContext2D;\n\n  /**\n   * @param width   Width of the screen appender in pixels\n   * @param height  Height of the screen appender in pixels\n   */\n  constructor(width?: number, height?: number) {\n    this._canvas = <HTMLCanvasElement>document.createElement('canvas');\n    this._canvas.width = width || window.innerWidth;\n    this._canvas.height = height || window.innerHeight;\n    this._canvas.style.position = 'absolute';\n    // eslint-disable-next-line\n    this._ctx = <CanvasRenderingContext2D>this._canvas.getContext('2d'); // eslint-disable-line\n    document.body.appendChild(this._canvas);\n  }\n\n  /**\n   * Logs a message at the given [[LogLevel]]\n   * @param level  Level to log at\n   * @param args   Arguments to log\n   */\n  public log(level: LogLevel, args: any[]): void {\n    const message = args.join(',');\n\n    this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n\n    this._messages.unshift('[' + LogLevel[level] + '] : ' + message);\n\n    let pos = 10;\n    let opacity = 1.0;\n    for (let i = 0; i < this._messages.length; i++) {\n      this._ctx.fillStyle = 'rgba(255,255,255,' + opacity.toFixed(2) + ')';\n      this._ctx.fillText(this._messages[i], 200, pos);\n      pos += 10;\n      opacity = opacity > 0 ? opacity - 0.05 : 0;\n    }\n  }\n}\n","/**\n * Pseudo-Random Utility\n *\n * A pseudo-random utility to add seeded random support for help in\n * generating things like terrain or reproducible randomness. Uses the\n * [Mersenne Twister](https://en.wikipedia.org/wiki/Mersenne_Twister) algorithm.\n */\n\n/**\n * 32-bit mask\n */\nconst BITMASK32: number = 0xffffffff;\n\n/**\n * Pseudo-random number generator following the Mersenne_Twister algorithm. Given a seed this generator will produce the same sequence\n * of numbers each time it is called.\n * See https://en.wikipedia.org/wiki/Mersenne_Twister for more details.\n * Uses the MT19937-32 (2002) implementation documented here http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/emt19937ar.html\n *\n * Api inspired by http://chancejs.com/# https://github.com/chancejs/chancejs\n */\nexport class Random {\n  // Separation point of one one word, the number of bits in the lower bitmask 0 <= r <= w-1\n  private _lowerMask: number = 0x7fffffff; // 31 bits same as _r\n  private _upperMask: number = 0x80000000; // 34 high bits\n\n  // Word size, 64 bits\n  private _w: number = 32;\n\n  // Degree of recurrence\n  private _n: number = 624;\n\n  // Middle word, an offset used in the recurrence defining the series x, 1<=m<n\n  private _m: number = 397;\n  // coefficients of teh rational normal form twist matrix\n  private _a: number = 0x9908b0df;\n\n  // tempering bit shifts and masks\n  private _u: number = 11;\n  private _s: number = 7;\n  private _b: number = 0x9d2c5680;\n  private _t: number = 15;\n  private _c: number = 0xefc60000;\n  private _l: number = 18;\n  private _f: number = 1812433253;\n\n  private _mt: number[];\n\n  private _index: number;\n\n  /**\n   * If no seed is specified, the Date.now() is used\n   */\n  constructor(public seed?: number) {\n    this._mt = new Array<number>(this._n);\n    // need to mask to support higher bit machines\n    this._mt[0] = (seed || Date.now()) >>> 0;\n\n    for (let i = 1; i < this._n; i++) {\n      const s = this._mt[i - 1] ^ (this._mt[i - 1] >>> (this._w - 2));\n      // numbers are bigger than the JS max safe int, add in 16-bit chunks to prevent IEEE rounding errors on high bits\n      this._mt[i] = (((this._f * ((s & 0xffff0000) >>> 16)) << 16) + this._f * (s & 0xffff) + i) >>> 0;\n    }\n    this._index = this._n;\n  }\n\n  /**\n   * Apply the twist\n   */\n  private _twist(): void {\n    const mag01 = [0x0, this._a];\n    let y = 0,\n      i = 0;\n    for (; i < this._n - this._m; i++) {\n      y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n      this._mt[i] = this._mt[i + this._m] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n    }\n    for (; i < this._n - 1; i++) {\n      y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n      this._mt[i] = this._mt[i + (this._m - this._n)] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n    }\n    y = (this._mt[this._n - 1] & this._upperMask) | (this._mt[0] & this._lowerMask);\n    this._mt[this._n - 1] = this._mt[this._m - 1] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n\n    this._index = 0;\n  }\n\n  /**\n   * Return next 32 bit integer number in sequence\n   */\n  public nextInt(): number {\n    if (this._index >= this._n) {\n      this._twist();\n    }\n\n    let y = this._mt[this._index++];\n\n    y ^= y >>> this._u;\n    y ^= (y << this._s) & this._b;\n    y ^= (y << this._t) & this._c;\n    y ^= y >>> this._l;\n\n    return y >>> 0;\n  }\n\n  /**\n   * Return a random floating point number between [0, 1)\n   */\n  public next(): number {\n    return this.nextInt() * (1.0 / 4294967296.0); // divided by 2^32\n  }\n\n  /**\n   * Return a random floating point in range [min, max) min is included, max is not included\n   */\n  public floating(min: number, max: number): number {\n    return (max - min) * this.next() + min;\n  }\n\n  /**\n   * Return a random integer in range [min, max] min is included, max is included.\n   * Implemented with rejection sampling, see https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.i13tdiu5a\n   */\n  public integer(min: number, max: number): number {\n    return Math.floor((max - min + 1) * this.next() + min);\n  }\n\n  /**\n   * Returns true or false randomly with 50/50 odds by default.\n   * By default the likelihood of returning a true is .5 (50%).\n   * @param likelihood takes values between [0, 1]\n   */\n  public bool(likelihood: number = 0.5): boolean {\n    return this.next() <= likelihood;\n  }\n\n  /**\n   * Returns one element from an array at random\n   */\n  public pickOne<T>(array: Array<T>): T {\n    return array[this.integer(0, array.length - 1)];\n  }\n\n  /**\n   * Returns a new array random picking elements from the original\n   * @param array Original array to pick from\n   * @param numPicks can be any positive number\n   * @param allowDuplicates indicates whether the returned set is allowed duplicates (it does not mean there will always be duplicates\n   * just that it is possible)\n   */\n  public pickSet<T>(array: Array<T>, numPicks: number, allowDuplicates: boolean = false): Array<T> {\n    if (allowDuplicates) {\n      return this._pickSetWithDuplicates(array, numPicks);\n    } else {\n      return this._pickSetWithoutDuplicates(array, numPicks);\n    }\n  }\n\n  /**\n   * Returns a new array randomly picking elements in the original (not reused)\n   * @param array Array to pick elements out of\n   * @param numPicks must be less than or equal to the number of elements in the array.\n   */\n  private _pickSetWithoutDuplicates<T>(array: Array<T>, numPicks: number): Array<T> {\n    if (numPicks > array.length || numPicks < 0) {\n      throw new Error('Invalid number of elements to pick, must pick a value 0 < n <= length');\n    }\n    if (numPicks === array.length) {\n      return array;\n    }\n\n    const result: Array<T> = new Array<T>(numPicks);\n    let currentPick = 0;\n    const tempArray = array.slice(0);\n    while (currentPick < numPicks) {\n      const index = this.integer(0, tempArray.length - 1);\n      result[currentPick++] = tempArray[index];\n      tempArray.splice(index, 1);\n    }\n\n    return result;\n  }\n\n  /**\n   * Returns a new array random picking elements from the original allowing duplicates\n   * @param array Array to pick elements out of\n   * @param numPicks can be any positive number\n   */\n  private _pickSetWithDuplicates<T>(array: Array<T>, numPicks: number): Array<T> {\n    // Typescript numbers are all floating point, so do we add check for int? (or floor the input?)\n    if (numPicks < 0) {\n      throw new Error('Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT');\n    }\n    const result = new Array<T>(numPicks);\n    for (let i = 0; i < numPicks; i++) {\n      result[i] = this.pickOne(array);\n    }\n    return result;\n  }\n\n  /**\n   * Returns a new array that has its elements shuffled. Using the Fisher/Yates method\n   * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n   */\n  public shuffle<T>(array: Array<T>): Array<T> {\n    const tempArray = array.slice(0);\n    let swap: T = null;\n    for (let i = 0; i < tempArray.length - 2; i++) {\n      const randomIndex = this.integer(i, tempArray.length - 1);\n      swap = tempArray[i];\n      tempArray[i] = tempArray[randomIndex];\n      tempArray[randomIndex] = swap;\n    }\n\n    return tempArray;\n  }\n\n  /**\n   * Generate a list of random integer numbers\n   * @param length the length of the final array\n   * @param min the minimum integer number to generate inclusive\n   * @param max the maximum integer number to generate inclusive\n   */\n  public range(length: number, min: number, max: number): Array<number> {\n    const result: Array<number> = new Array(length);\n    for (let i = 0; i < length; i++) {\n      result[i] = this.integer(min, max);\n    }\n    return result;\n  }\n\n  /**\n   * Returns the result of a d4 dice roll\n   */\n  public d4() {\n    return this.integer(1, 4);\n  }\n\n  /**\n   * Returns the result of a d6 dice roll\n   */\n  public d6() {\n    return this.integer(1, 6);\n  }\n\n  /**\n   * Returns the result of a d8 dice roll\n   */\n  public d8() {\n    return this.integer(1, 8);\n  }\n\n  /**\n   * Returns the result of a d10 dice roll\n   */\n  public d10() {\n    return this.integer(1, 10);\n  }\n\n  /**\n   * Returns the result of a d12 dice roll\n   */\n  public d12() {\n    return this.integer(1, 12);\n  }\n\n  /**\n   * Returns the result of a d20 dice roll\n   */\n  public d20() {\n    return this.integer(1, 20);\n  }\n}\n","/**\n * An enum that describes the sides of an Actor for collision\n */\nexport enum Side {\n  None = 'None',\n  Top = 'Top',\n  Bottom = 'Bottom',\n  Left = 'Left',\n  Right = 'Right'\n}\n","import { Vector } from '../Algebra';\nimport { Random } from '../Math/Random';\nimport { Side } from '../Collision/Side';\n\n/**\n * Two PI constant\n */\nexport const TwoPI: number = Math.PI * 2;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param deep Whether or not to do a deep clone\n * @param target The target object to attach properties on\n * @param objects The objects whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend(deep: boolean, target: any, ...objects: any[]): any;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param target The target object to attach properties on\n * @param object2 The second object whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend<T1, T2>(target: T1, object2: T2): T1 & T2;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param target The target object to attach properties on\n * @param object2 The second object whose properties to merge\n * @param object3 The third object whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend<T1, T2, T3>(target: T1, object2: T2, object3: T3): T1 & T2 & T3;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param target The target object to attach properties on\n * @param objects The objects whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend(target: any, ...objects: any[]): any;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @returns Merged object with properties from other objects\n * @credit https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\n */\nexport function extend() {\n  const extended: { [key: string]: any } = {};\n  let deep = false;\n  let i = 0;\n  const length = arguments.length;\n\n  // Check if a deep merge\n  if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n    deep = arguments[0];\n    i++;\n  }\n\n  // Merge the object into the extended object\n  const assignExists = typeof (<any>Object).assign === 'function';\n  let merge = null;\n  if (!assignExists) {\n    merge = function (obj: any) {\n      for (const prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          // If deep merge and property is an object, merge properties\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n            extended[prop] = extend(true, extended[prop], obj[prop]);\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n  } else {\n    merge = (<any>Object).assign;\n  }\n\n  // Loop through each object and conduct a merge\n  for (; i < length; i++) {\n    const obj = arguments[i];\n    if (!assignExists) {\n      merge(obj);\n    } else {\n      merge(extended, obj);\n    }\n  }\n\n  return extended;\n}\n\n/**\n * Encode a string in base64\n * @deprecated This will be removed in v0.26.0\n */\nexport function base64Encode(inputStr: string) {\n  const b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  let outputStr = '';\n  let i = 0;\n\n  while (i < inputStr.length) {\n    //all three \"& 0xff\" added below are there to fix a known bug\n    //with bytes returned by xhr.responseText\n    const byte1 = inputStr.charCodeAt(i++) & 0xff;\n    const byte2 = inputStr.charCodeAt(i++) & 0xff;\n    const byte3 = inputStr.charCodeAt(i++) & 0xff;\n\n    const enc1 = byte1 >> 2;\n    const enc2 = ((byte1 & 3) << 4) | (byte2 >> 4);\n\n    let enc3, enc4;\n    if (isNaN(byte2)) {\n      enc3 = enc4 = 64;\n    } else {\n      enc3 = ((byte2 & 15) << 2) | (byte3 >> 6);\n      if (isNaN(byte3)) {\n        enc4 = 64;\n      } else {\n        enc4 = byte3 & 63;\n      }\n    }\n\n    outputStr += b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4);\n  }\n\n  return outputStr;\n}\n\n/**\n * Sugar that will use `nullishVal` if it's not null or undefined. Simulates the `??` operator\n * @param nullishVal\n * @param defaultVal\n */\nexport function nullish<T>(nullishVal: T | undefined | null, defaultVal: T): T {\n  return nullishVal !== null && nullishVal !== undefined ? nullishVal : defaultVal;\n}\n\n/**\n * Clamps a value between a min and max inclusive\n */\nexport function clamp(val: number, min: number, max: number) {\n  return Math.min(Math.max(min, val), max);\n}\n\n/**\n * Find a random floating point number in range\n */\nexport function randomInRange(min: number, max: number, random: Random = new Random()): number {\n  return random ? random.floating(min, max) : min + Math.random() * (max - min);\n}\n\n/**\n * Find a random integer in a range\n */\nexport function randomIntInRange(min: number, max: number, random: Random = new Random()): number {\n  return random ? random.integer(min, max) : Math.round(randomInRange(min, max));\n}\n\n/**\n * Convert an angle to be the equivalent in the range [0, 2PI]\n */\nexport function canonicalizeAngle(angle: number): number {\n  let tmpAngle = angle;\n  if (angle > TwoPI) {\n    while (tmpAngle > TwoPI) {\n      tmpAngle -= TwoPI;\n    }\n  }\n\n  if (angle < 0) {\n    while (tmpAngle < 0) {\n      tmpAngle += TwoPI;\n    }\n  }\n  return tmpAngle;\n}\n\n/**\n * Convert radians to degrees\n */\nexport function toDegrees(radians: number): number {\n  return (180 / Math.PI) * radians;\n}\n\n/**\n * Convert degrees to radians\n */\nexport function toRadians(degrees: number): number {\n  return (degrees / 180) * Math.PI;\n}\n\n/**\n * Find the screen position of an HTML element\n */\nexport function getPosition(el: HTMLElement): Vector {\n  let oLeft: number = 0,\n    oTop: number = 0;\n\n  const calcOffsetLeft = (parent: HTMLElement) => {\n    oLeft += parent.offsetLeft;\n\n    if (parent.offsetParent) {\n      calcOffsetLeft(<HTMLElement>parent.offsetParent);\n    }\n  };\n  const calcOffsetTop = (parent: HTMLElement) => {\n    oTop += parent.offsetTop;\n    if (parent.offsetParent) {\n      calcOffsetTop(<HTMLElement>parent.offsetParent);\n    }\n  };\n\n  calcOffsetLeft(el);\n  calcOffsetTop(el);\n\n  return new Vector(oLeft, oTop);\n}\n\n/**\n * Add an item to an array list if it doesn't already exist. Returns true if added, false if not and already exists in the array.\n * @deprecated Will be removed in v0.26.0\n */\nexport function addItemToArray<T>(item: T, array: T[]): boolean {\n  if (array.indexOf(item) === -1) {\n    array.push(item);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Remove an item from an list\n * @deprecated Will be removed in v0.26.0\n */\nexport function removeItemFromArray<T>(item: T, array: T[]): boolean {\n  let index = -1;\n  if ((index = array.indexOf(item)) > -1) {\n    array.splice(index, 1);\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * See if an array contains something\n */\nexport function contains(array: Array<any>, obj: any): boolean {\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Get the opposit side\n * TODO: Move to Side type\n * @deprecated Will be removed in v0.26.0\n */\nexport function getOppositeSide(side: Side) {\n  if (side === Side.Top) {\n    return Side.Bottom;\n  }\n  if (side === Side.Bottom) {\n    return Side.Top;\n  }\n  if (side === Side.Left) {\n    return Side.Right;\n  }\n  if (side === Side.Right) {\n    return Side.Left;\n  }\n\n  return Side.None;\n}\n\n/**\n * Returns the side in the direction of the vector supplied\n * @param direction Vector to check\n * TODO: Move to Side type\n */\nexport function getSideFromDirection(direction: Vector) {\n  const directions = [Vector.Left, Vector.Right, Vector.Up, Vector.Down];\n  const directionEnum = [Side.Left, Side.Right, Side.Top, Side.Bottom];\n\n  let max = -Number.MAX_VALUE;\n  let maxIndex = -1;\n  for (let i = 0; i < directions.length; i++) {\n    if (directions[i].dot(direction) > max) {\n      max = directions[i].dot(direction);\n      maxIndex = i;\n    }\n  }\n  return directionEnum[maxIndex];\n}\n\n/**\n * Excalibur's dynamically resizing collection\n * @deprecated Will be removed v0.26.0\n */\nexport class Collection<T> {\n  /**\n   * Default collection size\n   */\n  public static DefaultSize = 200;\n  private _internalArray: T[] = null;\n  private _endPointer: number = 0;\n\n  /**\n   * @param initialSize  Initial size of the internal backing array\n   */\n  constructor(initialSize: number = Collection.DefaultSize) {\n    this._internalArray = new Array<T>(initialSize);\n  }\n\n  private _resize() {\n    const newSize = this._internalArray.length * 2;\n    const newArray = new Array<T>(newSize);\n    const count = this.count();\n    for (let i = 0; i < count; i++) {\n      newArray[i] = this._internalArray[i];\n    }\n\n    delete this._internalArray;\n    this._internalArray = newArray;\n  }\n\n  /**\n   * Push elements to the end of the collection\n   */\n  public push(element: T): T {\n    if (this._endPointer === this._internalArray.length) {\n      this._resize();\n    }\n    return (this._internalArray[this._endPointer++] = element);\n  }\n\n  /**\n   * Removes elements from the end of the collection\n   */\n  public pop(): T {\n    this._endPointer = this._endPointer - 1 < 0 ? 0 : this._endPointer - 1;\n    return this._internalArray[this._endPointer];\n  }\n\n  /**\n   * Returns the count of the collection\n   */\n  public count(): number {\n    return this._endPointer;\n  }\n\n  /**\n   * Empties the collection\n   */\n  public clear() {\n    this._endPointer = 0;\n  }\n\n  /**\n   * Returns the size of the internal backing array\n   */\n  public internalSize(): number {\n    return this._internalArray.length;\n  }\n\n  /**\n   * Returns an element at a specific index\n   * @param index  Index of element to retrieve\n   */\n  public elementAt(index: number): T {\n    if (index >= this.count()) {\n      //Logger.getInstance().error('Invalid parameter: ' + index);\n      throw new Error('Invalid index ' + index);\n    }\n    return this._internalArray[index];\n  }\n\n  /**\n   * Inserts an element at a specific index\n   * @param index  Index to insert the element\n   * @param value  Element to insert\n   */\n  public insert(index: number, value: T): T {\n    if (index >= this.count()) {\n      this._resize();\n    }\n    return (this._internalArray[index] = value);\n  }\n\n  /**\n   * Removes an element at a specific index\n   * @param index  Index of element to remove\n   */\n  public remove(index: number): T {\n    const count = this.count();\n    if (count === 0) {\n      //Logger.getInstance().error('Invalid parameter: ' + index);\n      throw new Error('Invalid parameter ' + index);\n    }\n    // O(n) Shift\n    const removed = this._internalArray[index];\n    for (let i = index; i < count; i++) {\n      this._internalArray[i] = this._internalArray[i + 1];\n    }\n    this._endPointer--;\n    return removed;\n  }\n\n  /**\n   * Removes an element by reference\n   * @param element  Element to retrieve\n   */\n  public removeElement(element: T) {\n    const index = this._internalArray.indexOf(element);\n    this.remove(index);\n  }\n\n  /**\n   * Returns a array representing the collection\n   */\n  public toArray(): T[] {\n    return this._internalArray.slice(0, this._endPointer);\n  }\n\n  /**\n   * Iterate over every element in the collection\n   * @param func  Callback to call for each element passing a reference to the element and its index, returned values are ignored\n   */\n  public forEach(func: (element: T, index: number) => any) {\n    let i = 0;\n    const count = this.count();\n    for (i; i < count; i++) {\n      func.call(this, this._internalArray[i], i);\n    }\n  }\n\n  /**\n   * Mutate every element in the collection\n   * @param func  Callback to call for each element passing a reference to the element and its index, any values returned mutate\n   * the collection\n   */\n  public map(func: (element: T, index: number) => any) {\n    const count = this.count();\n    for (let i = 0; i < count; i++) {\n      this._internalArray[i] = func.call(this, this._internalArray[i], i);\n    }\n  }\n}\n\n/**\n * Used for exhaustive checks at compile time\n */\nexport function fail(message: never): never {\n  throw new Error(message);\n}\n\n/**\n * Generate a range of numbers\n * @param from inclusive\n * @param to inclusive\n */\nexport const range = (from: number, to: number) => Array.from(new Array(to - from + 1), (_x, i) => i + from);\n\n/**\n * Create a promise that resolves after a certain number of milliseconds\n * @param milliseconds\n */\nexport function delay(milliseconds: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, milliseconds);\n  });\n}\n","import { Flags } from '../Flags';\nimport { Logger } from './Log';\nimport { extend } from './Util';\n\n/**\n * Obsolete decorator options\n */\nexport interface ObsoleteOptions {\n  // Optionally specify a custom message\n  message?: string;\n  // Optionally indicate that an alternate method to the obsolete one exists\n  alternateMethod?: string;\n  // Optional show stack trace, by default off\n  showStackTrace?: boolean;\n}\n\nexport const maxMessages = 5;\nconst obsoleteMessage: { [messageCount: string]: number } = {};\nexport const resetObsoleteCounter = () => {\n  for (const message in obsoleteMessage) {\n    obsoleteMessage[message] = 0;\n  }\n};\n\nconst logMessage = (message: string, options: ObsoleteOptions) => {\n  const suppressObsoleteMessages = Flags.isEnabled('suppress-obsolete-message');\n  if (obsoleteMessage[message] < maxMessages && !suppressObsoleteMessages) {\n    Logger.getInstance().warn(message);\n\n    // tslint:disable-next-line: no-console\n    if (console.trace && options.showStackTrace) {\n      // tslint:disable-next-line: no-console\n      console.trace();\n    }\n  }\n  obsoleteMessage[message]++;\n};\n\n/**\n * Obsolete decorator for marking Excalibur methods obsolete, you can optionally specify a custom message and/or alternate replacement\n * method do the deprecated one. Inspired by https://github.com/jayphelps/core-decorators.js\n */\nexport function obsolete(options?: ObsoleteOptions): any {\n  options = extend(\n    {},\n    {\n      message: 'This feature will be removed in future versions of Excalibur.',\n      alternateMethod: null,\n      showStackTrack: false\n    },\n    options\n  );\n\n  return function (target: any, property: string, descriptor: PropertyDescriptor): any {\n    if (\n      descriptor &&\n      !(typeof descriptor.value === 'function' || typeof descriptor.get === 'function' || typeof descriptor.set === 'function')\n    ) {\n      throw new SyntaxError('Only classes/functions/getters/setters can be marked as obsolete');\n    }\n    const methodSignature = `${target.name || ''}${target.name && property ? '.' : ''}${property ? property : ''}`;\n\n    const message =\n      `${methodSignature} is marked obsolete: ${options.message}` +\n      (options.alternateMethod ? ` Use ${options.alternateMethod} instead` : '');\n\n    if (!obsoleteMessage[message]) {\n      obsoleteMessage[message] = 0;\n    }\n\n    // If descriptor is null it is a class\n    const method = descriptor ? { ...descriptor } : target;\n    if (!descriptor) {\n      // with es2015 classes we need to change our decoration tactic\n      class DecoratedClass extends method {\n        constructor(...args: any) {\n          logMessage(message, options);\n          super(...args);\n        }\n      }\n      return DecoratedClass;\n    }\n\n    if (descriptor && descriptor.value) {\n      method.value = function (this: any) {\n        logMessage(message, options);\n        return descriptor.value.apply(this, arguments);\n      };\n      return method;\n    }\n\n    if (descriptor && descriptor.get) {\n      method.get = function (this: any) {\n        logMessage(message, options);\n        return descriptor.get.apply(this, arguments);\n      };\n    }\n\n    if (descriptor && descriptor.set) {\n      method.set = function (this: any) {\n        logMessage(message, options);\n        return descriptor.set.apply(this, arguments);\n      };\n    }\n    return method;\n  };\n}\n","import { Engine } from './Engine';\nimport { Clonable } from './Interfaces/Clonable';\nimport { obsolete } from './Util/Decorators';\n\n/**\n * A 2D vector on a plane.\n */\nexport class Vector implements Clonable<Vector> {\n  /**\n   * A (0, 0) vector\n   */\n  public static get Zero() {\n    return new Vector(0, 0);\n  }\n\n  /**\n   * A (1, 1) vector\n   */\n  public static get One() {\n    return new Vector(1, 1);\n  }\n\n  /**\n   * A (0.5, 0.5) vector\n   */\n  public static get Half() {\n    return new Vector(0.5, 0.5);\n  }\n\n  /**\n   * A unit vector pointing up (0, -1)\n   */\n  public static get Up() {\n    return new Vector(0, -1);\n  }\n\n  /**\n   * A unit vector pointing down (0, 1)\n   */\n  public static get Down() {\n    return new Vector(0, 1);\n  }\n\n  /**\n   * A unit vector pointing left (-1, 0)\n   */\n  public static get Left() {\n    return new Vector(-1, 0);\n  }\n  /**\n   * A unit vector pointing right (1, 0)\n   */\n  public static get Right() {\n    return new Vector(1, 0);\n  }\n\n  /**\n   * Returns a vector of unit length in the direction of the specified angle in Radians.\n   * @param angle The angle to generate the vector\n   */\n  public static fromAngle(angle: number) {\n    return new Vector(Math.cos(angle), Math.sin(angle));\n  }\n\n  /**\n   * Checks if vector is not null, undefined, or if any of its components are NaN or Infinity.\n   */\n  public static isValid(vec: Vector) {\n    if (vec === null || vec === undefined) {\n      return false;\n    }\n    if (isNaN(vec.x) || isNaN(vec.y)) {\n      return false;\n    }\n\n    if (vec.x === Infinity || vec.y === Infinity || vec.x === -Infinity || vec.y === -Infinity) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Calculates distance between two Vectors\n   * @param vec1\n   * @param vec2\n   */\n  public static distance(vec1: Vector, vec2: Vector) {\n    return Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\n  }\n\n  /**\n   * @param x  X component of the Vector\n   * @param y  Y component of the Vector\n   */\n  constructor(x: number, y: number) {\n    this._x = x;\n    this._y = y;\n  }\n\n  private _x = 0;\n  /**\n   * Get the x component of the vector\n   */\n  public get x(): number {\n    return this._x;\n  }\n\n  /**\n   * Set the x component, THIS MUTATES the current vector. It is usually better to create a new vector.\n   * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\n   */\n  public set x(val: number) {\n    this._x = val;\n  }\n\n  private _y = 0;\n  /**\n   * Get the y component of the vector\n   */\n  public get y(): number {\n    return this._y;\n  }\n\n  /**\n   * Set the y component, THIS MUTATES the current vector. It is usually better to create a new vector.\n   * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\n   */\n  public set y(val: number) {\n    this._y = val;\n  }\n\n  /**\n   * Sets the x and y components at once, THIS MUTATES the current vector. It is usually better to create a new vector.\n   *\n   * @warning **Be very careful using this, mutating vectors can cause hard to find bugs**\n   */\n  setTo(x: number, y: number) {\n    (this.x as number) = x;\n    (this.y as number) = y;\n  }\n\n  /**\n   * Compares this point against another and tests for equality\n   * @param vector The other point to compare to\n   * @param tolerance Amount of euclidean distance off we are willing to tolerate\n   */\n  public equals(vector: Vector, tolerance: number = 0.001): boolean {\n    return Math.abs(this.x - vector.x) <= tolerance && Math.abs(this.y - vector.y) <= tolerance;\n  }\n\n  /**\n   * The distance to another vector. If no other Vector is specified, this will return the [[magnitude]].\n   * @param v  The other vector. Leave blank to use origin vector.\n   */\n  public distance(v?: Vector): number {\n    if (!v) {\n      v = Vector.Zero;\n    }\n    return Math.sqrt(Math.pow(this.x - v.x, 2) + Math.pow(this.y - v.y, 2));\n  }\n\n  /**\n   * The magnitude (size) of the Vector\n   * @obsolete magnitude will be removed in favour of '.size' in version 0.25.0\n   */\n  @obsolete({ message: 'will be removed in favour of `.size` in version 0.25.0' })\n  public magnitude(): number {\n    return this.distance();\n  }\n\n  /**\n   * The size (magnitude) of the Vector\n   */\n  public get size(): number {\n    return this.distance();\n  }\n\n  /**\n   * Setting the size mutates the current vector\n   *\n   * @warning Can be used to set the size of the vector, **be very careful using this, mutating vectors can cause hard to find bugs**\n   */\n  public set size(newLength: number) {\n    const v = this.normalize().scale(newLength);\n    this.setTo(v.x, v.y);\n  }\n\n  /**\n   * Normalizes a vector to have a magnitude of 1.\n   */\n  public normalize(): Vector {\n    const d = this.distance();\n    if (d > 0) {\n      return new Vector(this.x / d, this.y / d);\n    } else {\n      return new Vector(0, 1);\n    }\n  }\n\n  /**\n   * Returns the average (midpoint) between the current point and the specified\n   */\n  public average(vec: Vector): Vector {\n    return this.add(vec).scale(0.5);\n  }\n\n  /**\n   * Scales a vector's by a factor of size\n   * @param size  The factor to scale the magnitude by\n   */\n  public scale(scale: Vector): Vector;\n  public scale(size: number): Vector;\n  public scale(sizeOrScale: number | Vector): Vector {\n    if (sizeOrScale instanceof Vector) {\n      return new Vector(this.x * sizeOrScale.x, this.y * sizeOrScale.y);\n    } else {\n      return new Vector(this.x * sizeOrScale, this.y * sizeOrScale);\n    }\n  }\n\n  /**\n   * Adds one vector to another\n   * @param v The vector to add\n   */\n  public add(v: Vector): Vector {\n    return new Vector(this.x + v.x, this.y + v.y);\n  }\n\n  /**\n   * Subtracts a vector from another, if you subtract vector `B.sub(A)` the resulting vector points from A -> B\n   * @param v The vector to subtract\n   */\n  public sub(v: Vector): Vector {\n    return new Vector(this.x - v.x, this.y - v.y);\n  }\n\n  /**\n   * Adds one vector to this one modifying the original\n   * @param v The vector to add\n   * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n   */\n  public addEqual(v: Vector): Vector {\n    this.setTo(this.x + v.x, this.y + v.y);\n    return this;\n  }\n\n  /**\n   * Subtracts a vector from this one modifying the original\n   * @param v The vector to subtract\n   * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n   */\n  public subEqual(v: Vector): Vector {\n    this.setTo(this.x - v.x, this.y - v.y);\n    return this;\n  }\n\n  /**\n   * Scales this vector by a factor of size and modifies the original\n   * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n   */\n  public scaleEqual(size: number): Vector {\n    this.setTo(this.x * size, this.y * size);\n    return this;\n  }\n\n  /**\n   * Performs a dot product with another vector\n   * @param v  The vector to dot\n   */\n  public dot(v: Vector): number {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  /**\n   * Performs a 2D cross product with scalar. 2D cross products with a scalar return a vector.\n   * @param v  The scalar to cross\n   */\n  public cross(v: number): Vector;\n  /**\n   * Performs a 2D cross product with another vector. 2D cross products return a scalar value not a vector.\n   * @param v  The vector to cross\n   */\n  public cross(v: Vector): number;\n  public cross(v: any): any {\n    if (v instanceof Vector) {\n      return this.x * v.y - this.y * v.x;\n    } else if (typeof v === 'number') {\n      return new Vector(v * this.y, -v * this.x);\n    }\n  }\n\n  /**\n   * Returns the perpendicular vector to this one\n   */\n  public perpendicular(): Vector {\n    return new Vector(this.y, -this.x);\n  }\n\n  /**\n   * Returns the normal vector to this one, same as the perpendicular of length 1\n   */\n  public normal(): Vector {\n    return this.perpendicular().normalize();\n  }\n\n  /**\n   * Negate the current vector\n   */\n  public negate(): Vector {\n    return this.scale(-1);\n  }\n\n  /**\n   * Returns the angle of this vector.\n   */\n  public toAngle(): number {\n    return Math.atan2(this.y, this.x);\n  }\n\n  /**\n   * Rotates the current vector around a point by a certain number of\n   * degrees in radians\n   */\n  public rotate(angle: number, anchor?: Vector): Vector {\n    if (!anchor) {\n      anchor = new Vector(0, 0);\n    }\n    const sinAngle = Math.sin(angle);\n    const cosAngle = Math.cos(angle);\n    const x = cosAngle * (this.x - anchor.x) - sinAngle * (this.y - anchor.y) + anchor.x;\n    const y = sinAngle * (this.x - anchor.x) + cosAngle * (this.y - anchor.y) + anchor.y;\n    return new Vector(x, y);\n  }\n\n  /**\n   * Creates new vector that has the same values as the previous.\n   */\n  public clone(): Vector {\n    return new Vector(this.x, this.y);\n  }\n\n  /**\n   * Returns a string representation of the vector.\n   */\n  public toString(): string {\n    return `(${this.x}, ${this.y})`;\n  }\n}\n\n/**\n * A 2D ray that can be cast into the scene to do collision detection\n */\nexport class Ray {\n  public pos: Vector;\n  public dir: Vector;\n\n  /**\n   * @param pos The starting position for the ray\n   * @param dir The vector indicating the direction of the ray\n   */\n  constructor(pos: Vector, dir: Vector) {\n    this.pos = pos;\n    this.dir = dir.normalize();\n  }\n\n  /**\n   * Tests a whether this ray intersects with a line segment. Returns a number greater than or equal to 0 on success.\n   * This number indicates the mathematical intersection time.\n   * @param line  The line to test\n   */\n  public intersect(line: Line): number {\n    const numerator = line.begin.sub(this.pos);\n\n    // Test is line and ray are parallel and non intersecting\n    if (this.dir.cross(line.getSlope()) === 0 && numerator.cross(this.dir) !== 0) {\n      return -1;\n    }\n\n    // Lines are parallel\n    const divisor = this.dir.cross(line.getSlope());\n    if (divisor === 0) {\n      return -1;\n    }\n\n    const t = numerator.cross(line.getSlope()) / divisor;\n\n    if (t >= 0) {\n      const u = numerator.cross(this.dir) / divisor / line.getLength();\n      if (u >= 0 && u <= 1) {\n        return t;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Returns the point of intersection given the intersection time\n   */\n  public getPoint(time: number): Vector {\n    return this.pos.add(this.dir.scale(time));\n  }\n}\n\n/**\n * A 2D line segment\n */\nexport class Line {\n  /**\n   * @param begin  The starting point of the line segment\n   * @param end  The ending point of the line segment\n   */\n  constructor(public begin: Vector, public end: Vector) {}\n\n  /**\n   * Gets the raw slope (m) of the line. Will return (+/-)Infinity for vertical lines.\n   */\n  public get slope() {\n    return (this.end.y - this.begin.y) / (this.end.x - this.begin.x);\n  }\n\n  /**\n   * Gets the Y-intercept (b) of the line. Will return (+/-)Infinity if there is no intercept.\n   */\n  public get intercept() {\n    return this.begin.y - this.slope * this.begin.x;\n  }\n\n  /**\n   * Gets the normal of the line\n   */\n  public normal(): Vector {\n    return this.end.sub(this.begin).normal();\n  }\n\n  /**\n   * Returns the slope of the line in the form of a vector of length 1\n   */\n  public getSlope(): Vector {\n    const begin = this.begin;\n    const end = this.end;\n    const distance = begin.distance(end);\n    return end.sub(begin).scale(1 / distance);\n  }\n\n  /**\n   * Returns the edge of the line as vector, the length of the vector is the length of the edge\n   */\n  public getEdge(): Vector {\n    const begin = this.begin;\n    const end = this.end;\n    return end.sub(begin);\n  }\n\n  /**\n   * Returns the length of the line segment in pixels\n   */\n  public getLength(): number {\n    const begin = this.begin;\n    const end = this.end;\n    const distance = begin.distance(end);\n    return distance;\n  }\n\n  /**\n   * Returns the midpoint of the edge\n   */\n  public get midpoint(): Vector {\n    return this.begin.add(this.end).scale(0.5);\n  }\n\n  /**\n   * Flips the direction of the line segment\n   */\n  public flip(): Line {\n    return new Line(this.end, this.begin);\n  }\n\n  /**\n   * Find the perpendicular distance from the line to a point\n   * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n   * @param point\n   */\n  public distanceToPoint(point: Vector) {\n    const x0 = point.x;\n    const y0 = point.y;\n\n    const l = this.getLength();\n\n    const dy = this.end.y - this.begin.y;\n    const dx = this.end.x - this.begin.x;\n    const distance = Math.abs(dy * x0 - dx * y0 + this.end.x * this.begin.y - this.end.y * this.begin.x) / l;\n    return distance;\n  }\n\n  /**\n   * Find the perpendicular line from the line to a point\n   * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n   * (a - p) - ((a - p) * n)n\n   * a is a point on the line\n   * p is the arbitrary point above the line\n   * n is a unit vector in direction of the line\n   * @param point\n   */\n  public findVectorToPoint(point: Vector): Vector {\n    const aMinusP = this.begin.sub(point);\n    const n = this.getSlope();\n\n    return aMinusP.sub(n.scale(aMinusP.dot(n)));\n  }\n\n  /**\n   * Finds a point on the line given only an X or a Y value. Given an X value, the function returns\n   * a new point with the calculated Y value and vice-versa.\n   *\n   * @param x The known X value of the target point\n   * @param y The known Y value of the target point\n   * @returns A new point with the other calculated axis value\n   */\n  public findPoint(x: number = null, y: number = null): Vector {\n    const m = this.slope;\n    const b = this.intercept;\n\n    if (x !== null) {\n      return new Vector(x, m * x + b);\n    } else if (y !== null) {\n      return new Vector((y - b) / m, y);\n    } else {\n      throw new Error('You must provide an X or a Y value');\n    }\n  }\n\n  /**\n   * Whether or not the given point lies on this line. This method is precise by default\n   * meaning the point must lie exactly on the line. Adjust threshold to\n   * loosen the strictness of the check for floating-point calculations.\n   */\n  public hasPoint(x: number, y: number, threshold?: number): boolean;\n\n  /**\n   * Whether or not the given point lies on this line. This method is precise by default\n   * meaning the point must lie exactly on the line. Adjust threshold to\n   * loosen the strictness of the check for floating-point calculations.\n   */\n  public hasPoint(v: Vector, threshold?: number): boolean;\n\n  /**\n   * @see http://stackoverflow.com/a/11908158/109458\n   */\n  public hasPoint(): boolean {\n    let currPoint: Vector;\n    let threshold = 0;\n\n    if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n      currPoint = new Vector(arguments[0], arguments[1]);\n      threshold = arguments[2] || 0;\n    } else if (arguments[0] instanceof Vector) {\n      currPoint = arguments[0];\n      threshold = arguments[1] || 0;\n    } else {\n      throw 'Could not determine the arguments for Vector.hasPoint';\n    }\n\n    const dxc = currPoint.x - this.begin.x;\n    const dyc = currPoint.y - this.begin.y;\n\n    const dx1 = this.end.x - this.begin.x;\n    const dy1 = this.end.y - this.begin.y;\n\n    const cross = dxc * dy1 - dyc * dx1;\n\n    // check whether point lines on the line\n    if (Math.abs(cross) > threshold) {\n      return false;\n    }\n\n    // check whether point lies in-between start and end\n    if (Math.abs(dx1) >= Math.abs(dy1)) {\n      return dx1 > 0 ? this.begin.x <= currPoint.x && currPoint.x <= this.end.x : this.end.x <= currPoint.x && currPoint.x <= this.begin.x;\n    } else {\n      return dy1 > 0 ? this.begin.y <= currPoint.y && currPoint.y <= this.end.y : this.end.y <= currPoint.y && currPoint.y <= this.begin.y;\n    }\n  }\n}\n\n/**\n * A 1 dimensional projection on an axis, used to test overlaps\n */\nexport class Projection {\n  constructor(public min: number, public max: number) {}\n  public overlaps(projection: Projection): boolean {\n    return this.max > projection.min && projection.max > this.min;\n  }\n\n  public getOverlap(projection: Projection): number {\n    if (this.overlaps(projection)) {\n      if (this.max > projection.max) {\n        return projection.max - this.min;\n      } else {\n        return this.max - projection.min;\n      }\n    }\n    return 0;\n  }\n}\n\nexport class GlobalCoordinates {\n  public static fromPagePosition(x: number, y: number, engine: Engine): GlobalCoordinates;\n  public static fromPagePosition(pos: Vector, engine: Engine): GlobalCoordinates;\n  public static fromPagePosition(xOrPos: number | Vector, yOrEngine: number | Engine, engineOrUndefined?: Engine): GlobalCoordinates {\n    let pageX: number;\n    let pageY: number;\n    let pagePos: Vector;\n    let engine: Engine;\n\n    if (arguments.length === 3) {\n      pageX = <number>xOrPos;\n      pageY = <number>yOrEngine;\n      pagePos = new Vector(pageX, pageY);\n      engine = engineOrUndefined;\n    } else {\n      pagePos = <Vector>xOrPos;\n      pageX = pagePos.x;\n      pageY = pagePos.y;\n      engine = <Engine>yOrEngine;\n    }\n\n    const screenPos = engine.screen.pageToScreenCoordinates(pagePos);\n    const worldPos = engine.screen.screenToWorldCoordinates(screenPos);\n\n    return new GlobalCoordinates(worldPos, pagePos, screenPos);\n  }\n\n  constructor(public worldPos: Vector, public pagePos: Vector, public screenPos: Vector) {}\n}\n\n/**\n * Shorthand for creating new Vectors - returns a new Vector instance with the\n * provided X and Y components.\n *\n * @param x  X component of the Vector\n * @param y  Y component of the Vector\n */\nexport function vec(x: number, y: number): Vector {\n  return new Vector(x, y);\n}\n","/**\n * An enum that describes the types of collisions actors can participate in\n */\nexport enum CollisionType {\n  /**\n   * Actors with the `PreventCollision` setting do not participate in any\n   * collisions and do not raise collision events.\n   */\n  PreventCollision = 'PreventCollision',\n  /**\n   * Actors with the `Passive` setting only raise collision events, but are not\n   * influenced or moved by other actors and do not influence or move other actors.\n   */\n  Passive = 'Passive',\n  /**\n   * Actors with the `Active` setting raise collision events and participate\n   * in collisions with other actors and will be push or moved by actors sharing\n   * the `Active` or `Fixed` setting.\n   */\n  Active = 'Active',\n  /**\n   * Actors with the `Fixed` setting raise collision events and participate in\n   * collisions with other actors. Actors with the `Fixed` setting will not be\n   * pushed or moved by other actors sharing the `Fixed`. Think of Fixed\n   * actors as \"immovable/unstoppable\" objects. If two `Fixed` actors meet they will\n   * not be pushed or moved by each other, they will not interact except to throw\n   * collision events.\n   */\n  Fixed = 'Fixed'\n}\n","import { Vector } from './Algebra';\nimport { obsolete } from './Util/Decorators';\n\n/**\n * Possible collision resolution strategies\n *\n * The default is [[CollisionResolutionStrategy.Box]] which performs simple axis aligned arcade style physics.\n *\n * More advanced rigid body physics are enabled by setting [[CollisionResolutionStrategy.RigidBody]] which allows for complicated\n * simulated physical interactions.\n */\nexport enum CollisionResolutionStrategy {\n  Box,\n  RigidBody\n}\n\n/**\n * Possible broadphase collision pair identification strategies\n *\n * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\n * potential collision pairs which is O(nlog(n)) faster. The other possible strategy is the [[BroadphaseStrategy.Naive]] strategy\n * which loops over every object for every object in the scene to identify collision pairs which is O(n^2) slower.\n */\nexport enum BroadphaseStrategy {\n  Naive,\n  DynamicAABBTree\n}\n\n/**\n * Possible numerical integrators for position and velocity\n */\nexport enum Integrator {\n  Euler\n}\n\n/**\n * The [[Physics]] object is the global configuration object for all Excalibur physics.\n */\n/* istanbul ignore next */\nexport class Physics {\n  /**\n   * Global acceleration that is applied to all vanilla actors that have a [[CollisionType.Active|active]] collision type.\n   * Global acceleration won't effect [[Label|labels]], [[ScreenElement|ui actors]], or [[Trigger|triggers]] in Excalibur.\n   *\n   * This is a great way to globally simulate effects like gravity.\n   */\n  public static acc = new Vector(0, 0);\n\n  /**\n   * Globally switches all Excalibur physics behavior on or off.\n   */\n  public static enabled = true;\n\n  /**\n   * Gets or sets the number of collision passes for Excalibur to perform on physics bodies.\n   *\n   * Reducing collision passes may cause things not to collide as expected in your game, but may increase performance.\n   *\n   * More passes can improve the visual quality of collisions when many objects are on the screen. This can reduce jitter, improve the\n   * collision resolution of fast move objects, or the stability of large numbers of objects stacked together.\n   *\n   * Fewer passes will improve the performance of the game at the cost of collision quality, more passes will improve quality at the\n   * cost of performance.\n   *\n   * The default is set to 5 passes which is a good start.\n   */\n  public static collisionPasses = 5;\n\n  /**\n   * Gets or sets the broadphase pair identification strategy.\n   *\n   * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\n   * potential collision pairs which is O(nlog(n)) faster. The other possible strategy is the [[BroadphaseStrategy.Naive]] strategy\n   * which loops over every object for every object in the scene to identify collision pairs which is O(n^2) slower.\n   */\n  public static broadphaseStrategy: BroadphaseStrategy = BroadphaseStrategy.DynamicAABBTree;\n\n  /**\n   * Globally switches the debug information for the broadphase strategy\n   */\n  public static broadphaseDebug: boolean = false;\n  /**\n   * Show the normals as a result of collision on the screen.\n   */\n  public static showCollisionNormals: boolean = false;\n  /**\n   * Show the position, velocity, and acceleration as graphical vectors.\n   */\n  public static showMotionVectors: boolean = false;\n  /**\n   * Show the axis-aligned bounding boxes of the collision bodies on the screen.\n   */\n  public static showBounds: boolean = false;\n  /**\n   * Show the bounding collision area shapes\n   */\n  public static showArea: boolean = false;\n  /**\n   * Show points of collision interpreted by excalibur as a result of collision.\n   */\n  public static showContacts: boolean = false;\n  /**\n   * Show the surface normals of the collision areas.\n   */\n  public static showNormals: boolean = false;\n  /**\n   * Gets or sets the global collision resolution strategy (narrowphase).\n   *\n   * The default is [[CollisionResolutionStrategy.Box]] which performs simple axis aligned arcade style physics.\n   *\n   * More advanced rigid body physics are enabled by setting [[CollisionResolutionStrategy.RigidBody]] which allows for complicated\n   * simulated physical interactions.\n   */\n  public static collisionResolutionStrategy: CollisionResolutionStrategy = CollisionResolutionStrategy.Box;\n  /**\n   * The default mass to use if none is specified\n   */\n  public static defaultMass: number = 10;\n  /**\n   * Gets or sets the position and velocity positional integrator, currently only Euler is supported.\n   */\n  public static integrator: Integrator = Integrator.Euler;\n  /**\n   * Number of steps to use in integration. A higher number improves the positional accuracy over time. This can be useful to increase\n   * if you have fast moving objects in your simulation or you have a large number of objects and need to increase stability.\n   */\n  public static integrationSteps = 1;\n  /**\n   * Gets or sets whether rotation is allowed in a RigidBody collision resolution\n   */\n  public static allowRigidBodyRotation = true;\n\n  /**\n   * Configures Excalibur to use box physics. Box physics which performs simple axis aligned arcade style physics.\n   */\n  public static useBoxPhysics(): void {\n    Physics.collisionResolutionStrategy = CollisionResolutionStrategy.Box;\n  }\n\n  /**\n   * Configures Excalibur to use rigid body physics. Rigid body physics allows for complicated\n   * simulated physical interactions.\n   */\n  public static useRigidBodyPhysics(): void {\n    Physics.collisionResolutionStrategy = CollisionResolutionStrategy.RigidBody;\n  }\n\n  /**\n   * Small value to help collision passes settle themselves after the narrowphase.\n   */\n  public static collisionShift = 0.001;\n\n  /**\n   * Factor to add to the RigidBody BoundingBox, bounding box (dimensions += vel * dynamicTreeVelocityMultiplier);\n   */\n  public static dynamicTreeVelocityMultiplier = 2;\n\n  @obsolete({\n    message: 'Alias for incorrect spelling used in older versions, will be removed in v0.25.0',\n    alternateMethod: 'dynamicTreeVelocityMultiplier'\n  })\n  public static get dynamicTreeVelocityMultiplyer() {\n    return Physics.dynamicTreeVelocityMultiplier;\n  }\n\n  public static set dynamicTreeVelocityMultiplyer(value: number) {\n    Physics.dynamicTreeVelocityMultiplier = value;\n  }\n\n  /**\n   * Pad RigidBody BoundingBox by a constant amount\n   */\n  public static boundsPadding = 5;\n\n  /**\n   * Surface epsilon is used to help deal with surface penetration\n   */\n  public static surfaceEpsilon = 0.1;\n\n  /**\n   * Enable fast moving body checking, this enables checking for collision pairs via raycast for fast moving objects to prevent\n   * bodies from tunneling through one another.\n   */\n  public static checkForFastBodies = true;\n\n  /**\n   * Disable minimum fast moving body raycast, by default if ex.Physics.checkForFastBodies = true Excalibur will only check if the\n   * body is moving at least half of its minimum dimension in an update. If ex.Physics.disableMinimumSpeedForFastBody is set to true,\n   * Excalibur will always perform the fast body raycast regardless of speed.\n   */\n  public static disableMinimumSpeedForFastBody = false;\n}\n","import { Scene } from './Scene';\nimport { Vector } from './Algebra';\nimport { Actor } from './Actor';\nimport { Trigger } from './Trigger';\nimport { FrameStats } from './Debug';\nimport { Engine } from './Engine';\nimport { TileMap } from './TileMap';\nimport { Side } from './Collision/Side';\nimport * as Input from './Input/Index';\nimport { Pair } from './index';\nimport { Collider } from './Collision/Collider';\nimport { Entity } from './EntityComponentSystem/Entity';\nimport { OnInitialize, OnPreUpdate, OnPostUpdate } from './Interfaces/LifecycleEvents';\n\nexport enum EventTypes {\n  Kill = 'kill',\n  PreKill = 'prekill',\n  PostKill = 'postkill',\n\n  PreDraw = 'predraw',\n  PostDraw = 'postdraw',\n\n  PreDebugDraw = 'predebugdraw',\n  PostDebugDraw = 'postdebugdraw',\n\n  PreUpdate = 'preupdate',\n  PostUpdate = 'postupdate',\n\n  PreFrame = 'preframe',\n  PostFrame = 'postframe',\n\n  PreCollision = 'precollision',\n  CollisionStart = 'collisionstart',\n  CollisionEnd = 'collisionend',\n  PostCollision = 'postcollision',\n\n  Initialize = 'initialize',\n  Activate = 'activate',\n  Deactivate = 'deactivate',\n\n  ExitViewport = 'exitviewport',\n  EnterViewport = 'enterviewport',\n\n  ExitTrigger = 'exit',\n  EnterTrigger = 'enter',\n\n  Connect = 'connect',\n  Disconnect = 'disconnect',\n  Button = 'button',\n  Axis = 'axis',\n\n  Subscribe = 'subscribe',\n  Unsubscribe = 'unsubscribe',\n\n  Visible = 'visible',\n  Hidden = 'hidden',\n  Start = 'start',\n  Stop = 'stop',\n\n  PointerUp = 'pointerup',\n  PointerDown = 'pointerdown',\n  PointerMove = 'pointermove',\n  PointerEnter = 'pointerenter',\n  PointerLeave = 'pointerleave',\n  PointerCancel = 'pointercancel',\n  PointerWheel = 'pointerwheel',\n\n  Up = 'up',\n  Down = 'down',\n  Move = 'move',\n  Enter = 'enter',\n  Leave = 'leave',\n  Cancel = 'cancel',\n  Wheel = 'wheel',\n\n  Press = 'press',\n  Release = 'release',\n  Hold = 'hold',\n\n  PointerDragStart = 'pointerdragstart',\n  PointerDragEnd = 'pointerdragend',\n  PointerDragEnter = 'pointerdragenter',\n  PointerDragLeave = 'pointerdragleave',\n  PointerDragMove = 'pointerdragmove'\n}\n\n/* istanbul ignore next */\n/* compiler only: these are internal to lib */\nexport type kill = 'kill';\nexport type prekill = 'prekill';\nexport type postkill = 'postkill';\n\nexport type predraw = 'predraw';\nexport type postdraw = 'postdraw';\n\nexport type predebugdraw = 'predebugdraw';\nexport type postdebugdraw = 'postdebugdraw';\n\nexport type preupdate = 'preupdate';\nexport type postupdate = 'postupdate';\n\nexport type preframe = 'preframe';\nexport type postframe = 'postframe';\n\nexport type precollision = 'precollision';\nexport type collisionstart = 'collisionstart';\nexport type collisionend = 'collisionend';\nexport type postcollision = 'postcollision';\n\nexport type initialize = 'initialize';\nexport type activate = 'activate';\nexport type deactivate = 'deactivate';\n\nexport type exitviewport = 'exitviewport';\nexport type enterviewport = 'enterviewport';\n\nexport type exittrigger = 'exit';\nexport type entertrigger = 'enter';\n\nexport type connect = 'connect';\nexport type disconnect = 'disconnect';\nexport type button = 'button';\nexport type axis = 'axis';\n\nexport type subscribe = 'subscribe';\nexport type unsubscribe = 'unsubscribe';\n\nexport type visible = 'visible';\nexport type hidden = 'hidden';\nexport type start = 'start';\nexport type stop = 'stop';\n\nexport type pointerup = 'pointerup';\nexport type pointerdown = 'pointerdown';\nexport type pointermove = 'pointermove';\nexport type pointerenter = 'pointerenter';\nexport type pointerleave = 'pointerleave';\nexport type pointercancel = 'pointercancel';\nexport type pointerwheel = 'pointerwheel';\n\nexport type up = 'up';\nexport type down = 'down';\nexport type move = 'move';\nexport type enter = 'enter';\nexport type leave = 'leave';\nexport type cancel = 'cancel';\nexport type wheel = 'wheel';\n\nexport type press = 'press';\nexport type release = 'release';\nexport type hold = 'hold';\n\nexport type pointerdragstart = 'pointerdragstart';\nexport type pointerdragend = 'pointerdragend';\nexport type pointerdragenter = 'pointerdragenter';\nexport type pointerdragleave = 'pointerdragleave';\nexport type pointerdragmove = 'pointerdragmove';\n\n/**\n * Base event type in Excalibur that all other event types derive from. Not all event types are thrown on all Excalibur game objects,\n * some events are unique to a type, others are not.\n *\n */\nexport class GameEvent<T, U = T> {\n  /**\n   * Target object for this event.\n   */\n  public target: T;\n\n  /**\n   * Other target object for this event\n   */\n  public other: U | null;\n\n  /**\n   * If set to false, prevents event from propagating to other actors. If true it will be propagated\n   * to all actors that apply.\n   */\n  public get bubbles(): boolean {\n    return this._bubbles;\n  }\n\n  public set bubbles(value: boolean) {\n    this._bubbles = value;\n  }\n\n  private _bubbles: boolean = true;\n  /**\n   * Prevents event from bubbling\n   */\n  public stopPropagation() {\n    this.bubbles = false;\n  }\n}\n\n/**\n * The 'kill' event is emitted on actors when it is killed. The target is the actor that was killed.\n */\nexport class KillEvent extends GameEvent<Actor> {\n  constructor(public target: Actor) {\n    super();\n  }\n}\n\n/**\n * The 'prekill' event is emitted directly before an actor is killed.\n */\nexport class PreKillEvent extends GameEvent<Actor> {\n  constructor(public target: Actor) {\n    super();\n  }\n}\n\n/**\n * The 'postkill' event is emitted directly after the actor is killed.\n */\nexport class PostKillEvent extends GameEvent<Actor> {\n  constructor(public target: Actor) {\n    super();\n  }\n}\n\n/**\n * The 'start' event is emitted on engine when has started and is ready for interaction.\n */\nexport class GameStartEvent extends GameEvent<Engine> {\n  constructor(public target: Engine) {\n    super();\n  }\n}\n\n/**\n * The 'stop' event is emitted on engine when has been stopped and will no longer take input, update or draw.\n */\nexport class GameStopEvent extends GameEvent<Engine> {\n  constructor(public target: Engine) {\n    super();\n  }\n}\n\n/**\n * The 'predraw' event is emitted on actors, scenes, and engine before drawing starts. Actors' predraw happens inside their graphics\n * transform so that all drawing takes place with the actor as the origin.\n *\n */\nexport class PreDrawEvent extends GameEvent<Entity | Scene | Engine | TileMap> {\n  constructor(public ctx: CanvasRenderingContext2D, public delta: number, public target: Entity | Scene | Engine | TileMap) {\n    super();\n  }\n}\n\n/**\n * The 'postdraw' event is emitted on actors, scenes, and engine after drawing finishes. Actors' postdraw happens inside their graphics\n * transform so that all drawing takes place with the actor as the origin.\n *\n */\nexport class PostDrawEvent extends GameEvent<Entity | Scene | Engine | TileMap> {\n  constructor(public ctx: CanvasRenderingContext2D, public delta: number, public target: Entity | Scene | Engine | TileMap) {\n    super();\n  }\n}\n\n/**\n * The 'predebugdraw' event is emitted on actors, scenes, and engine before debug drawing starts.\n */\nexport class PreDebugDrawEvent extends GameEvent<Entity | Actor | Scene | Engine> {\n  constructor(public ctx: CanvasRenderingContext2D, public target: Entity | Actor | Scene | Engine) {\n    super();\n  }\n}\n\n/**\n * The 'postdebugdraw' event is emitted on actors, scenes, and engine after debug drawing starts.\n */\nexport class PostDebugDrawEvent extends GameEvent<Entity | Actor | Scene | Engine> {\n  constructor(public ctx: CanvasRenderingContext2D, public target: Entity | Actor | Scene | Engine) {\n    super();\n  }\n}\n\n/**\n * The 'preupdate' event is emitted on actors, scenes, camera, and engine before the update starts.\n */\nexport class PreUpdateEvent<T extends OnPreUpdate = Entity> extends GameEvent<T> {\n  constructor(public engine: Engine, public delta: number, public target: T) {\n    super();\n  }\n}\n\n/**\n * The 'postupdate' event is emitted on actors, scenes, camera, and engine after the update ends.\n */\nexport class PostUpdateEvent<T extends OnPostUpdate = Entity> extends GameEvent<T> {\n  constructor(public engine: Engine, public delta: number, public target: T) {\n    super();\n  }\n}\n\n/**\n * The 'preframe' event is emitted on the engine, before the frame begins.\n */\nexport class PreFrameEvent extends GameEvent<Engine> {\n  constructor(public engine: Engine, public prevStats: FrameStats) {\n    super();\n    this.target = engine;\n  }\n}\n\n/**\n * The 'postframe' event is emitted on the engine, after a frame ends.\n */\nexport class PostFrameEvent extends GameEvent<Engine> {\n  constructor(public engine: Engine, public stats: FrameStats) {\n    super();\n    this.target = engine;\n  }\n}\n\n/**\n * Event received when a gamepad is connected to Excalibur. [[Gamepads]] receives this event.\n */\nexport class GamepadConnectEvent extends GameEvent<Input.Gamepad> {\n  constructor(public index: number, public gamepad: Input.Gamepad) {\n    super();\n    this.target = gamepad;\n  }\n}\n\n/**\n * Event received when a gamepad is disconnected from Excalibur. [[Gamepads]] receives this event.\n */\nexport class GamepadDisconnectEvent extends GameEvent<Input.Gamepad> {\n  constructor(public index: number, public gamepad: Input.Gamepad) {\n    super();\n    this.target = gamepad;\n  }\n}\n\n/**\n * Gamepad button event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\n */\nexport class GamepadButtonEvent extends GameEvent<Input.Gamepad> {\n  /**\n   * @param button  The Gamepad button\n   * @param value   A numeric value between 0 and 1\n   */\n  constructor(public button: Input.Buttons, public value: number, public target: Input.Gamepad) {\n    super();\n  }\n}\n\n/**\n * Gamepad axis event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\n */\nexport class GamepadAxisEvent extends GameEvent<Input.Gamepad> {\n  /**\n   * @param axis  The Gamepad axis\n   * @param value A numeric value between -1 and 1\n   */\n  constructor(public axis: Input.Axes, public value: number, public target: Input.Gamepad) {\n    super();\n  }\n}\n\n/**\n * Subscribe event thrown when handlers for events other than subscribe are added. Meta event that is received by\n * [[EventDispatcher|event dispatchers]].\n */\nexport class SubscribeEvent<T> extends GameEvent<T> {\n  constructor(public topic: string, public handler: (event: GameEvent<T>) => void) {\n    super();\n  }\n}\n\n/**\n * Unsubscribe event thrown when handlers for events other than unsubscribe are removed. Meta event that is received by\n * [[EventDispatcher|event dispatchers]].\n */\nexport class UnsubscribeEvent<T> extends GameEvent<T> {\n  constructor(public topic: string, public handler: (event: GameEvent<T>) => void) {\n    super();\n  }\n}\n\n/**\n * Event received by the [[Engine]] when the browser window is visible on a screen.\n */\nexport class VisibleEvent extends GameEvent<Engine> {\n  constructor(public target: Engine) {\n    super();\n  }\n}\n\n/**\n * Event received by the [[Engine]] when the browser window is hidden from all screens.\n */\nexport class HiddenEvent extends GameEvent<Engine> {\n  constructor(public target: Engine) {\n    super();\n  }\n}\n\n/**\n * Event thrown on an [[Actor|actor]] when a collision will occur this frame if it resolves\n */\nexport class PreCollisionEvent<T extends Collider | Entity = Actor> extends GameEvent<T> {\n  /**\n   * @param actor         The actor the event was thrown on\n   * @param other         The actor that will collided with the current actor\n   * @param side          The side that will be collided with the current actor\n   * @param intersection  Intersection vector\n   */\n  constructor(actor: T, public other: T, public side: Side, public intersection: Vector) {\n    super();\n    this.target = actor;\n  }\n\n  public get actor() {\n    return this.target;\n  }\n\n  public set actor(actor: T) {\n    this.target = actor;\n  }\n}\n\n/**\n * Event thrown on an [[Actor|actor]] when a collision has been resolved (body reacted) this frame\n */\nexport class PostCollisionEvent<T extends Collider | Entity = Actor> extends GameEvent<T> {\n  /**\n   * @param actor         The actor the event was thrown on\n   * @param other         The actor that did collide with the current actor\n   * @param side          The side that did collide with the current actor\n   * @param intersection  Intersection vector\n   */\n  constructor(actor: T, public other: T, public side: Side, public intersection: Vector) {\n    super();\n    this.target = actor;\n  }\n\n  public get actor() {\n    return this.target;\n  }\n\n  public set actor(actor: T) {\n    this.target = actor;\n  }\n}\n\n/**\n * Event thrown the first time an [[Actor|actor]] collides with another, after an actor is in contact normal collision events are fired.\n */\nexport class CollisionStartEvent<T extends Collider | Entity = Actor> extends GameEvent<T> {\n  /**\n   *\n   * @param actor\n   * @param other\n   * @param pair\n   */\n  constructor(actor: T, public other: T, public pair: Pair) {\n    super();\n    this.target = actor;\n  }\n\n  public get actor() {\n    return this.target;\n  }\n\n  public set actor(actor: T) {\n    this.target = actor;\n  }\n}\n\n/**\n * Event thrown when the [[Actor|actor]] is no longer colliding with another\n */\nexport class CollisionEndEvent<T extends Collider | Entity = Actor> extends GameEvent<T> {\n  /**\n   *\n   */\n  constructor(actor: T, public other: T) {\n    super();\n    this.target = actor;\n  }\n\n  public get actor() {\n    return this.target;\n  }\n\n  public set actor(actor: T) {\n    this.target = actor;\n  }\n}\n\n/**\n * Event thrown on an [[Actor]] and a [[Scene]] only once before the first update call\n */\nexport class InitializeEvent<T extends OnInitialize = Entity> extends GameEvent<T> {\n  /**\n   * @param engine  The reference to the current engine\n   */\n  constructor(public engine: Engine, public target: T) {\n    super();\n  }\n}\n\n/**\n * Event thrown on a [[Scene]] on activation\n */\nexport class ActivateEvent extends GameEvent<Scene> {\n  /**\n   * @param oldScene  The reference to the old scene\n   */\n  constructor(public oldScene: Scene, public target: Scene) {\n    super();\n  }\n}\n\n/**\n * Event thrown on a [[Scene]] on deactivation\n */\nexport class DeactivateEvent extends GameEvent<Scene> {\n  /**\n   * @param newScene  The reference to the new scene\n   */\n  constructor(public newScene: Scene, public target: Scene) {\n    super();\n  }\n}\n\n/**\n * Event thrown on an [[Actor]] when it completely leaves the screen.\n */\nexport class ExitViewPortEvent extends GameEvent<Entity> {\n  constructor(public target: Entity) {\n    super();\n  }\n}\n\n/**\n * Event thrown on an [[Actor]] when it completely leaves the screen.\n */\nexport class EnterViewPortEvent extends GameEvent<Entity> {\n  constructor(public target: Entity) {\n    super();\n  }\n}\n\nexport class EnterTriggerEvent extends GameEvent<Actor> {\n  constructor(public target: Trigger, public actor: Actor) {\n    super();\n  }\n}\n\nexport class ExitTriggerEvent extends GameEvent<Actor> {\n  constructor(public target: Trigger, public actor: Actor) {\n    super();\n  }\n}\n","import { obsolete } from '../Util/Decorators';\n\n/**\n * Provides standard colors (e.g. [[Color.Black]])\n * but you can also create custom colors using RGB, HSL, or Hex. Also provides\n * useful color operations like [[Color.lighten]], [[Color.darken]], and more.\n */\nexport class Color {\n  /**\n   * Red channel\n   */\n  public r: number;\n  /**\n   * Green channel\n   */\n  public g: number;\n  /**\n   * Blue channel\n   */\n  public b: number;\n  /**\n   * Alpha channel (between 0 and 1)\n   */\n  public a: number;\n\n  /**\n   * Hue\n   */\n  public h: number;\n  /**\n   * Saturation\n   */\n  public s: number;\n  /**\n   * Lightness\n   */\n  public l: number;\n\n  /**\n   * Creates a new instance of Color from an r, g, b, a\n   *\n   * @param r  The red component of color (0-255)\n   * @param g  The green component of color (0-255)\n   * @param b  The blue component of color (0-255)\n   * @param a  The alpha component of color (0-1.0)\n   */\n  constructor(r: number, g: number, b: number, a?: number) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a != null ? a : 1;\n  }\n\n  /**\n   * Creates a new instance of Color from an r, g, b, a\n   *\n   * @param r  The red component of color (0-255)\n   * @param g  The green component of color (0-255)\n   * @param b  The blue component of color (0-255)\n   * @param a  The alpha component of color (0-1.0)\n   */\n  public static fromRGB(r: number, g: number, b: number, a?: number): Color {\n    return new Color(r, g, b, a);\n  }\n\n  /**\n   * Creates a new instance of Color from a rgb string\n   *\n   * @param string  CSS color string of the form rgba(255, 255, 255, 1) or rgb(255, 255, 255)\n   */\n  public static fromRGBString(string: string): Color {\n    const rgbaRegEx: RegExp = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)/i;\n    let match = null;\n    if ((match = string.match(rgbaRegEx))) {\n      const r = parseInt(match[1], 10);\n      const g = parseInt(match[2], 10);\n      const b = parseInt(match[3], 10);\n      let a = 1;\n      if (match[4]) {\n        a = parseFloat(match[4]);\n      }\n      return new Color(r, g, b, a);\n    } else {\n      throw new Error('Invalid rgb/a string: ' + string);\n    }\n  }\n\n  /**\n   * Creates a new instance of Color from a hex string\n   *\n   * @param hex  CSS color string of the form #ffffff, the alpha component is optional\n   */\n  public static fromHex(hex: string): Color {\n    const hexRegEx: RegExp = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i;\n    let match = null;\n    if ((match = hex.match(hexRegEx))) {\n      const r = parseInt(match[1], 16);\n      const g = parseInt(match[2], 16);\n      const b = parseInt(match[3], 16);\n      let a = 1;\n      if (match[4]) {\n        a = parseInt(match[4], 16) / 255;\n      }\n      return new Color(r, g, b, a);\n    } else {\n      throw new Error('Invalid hex string: ' + hex);\n    }\n  }\n\n  /**\n   * Creates a new instance of Color from hsla values\n   *\n   * @param h  Hue is represented [0-1]\n   * @param s  Saturation is represented [0-1]\n   * @param l  Luminance is represented [0-1]\n   * @param a  Alpha is represented [0-1]\n   */\n  public static fromHSL(h: number, s: number, l: number, a: number = 1.0): Color {\n    const temp = new HSLColor(h, s, l, a);\n    return temp.toRGBA();\n  }\n\n  /**\n   * Lightens the current color by a specified amount\n   *\n   * @param factor  The amount to lighten by [0-1]\n   */\n  public lighten(factor: number = 0.1): Color {\n    const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n    temp.l += (1 - temp.l) * factor;\n    return temp.toRGBA();\n  }\n\n  /**\n   * Darkens the current color by a specified amount\n   *\n   * @param factor  The amount to darken by [0-1]\n   */\n  public darken(factor: number = 0.1): Color {\n    const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n    temp.l -= temp.l * factor;\n    return temp.toRGBA();\n  }\n\n  /**\n   * Saturates the current color by a specified amount\n   *\n   * @param factor  The amount to saturate by [0-1]\n   */\n  public saturate(factor: number = 0.1): Color {\n    const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n    temp.s += temp.s * factor;\n    return temp.toRGBA();\n  }\n\n  /**\n   * Desaturates the current color by a specified amount\n   *\n   * @param factor  The amount to desaturate by [0-1]\n   */\n  public desaturate(factor: number = 0.1): Color {\n    const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n    temp.s -= temp.s * factor;\n    return temp.toRGBA();\n  }\n\n  /**\n   * Multiplies a color by another, results in a darker color\n   *\n   * @param color  The other color\n   */\n  public multiply(color: Color): Color {\n    const newR = (((color.r / 255) * this.r) / 255) * 255;\n    const newG = (((color.g / 255) * this.g) / 255) * 255;\n    const newB = (((color.b / 255) * this.b) / 255) * 255;\n    const newA = color.a * this.a;\n    return new Color(newR, newG, newB, newA);\n  }\n\n  /**\n   * Multiplies a color by another, results in a darker color\n   * @param color\n   * @obsolete Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0\n   */\n  @obsolete({ message: 'Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0' })\n  public mulitiply(color: Color): Color {\n    return this.multiply(color);\n  }\n\n  /**\n   * Screens a color by another, results in a lighter color\n   *\n   * @param color  The other color\n   */\n  public screen(color: Color): Color {\n    const color1 = color.invert();\n    const color2 = color.invert();\n    return color1.multiply(color2).invert();\n  }\n\n  /**\n   * Inverts the current color\n   */\n  public invert(): Color {\n    return new Color(255 - this.r, 255 - this.g, 255 - this.b, 1.0 - this.a);\n  }\n\n  /**\n   * Averages the current color with another\n   *\n   * @param color  The other color\n   */\n  public average(color: Color): Color {\n    const newR = (color.r + this.r) / 2;\n    const newG = (color.g + this.g) / 2;\n    const newB = (color.b + this.b) / 2;\n    const newA = (color.a + this.a) / 2;\n    return new Color(newR, newG, newB, newA);\n  }\n\n  public equal(color: Color): boolean {\n    return this.toString() === color.toString();\n  }\n\n  /**\n   * Returns a CSS string representation of a color.\n   *\n   * @param format Color representation, accepts: rgb, hsl, or hex\n   */\n  public toString(format: 'rgb' | 'hsl' | 'hex' = 'rgb') {\n    switch (format) {\n      case 'rgb':\n        return this.toRGBA();\n      case 'hsl':\n        return this.toHSLA();\n      case 'hex':\n        return this.toHex();\n      default:\n        throw new Error('Invalid Color format');\n    }\n  }\n\n  /**\n   * Returns Hex Value of a color component\n   * @param c color component\n   * @see https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n   */\n  private _componentToHex(c: number) {\n    const hex = c.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  }\n\n  /**\n   * Return Hex representation of a color.\n   */\n  public toHex() {\n    return '#' + this._componentToHex(this.r) + this._componentToHex(this.g) + this._componentToHex(this.b);\n  }\n\n  /**\n   * Return RGBA representation of a color.\n   */\n  public toRGBA() {\n    const result = String(this.r.toFixed(0)) + ', ' + String(this.g.toFixed(0)) + ', ' + String(this.b.toFixed(0));\n    if (this.a !== undefined || this.a !== null) {\n      return 'rgba(' + result + ', ' + String(this.a) + ')';\n    }\n    return 'rgb(' + result + ')';\n  }\n\n  /**\n   * Return HSLA representation of a color.\n   */\n  public toHSLA() {\n    return HSLColor.fromRGBA(this.r, this.g, this.b, this.a).toString();\n  }\n\n  /**\n   * Returns a CSS string representation of a color.\n   */\n  public fillStyle() {\n    return this.toString();\n  }\n\n  /**\n   * Returns a clone of the current color.\n   */\n  public clone(): Color {\n    return new Color(this.r, this.g, this.b, this.a);\n  }\n\n  /**\n   * Black (#000000)\n   */\n  public static get Black(): Color {\n    return Color.fromHex('#000000');\n  }\n\n  /**\n   * White (#FFFFFF)\n   */\n  public static get White(): Color {\n    return Color.fromHex('#FFFFFF');\n  }\n\n  /**\n   * Gray (#808080)\n   */\n  public static get Gray(): Color {\n    return Color.fromHex('#808080');\n  }\n\n  /**\n   * Light gray (#D3D3D3)\n   */\n  public static get LightGray(): Color {\n    return Color.fromHex('#D3D3D3');\n  }\n\n  /**\n   * Dark gray (#A9A9A9)\n   */\n  public static get DarkGray(): Color {\n    return Color.fromHex('#A9A9A9');\n  }\n\n  /**\n   * Yellow (#FFFF00)\n   */\n  public static get Yellow(): Color {\n    return Color.fromHex('#FFFF00');\n  }\n\n  /**\n   * Orange (#FFA500)\n   */\n  public static get Orange(): Color {\n    return Color.fromHex('#FFA500');\n  }\n\n  /**\n   * Red (#FF0000)\n   */\n  public static get Red(): Color {\n    return Color.fromHex('#FF0000');\n  }\n\n  /**\n   * Vermilion (#FF5B31)\n   */\n  public static get Vermilion(): Color {\n    return Color.fromHex('#FF5B31');\n  }\n\n  /**\n   * Vermilion (#FF5B31)\n   * @obsolete Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0\n   */\n  @obsolete({\n    message: 'Alias for incorrect spelling used in older versions',\n    alternateMethod: 'Vermilion'\n  })\n  public static get Vermillion(): Color {\n    return Color.Vermilion;\n  }\n\n  /**\n   * Rose (#FF007F)\n   */\n  public static get Rose(): Color {\n    return Color.fromHex('#FF007F');\n  }\n\n  /**\n   * Magenta (#FF00FF)\n   */\n  public static get Magenta(): Color {\n    return Color.fromHex('#FF00FF');\n  }\n\n  /**\n   * Violet (#7F00FF)\n   */\n  public static get Violet(): Color {\n    return Color.fromHex('#7F00FF');\n  }\n\n  /**\n   * Blue (#0000FF)\n   */\n  public static get Blue(): Color {\n    return Color.fromHex('#0000FF');\n  }\n\n  /**\n   * Azure (#007FFF)\n   */\n  public static get Azure(): Color {\n    return Color.fromHex('#007FFF');\n  }\n\n  /**\n   * Cyan (#00FFFF)\n   */\n  public static get Cyan(): Color {\n    return Color.fromHex('#00FFFF');\n  }\n\n  /**\n   * Viridian (#59978F)\n   */\n  public static get Viridian(): Color {\n    return Color.fromHex('#59978F');\n  }\n\n  /**\n   * Green (#00FF00)\n   */\n  public static get Green(): Color {\n    return Color.fromHex('#00FF00');\n  }\n\n  /**\n   * Chartreuse (#7FFF00)\n   */\n  public static get Chartreuse(): Color {\n    return Color.fromHex('#7FFF00');\n  }\n\n  /**\n   * Transparent (#FFFFFF00)\n   */\n  public static get Transparent(): Color {\n    return Color.fromHex('#FFFFFF00');\n  }\n\n  /**\n   * ExcaliburBlue (#176BAA)\n   */\n  public static get ExcaliburBlue(): Color {\n    return Color.fromHex('#176BAA');\n  }\n}\n\n/**\n * Internal HSL Color representation\n *\n * http://en.wikipedia.org/wiki/HSL_and_HSV\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\n */\nclass HSLColor {\n  constructor(public h: number, public s: number, public l: number, public a: number) {}\n\n  public static hue2rgb(p: number, q: number, t: number): number {\n    if (t < 0) {\n      t += 1;\n    }\n    if (t > 1) {\n      t -= 1;\n    }\n    if (t < 1 / 6) {\n      return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n      return q;\n    }\n    if (t < 2 / 3) {\n      return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n  }\n\n  public static fromRGBA(r: number, g: number, b: number, a: number): HSLColor {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    const max = Math.max(r, g, b),\n      min = Math.min(r, g, b);\n    let h, s;\n    const l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0; // achromatic\n    } else {\n      const d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n      h /= 6;\n    }\n\n    return new HSLColor(h, s, l, a);\n  }\n\n  public toRGBA(): Color {\n    let r: number, g: number, b: number;\n\n    if (this.s === 0) {\n      r = g = b = this.l; // achromatic\n    } else {\n      const q = this.l < 0.5 ? this.l * (1 + this.s) : this.l + this.s - this.l * this.s;\n      const p = 2 * this.l - q;\n      r = HSLColor.hue2rgb(p, q, this.h + 1 / 3);\n      g = HSLColor.hue2rgb(p, q, this.h);\n      b = HSLColor.hue2rgb(p, q, this.h - 1 / 3);\n    }\n\n    return new Color(r * 255, g * 255, b * 255, this.a);\n  }\n\n  public toString(): string {\n    const h = this.h.toFixed(0),\n      s = this.s.toFixed(0),\n      l = this.l.toFixed(0),\n      a = this.a.toFixed(0);\n    return `hsla(${h}, ${s}, ${l}, ${a})`;\n  }\n}\n","import { ConvexPolygon } from './ConvexPolygon';\n\nimport { Actor } from '../Actor';\nimport { Vector, Ray } from '../Algebra';\nimport { Color } from '../Drawing/Color';\nimport { Side } from './Side';\nimport { ExcaliburGraphicsContext } from '../Graphics/Context/ExcaliburGraphicsContext';\nimport { Matrix } from '../Math/matrix';\n\nexport interface BoundingBoxOptions {\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n}\n\n/**\n * Axis Aligned collision primitive for Excalibur.\n */\nexport class BoundingBox {\n  public top: number;\n  public right: number;\n  public bottom: number;\n  public left: number;\n\n  /**\n   * Constructor allows passing of either an object with all coordinate components,\n   * or the coordinate components passed separately.\n   * @param leftOrOptions    Either x coordinate of the left edge or an options object\n   * containing the four coordinate components.\n   * @param top     y coordinate of the top edge\n   * @param right   x coordinate of the right edge\n   * @param bottom  y coordinate of the bottom edge\n   */\n  constructor(leftOrOptions: number | BoundingBoxOptions = 0, top: number = 0, right: number = 0, bottom: number = 0) {\n    if (typeof leftOrOptions === 'object') {\n      this.left = leftOrOptions.left;\n      this.top = leftOrOptions.top;\n      this.right = leftOrOptions.right;\n      this.bottom = leftOrOptions.bottom;\n    } else if (typeof leftOrOptions === 'number') {\n      this.left = leftOrOptions;\n      this.top = top;\n      this.right = right;\n      this.bottom = bottom;\n    }\n  }\n\n  /**\n   * Given bounding box A & B, returns the side relative to A when intersection is performed.\n   * @param intersection Intersection vector between 2 bounding boxes\n   */\n  public static getSideFromIntersection(intersection: Vector): Side {\n    if (!intersection) {\n      return Side.None;\n    }\n    if (intersection) {\n      if (Math.abs(intersection.x) > Math.abs(intersection.y)) {\n        if (intersection.x < 0) {\n          return Side.Right;\n        }\n        return Side.Left;\n      } else {\n        if (intersection.y < 0) {\n          return Side.Bottom;\n        }\n        return Side.Top;\n      }\n    }\n    return Side.None;\n  }\n\n  public static fromPoints(points: Vector[]): BoundingBox {\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    for (let i = 0; i < points.length; i++) {\n      if (points[i].x < minX) {\n        minX = points[i].x;\n      }\n      if (points[i].x > maxX) {\n        maxX = points[i].x;\n      }\n      if (points[i].y < minY) {\n        minY = points[i].y;\n      }\n      if (points[i].y > maxY) {\n        maxY = points[i].y;\n      }\n    }\n    return new BoundingBox(minX, minY, maxX, maxY);\n  }\n\n  public static fromDimension(width: number, height: number, anchor: Vector = Vector.Half, pos: Vector = Vector.Zero) {\n    return new BoundingBox(\n      -width * anchor.x + pos.x,\n      -height * anchor.y + pos.y,\n      width - width * anchor.x + pos.x,\n      height - height * anchor.y + pos.y\n    );\n  }\n\n  /**\n   * Returns the calculated width of the bounding box\n   */\n  public get width() {\n    return this.right - this.left;\n  }\n\n  /**\n   * Returns the calculated height of the bounding box\n   */\n  public get height() {\n    return this.bottom - this.top;\n  }\n\n  /**\n   * Returns the center of the bounding box\n   */\n  public get center(): Vector {\n    return new Vector((this.left + this.right) / 2, (this.top + this.bottom) / 2);\n  }\n\n  public translate(pos: Vector): BoundingBox {\n    return new BoundingBox(this.left + pos.x, this.top + pos.y, this.right + pos.x, this.bottom + pos.y);\n  }\n\n  /**\n   * Rotates a bounding box by and angle and around a point, if no point is specified (0, 0) is used by default. The resulting bounding\n   * box is also axis-align. This is useful when a new axis-aligned bounding box is needed for rotated geometry.\n   */\n  public rotate(angle: number, point: Vector = Vector.Zero): BoundingBox {\n    const points = this.getPoints().map((p) => p.rotate(angle, point));\n    return BoundingBox.fromPoints(points);\n  }\n\n  public scale(scale: Vector, point: Vector = Vector.Zero): BoundingBox {\n    const shifted = this.translate(point);\n    return new BoundingBox(shifted.left * scale.x, shifted.top * scale.y, shifted.right * scale.x, shifted.bottom * scale.y);\n  }\n\n  public transform(matrix: Matrix) {\n    const points = this.getPoints().map((p) => matrix.multv(p));\n    return BoundingBox.fromPoints(points);\n  }\n\n  /**\n   * Returns the perimeter of the bounding box\n   */\n  public getPerimeter(): number {\n    const wx = this.width;\n    const wy = this.height;\n    return 2 * (wx + wy);\n  }\n\n  public getPoints(): Vector[] {\n    const results = [];\n    results.push(new Vector(this.left, this.top));\n    results.push(new Vector(this.right, this.top));\n    results.push(new Vector(this.right, this.bottom));\n    results.push(new Vector(this.left, this.bottom));\n    return results;\n  }\n\n  /**\n   * Creates a Polygon collision area from the points of the bounding box\n   */\n  public toPolygon(actor?: Actor): ConvexPolygon {\n    let maybeCollider = null;\n    if (actor && actor.body && actor.body.collider) {\n      maybeCollider = actor.body.collider;\n    }\n    return new ConvexPolygon({\n      collider: maybeCollider,\n      points: this.getPoints(),\n      offset: Vector.Zero\n    });\n  }\n\n  /**\n   * Determines whether a ray intersects with a bounding box\n   */\n  public rayCast(ray: Ray, farClipDistance = Infinity): boolean {\n    // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\n    let tmin = -Infinity;\n    let tmax = +Infinity;\n\n    const xinv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\n    const yinv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\n\n    const tx1 = (this.left - ray.pos.x) * xinv;\n    const tx2 = (this.right - ray.pos.x) * xinv;\n    tmin = Math.min(tx1, tx2);\n    tmax = Math.max(tx1, tx2);\n\n    const ty1 = (this.top - ray.pos.y) * yinv;\n    const ty2 = (this.bottom - ray.pos.y) * yinv;\n    tmin = Math.max(tmin, Math.min(ty1, ty2));\n    tmax = Math.min(tmax, Math.max(ty1, ty2));\n\n    return tmax >= Math.max(0, tmin) && tmin < farClipDistance;\n  }\n\n  public rayCastTime(ray: Ray, farClipDistance = Infinity): number {\n    // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\n    let tmin = -Infinity;\n    let tmax = +Infinity;\n\n    const xinv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\n    const yinv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\n\n    const tx1 = (this.left - ray.pos.x) * xinv;\n    const tx2 = (this.right - ray.pos.x) * xinv;\n    tmin = Math.min(tx1, tx2);\n    tmax = Math.max(tx1, tx2);\n\n    const ty1 = (this.top - ray.pos.y) * yinv;\n    const ty2 = (this.bottom - ray.pos.y) * yinv;\n    tmin = Math.max(tmin, Math.min(ty1, ty2));\n    tmax = Math.min(tmax, Math.max(ty1, ty2));\n\n    if (tmax >= Math.max(0, tmin) && tmin < farClipDistance) {\n      return tmin;\n    }\n    return -1;\n  }\n\n  /**\n   * Tests whether a point is contained within the bounding box\n   * @param p  The point to test\n   */\n  public contains(p: Vector): boolean;\n\n  /**\n   * Tests whether another bounding box is totally contained in this one\n   * @param bb  The bounding box to test\n   */\n  public contains(bb: BoundingBox): boolean;\n  public contains(val: any): boolean {\n    if (val instanceof Vector) {\n      return this.left <= val.x && this.top <= val.y && this.bottom >= val.y && this.right >= val.x;\n    } else if (val instanceof BoundingBox) {\n      if (this.left < val.left && this.top < val.top && val.bottom < this.bottom && val.right < this.right) {\n        return true;\n      }\n      return false;\n    }\n    return false;\n  }\n\n  /**\n   * Combines this bounding box and another together returning a new bounding box\n   * @param other  The bounding box to combine\n   */\n  public combine(other: BoundingBox): BoundingBox {\n    const compositeBB = new BoundingBox(\n      Math.min(this.left, other.left),\n      Math.min(this.top, other.top),\n      Math.max(this.right, other.right),\n      Math.max(this.bottom, other.bottom)\n    );\n    return compositeBB;\n  }\n\n  public get dimensions(): Vector {\n    return new Vector(this.width, this.height);\n  }\n\n  /**\n   * Test wether this bounding box intersects with another returning\n   * the intersection vector that can be used to resolve the collision. If there\n   * is no intersection null is returned.\n   *\n   * @param other  Other [[BoundingBox]] to test intersection with\n   * @returns A Vector in the direction of the current BoundingBox, this <- other\n   */\n  public intersect(other: BoundingBox): Vector {\n    const totalBoundingBox = this.combine(other);\n\n    // If the total bounding box is less than or equal the sum of the 2 bounds then there is collision\n    if (\n      totalBoundingBox.width < other.width + this.width &&\n      totalBoundingBox.height < other.height + this.height &&\n      !totalBoundingBox.dimensions.equals(other.dimensions) &&\n      !totalBoundingBox.dimensions.equals(this.dimensions)\n    ) {\n      // collision\n      let overlapX = 0;\n      // right edge is between the other's left and right edge\n      /**\n       *     +-this-+\n       *     |      |\n       *     |    +-other-+\n       *     +----|-+     |\n       *          |       |\n       *          +-------+\n       *         <---\n       *          ^ overlap\n       */\n      if (this.right >= other.left && this.right <= other.right) {\n        overlapX = other.left - this.right;\n        // right edge is past the other's right edge\n        /**\n         *     +-other-+\n         *     |       |\n         *     |    +-this-+\n         *     +----|--+   |\n         *          |      |\n         *          +------+\n         *          --->\n         *          ^ overlap\n         */\n      } else {\n        overlapX = other.right - this.left;\n      }\n\n      let overlapY = 0;\n      // top edge is between the other's top and bottom edge\n      /**\n       *     +-other-+\n       *     |       |\n       *     |    +-this-+   | <- overlap\n       *     +----|--+   |   |\n       *          |      |  \\ /\n       *          +------+   '\n       */\n      if (this.top <= other.bottom && this.top >= other.top) {\n        overlapY = other.bottom - this.top;\n        // top edge is above the other top edge\n        /**\n         *     +-this-+         .\n         *     |      |        / \\\n         *     |    +-other-+   | <- overlap\n         *     +----|-+     |   |\n         *          |       |\n         *          +-------+\n         */\n      } else {\n        overlapY = other.top - this.bottom;\n      }\n\n      if (Math.abs(overlapX) < Math.abs(overlapY)) {\n        return new Vector(overlapX, 0);\n      } else {\n        return new Vector(0, overlapY);\n      }\n      // Case of total containment of one bounding box by another\n    } else if (totalBoundingBox.dimensions.equals(other.dimensions) || totalBoundingBox.dimensions.equals(this.dimensions)) {\n      let overlapX = 0;\n      // this is wider than the other\n      if (this.width - other.width >= 0) {\n        // This right edge is closest to the others right edge\n        if (this.right - other.right <= other.left - this.left) {\n          overlapX = other.left - this.right;\n          // This left edge is closest to the others left edge\n        } else {\n          overlapX = other.right - this.left;\n        }\n        // other is wider than this\n      } else {\n        // This right edge is closest to the others right edge\n        if (other.right - this.right <= this.left - other.left) {\n          overlapX = this.left - other.right;\n          // This left edge is closest to the others left edge\n        } else {\n          overlapX = this.right - other.left;\n        }\n      }\n\n      let overlapY = 0;\n      // this is taller than other\n      if (this.height - other.height >= 0) {\n        // The bottom edge is closest to the others bottom edge\n        if (this.bottom - other.bottom <= other.top - this.top) {\n          overlapY = other.top - this.bottom;\n        } else {\n          overlapY = other.bottom - this.top;\n        }\n        // other is taller than this\n      } else {\n        // The bottom edge is closest to the others bottom edge\n        if (other.bottom - this.bottom <= this.top - other.top) {\n          overlapY = this.top - other.bottom;\n        } else {\n          overlapY = this.bottom - other.top;\n        }\n      }\n\n      if (Math.abs(overlapX) < Math.abs(overlapY)) {\n        return new Vector(overlapX, 0);\n      } else {\n        return new Vector(0, overlapY);\n      }\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Test whether the bounding box has intersected with another bounding box, returns the side of the current bb that intersected.\n   * @param bb The other actor to test\n   */\n  public intersectWithSide(bb: BoundingBox): Side {\n    const intersect = this.intersect(bb);\n    return BoundingBox.getSideFromIntersection(intersect);\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Yellow) {\n    ctx.strokeStyle = color.toString();\n    ctx.strokeRect(this.left, this.top, this.width, this.height);\n  }\n\n  /**\n   * Draw a debug bounding box\n   * @param ex\n   * @param color\n   */\n  public draw(ex: ExcaliburGraphicsContext, color: Color = Color.Yellow) {\n    ex.debug.drawRect(this.left, this.top, this.width, this.height, { color });\n  }\n}\n","import { Body } from './Body';\nimport { Vector } from '../Algebra';\nimport { Physics, CollisionResolutionStrategy } from '../Physics';\nimport { PostCollisionEvent, PreCollisionEvent } from '../Events';\nimport * as Util from '../Util/Util';\nimport { CollisionType } from './CollisionType';\nimport { Collider } from './Collider';\n\n/**\n * Collision contacts are used internally by Excalibur to resolve collision between colliders. This\n * Pair prevents collisions from being evaluated more than one time\n */\nexport class CollisionContact {\n  /**\n   * The id of this collision contact\n   */\n  id: string;\n  /**\n   * The first collider in the collision\n   */\n  colliderA: Collider;\n  /**\n   * The second collider in the collision\n   */\n  colliderB: Collider;\n  /**\n   * The minimum translation vector to resolve penetration, pointing away from colliderA\n   */\n  mtv: Vector;\n  /**\n   * The point of collision shared between colliderA and colliderB\n   */\n  point: Vector;\n  /**\n   * The collision normal, pointing away from colliderA\n   */\n  normal: Vector;\n\n  constructor(colliderA: Collider, colliderB: Collider, mtv: Vector, point: Vector, normal: Vector) {\n    this.colliderA = colliderA;\n    this.colliderB = colliderB;\n    this.mtv = mtv;\n    this.point = point;\n    this.normal = normal;\n  }\n\n  resolve(strategy: CollisionResolutionStrategy) {\n    if (strategy === CollisionResolutionStrategy.RigidBody) {\n      this._resolveRigidBodyCollision();\n    } else if (strategy === CollisionResolutionStrategy.Box) {\n      this._resolveBoxCollision();\n    } else {\n      throw new Error('Unknown collision resolution strategy');\n    }\n  }\n\n  private _applyBoxImpulse(colliderA: Collider, colliderB: Collider, mtv: Vector) {\n    if (colliderA.type === CollisionType.Active && colliderB.type !== CollisionType.Passive) {\n      // Resolve overlaps\n      if (colliderA.type === CollisionType.Active && colliderB.type === CollisionType.Active) {\n        // split overlaps if both are Active\n        mtv = mtv.scale(0.5);\n      }\n      // Apply mtv\n      colliderA.body.pos = colliderA.body.pos.add(mtv);\n\n      const mtvDir = mtv.normalize();\n\n      // only adjust if velocity is opposite\n      if (mtvDir.dot(colliderA.body.vel) < 0) {\n        // Cancel out velocity in direction of mtv\n        const velAdj = mtvDir.scale(mtvDir.dot(colliderA.body.vel.negate()));\n\n        colliderA.body.vel = colliderA.body.vel.add(velAdj);\n      }\n\n      colliderA.emit('postcollision', new PostCollisionEvent(colliderA, colliderB, Util.getSideFromDirection(mtv), mtv));\n    }\n  }\n\n  private _resolveBoxCollision() {\n    const side = Util.getSideFromDirection(this.mtv);\n    const mtv = this.mtv.negate();\n    // Publish collision events on both participants\n    this.colliderA.emit('precollision', new PreCollisionEvent(this.colliderA, this.colliderB, side, mtv));\n    this.colliderB.emit('precollision', new PreCollisionEvent(this.colliderB, this.colliderA, Util.getOppositeSide(side), mtv.negate()));\n\n    this._applyBoxImpulse(this.colliderA, this.colliderB, mtv);\n    this._applyBoxImpulse(this.colliderB, this.colliderA, mtv.negate());\n  }\n\n  private _resolveRigidBodyCollision() {\n    // perform collision on bounding areas\n    const bodyA: Body = this.colliderA.body;\n    const bodyB: Body = this.colliderB.body;\n    const mtv = this.mtv; // normal pointing away from colliderA\n    let normal = this.normal; // normal pointing away from colliderA\n    if (bodyA === bodyB) {\n      // sanity check for existing pairs\n      return;\n    }\n\n    // Publish collision events on both participants\n    const side = Util.getSideFromDirection(this.mtv);\n    this.colliderA.emit('precollision', new PreCollisionEvent(this.colliderA, this.colliderB, side, this.mtv));\n    this.colliderB.emit(\n      'precollision',\n      new PreCollisionEvent(this.colliderB, this.colliderA, Util.getOppositeSide(side), this.mtv.negate())\n    );\n\n    // If any of the participants are passive then short circuit\n    if (this.colliderA.type === CollisionType.Passive || this.colliderB.type === CollisionType.Passive) {\n      return;\n    }\n\n    const invMassA = this.colliderA.type === CollisionType.Fixed ? 0 : 1 / this.colliderA.mass;\n    const invMassB = this.colliderB.type === CollisionType.Fixed ? 0 : 1 / this.colliderB.mass;\n\n    const invMoiA = this.colliderA.type === CollisionType.Fixed ? 0 : 1 / this.colliderA.inertia;\n    const invMoiB = this.colliderB.type === CollisionType.Fixed ? 0 : 1 / this.colliderB.inertia;\n\n    // average restitution more realistic\n    const coefRestitution = Math.min(this.colliderA.bounciness, this.colliderB.bounciness);\n\n    const coefFriction = Math.min(this.colliderA.friction, this.colliderB.friction);\n\n    normal = normal.normalize();\n    const tangent = normal.normal().normalize();\n\n    const ra = this.point.sub(this.colliderA.center); // point relative to colliderA position\n    const rb = this.point.sub(this.colliderB.center); /// point relative to colliderB\n\n    // Relative velocity in linear terms\n    // Angular to linear velocity formula -> omega = v/r\n    const rv = bodyB.vel.add(rb.cross(-bodyB.rx)).sub(bodyA.vel.sub(ra.cross(bodyA.rx)));\n    const rvNormal = rv.dot(normal);\n    const rvTangent = rv.dot(tangent);\n\n    const raTangent = ra.dot(tangent);\n    const raNormal = ra.dot(normal);\n\n    const rbTangent = rb.dot(tangent);\n    const rbNormal = rb.dot(normal);\n\n    // If objects are moving away ignore\n    if (rvNormal > 0) {\n      return;\n    }\n\n    // Collision impulse formula from Chris Hecker\n    // https://en.wikipedia.org/wiki/Collision_response\n    const impulse =\n      -((1 + coefRestitution) * rvNormal) / (invMassA + invMassB + invMoiA * raTangent * raTangent + invMoiB * rbTangent * rbTangent);\n\n    if (this.colliderA.type === CollisionType.Fixed) {\n      bodyB.vel = bodyB.vel.add(normal.scale(impulse * invMassB));\n      if (Physics.allowRigidBodyRotation) {\n        bodyB.rx -= impulse * invMoiB * -rb.cross(normal);\n      }\n      bodyB.addMtv(mtv);\n    } else if (this.colliderB.type === CollisionType.Fixed) {\n      bodyA.vel = bodyA.vel.sub(normal.scale(impulse * invMassA));\n      if (Physics.allowRigidBodyRotation) {\n        bodyA.rx += impulse * invMoiA * -ra.cross(normal);\n      }\n      bodyA.addMtv(mtv.negate());\n    } else {\n      bodyB.vel = bodyB.vel.add(normal.scale(impulse * invMassB));\n      bodyA.vel = bodyA.vel.sub(normal.scale(impulse * invMassA));\n\n      if (Physics.allowRigidBodyRotation) {\n        bodyB.rx -= impulse * invMoiB * -rb.cross(normal);\n        bodyA.rx += impulse * invMoiA * -ra.cross(normal);\n      }\n\n      // Split the mtv in half for the two bodies, potentially we could do something smarter here\n      bodyB.addMtv(mtv.scale(0.5));\n      bodyA.addMtv(mtv.scale(-0.5));\n    }\n\n    // Friction portion of impulse\n    if (coefFriction && rvTangent) {\n      // Columb model of friction, formula for impulse due to friction from\n      // https://en.wikipedia.org/wiki/Collision_response\n\n      // tangent force exerted by body on another in contact\n      const t = rv.sub(normal.scale(rv.dot(normal))).normalize();\n\n      // impulse in the direction of tangent force\n      const jt = rv.dot(t) / (invMassA + invMassB + raNormal * raNormal * invMoiA + rbNormal * rbNormal * invMoiB);\n\n      let frictionImpulse = new Vector(0, 0);\n      if (Math.abs(jt) <= impulse * coefFriction) {\n        frictionImpulse = t.scale(jt).negate();\n      } else {\n        frictionImpulse = t.scale(-impulse * coefFriction);\n      }\n\n      if (this.colliderA.type === CollisionType.Fixed) {\n        // apply frictional impulse\n        bodyB.vel = bodyB.vel.add(frictionImpulse.scale(invMassB));\n        if (Physics.allowRigidBodyRotation) {\n          bodyB.rx += frictionImpulse.dot(t) * invMoiB * rb.cross(t);\n        }\n      } else if (this.colliderB.type === CollisionType.Fixed) {\n        // apply frictional impulse\n        bodyA.vel = bodyA.vel.sub(frictionImpulse.scale(invMassA));\n        if (Physics.allowRigidBodyRotation) {\n          bodyA.rx -= frictionImpulse.dot(t) * invMoiA * ra.cross(t);\n        }\n      } else {\n        // apply frictional impulse\n        bodyB.vel = bodyB.vel.add(frictionImpulse.scale(invMassB));\n        bodyA.vel = bodyA.vel.sub(frictionImpulse.scale(invMassA));\n\n        // apply frictional impulse\n        if (Physics.allowRigidBodyRotation) {\n          bodyB.rx += frictionImpulse.dot(t) * invMoiB * rb.cross(t);\n          bodyA.rx -= frictionImpulse.dot(t) * invMoiA * ra.cross(t);\n        }\n      }\n    }\n\n    this.colliderA.emit('postcollision', new PostCollisionEvent(this.colliderA, this.colliderB, side, this.mtv));\n    this.colliderB.emit(\n      'postcollision',\n      new PostCollisionEvent(this.colliderB, this.colliderA, Util.getOppositeSide(side), this.mtv.negate())\n    );\n  }\n}\n","﻿import { Circle } from './Circle';\nimport { CollisionContact } from './CollisionContact';\nimport { ConvexPolygon } from './ConvexPolygon';\nimport { Edge } from './Edge';\n\nimport { vec, Vector } from '../Algebra';\n\nexport const CollisionJumpTable = {\n  CollideCircleCircle(circleA: Circle, circleB: Circle): CollisionContact {\n    const radius = circleA.radius + circleB.radius;\n    const circleAPos = circleA.worldPos;\n    const circleBPos = circleB.worldPos;\n    if (circleAPos.distance(circleBPos) > radius) {\n      return null;\n    }\n\n    const axisOfCollision = circleBPos.sub(circleAPos).normalize();\n    const mvt = axisOfCollision.scale(radius - circleBPos.distance(circleAPos));\n\n    const pointOfCollision = circleA.getFurthestPoint(axisOfCollision);\n\n    return new CollisionContact(circleA.collider, circleB.collider, mvt, pointOfCollision, axisOfCollision);\n  },\n\n  CollideCirclePolygon(circle: Circle, polygon: ConvexPolygon): CollisionContact {\n    let minAxis = circle.testSeparatingAxisTheorem(polygon);\n    if (!minAxis) {\n      return null;\n    }\n\n    // make sure that the minAxis is pointing away from circle\n    const samedir = minAxis.dot(polygon.center.sub(circle.center));\n    minAxis = samedir < 0 ? minAxis.negate() : minAxis;\n\n    const verts: Vector[] = [];\n\n    const point1 = polygon.getFurthestPoint(minAxis.negate());\n    const point2 = circle.getFurthestPoint(minAxis); //.add(cc);\n    if (circle.contains(point1)) {\n      verts.push(point1);\n    }\n    if (polygon.contains(point2)) {\n      verts.push(point2);\n    }\n    if (verts.length === 0) {\n      return null;\n    }\n\n    return new CollisionContact(\n      circle.collider,\n      polygon.collider,\n      minAxis,\n      verts.length === 2 ? verts[0].average(verts[1]) : verts[0],\n      minAxis.normalize()\n    );\n  },\n\n  CollideCircleEdge(circle: Circle, edge: Edge): CollisionContact {\n    // center of the circle\n    const cc = circle.center;\n    // vector in the direction of the edge\n    const e = edge.end.sub(edge.begin);\n\n    // amount of overlap with the circle's center along the edge direction\n    const u = e.dot(edge.end.sub(cc));\n    const v = e.dot(cc.sub(edge.begin));\n\n    // Potential region A collision (circle is on the left side of the edge, before the beginning)\n    if (v <= 0) {\n      const da = edge.begin.sub(cc);\n      const dda = da.dot(da); // quick and dirty way of calc'n distance in r^2 terms saves some sqrts\n      // save some sqrts\n      if (dda > circle.radius * circle.radius) {\n        return null; // no collision\n      }\n      return new CollisionContact(\n        circle.collider,\n        edge.collider,\n        da.normalize().scale(circle.radius - Math.sqrt(dda)),\n        edge.begin,\n        da.normalize()\n      );\n    }\n\n    // Potential region B collision (circle is on the right side of the edge, after the end)\n    if (u <= 0) {\n      const db = edge.end.sub(cc);\n      const ddb = db.dot(db);\n      if (ddb > circle.radius * circle.radius) {\n        return null;\n      }\n      return new CollisionContact(\n        circle.collider,\n        edge.collider,\n        db.normalize().scale(circle.radius - Math.sqrt(ddb)),\n        edge.end,\n        db.normalize()\n      );\n    }\n\n    // Otherwise potential region AB collision (circle is in the middle of the edge between the beginning and end)\n    const den = e.dot(e);\n    const pointOnEdge = edge.begin\n      .scale(u)\n      .add(edge.end.scale(v))\n      .scale(1 / den);\n    const d = cc.sub(pointOnEdge);\n\n    const dd = d.dot(d);\n    if (dd > circle.radius * circle.radius) {\n      return null; // no collision\n    }\n\n    let n = e.perpendicular();\n    // flip correct direction\n    if (n.dot(cc.sub(edge.begin)) < 0) {\n      n = vec(-n.x, -n.y);\n    }\n\n    n = n.normalize();\n\n    const mvt = n.scale(Math.abs(circle.radius - Math.sqrt(dd)));\n    return new CollisionContact(circle.collider, edge.collider, mvt.negate(), pointOnEdge, n.negate());\n  },\n\n  CollideEdgeEdge(): CollisionContact {\n    // Edge-edge collision doesn't make sense\n    return null;\n  },\n\n  CollidePolygonEdge(polygon: ConvexPolygon, edge: Edge): CollisionContact {\n    // 3 cases:\n    // (1) Polygon lands on the full face\n    // (2) Polygon lands on the right point\n    // (3) Polygon lands on the left point\n\n    const e = edge.end.sub(edge.begin);\n    let edgeNormal = e.normal();\n\n    if (polygon.contains(edge.begin)) {\n      const { distance: mtv, face } = polygon.getClosestFace(edge.begin);\n      if (mtv) {\n        return new CollisionContact(polygon.collider, edge.collider, mtv.negate(), edge.begin.add(mtv.negate()), face.normal().negate());\n      }\n    }\n\n    if (polygon.contains(edge.end)) {\n      const { distance: mtv, face } = polygon.getClosestFace(edge.end);\n      if (mtv) {\n        return new CollisionContact(polygon.collider, edge.collider, mtv.negate(), edge.end.add(mtv.negate()), face.normal().negate());\n      }\n    }\n\n    const pc = polygon.center;\n    const ec = edge.center;\n    const dir = ec.sub(pc).normalize();\n\n    // build a temporary polygon from the edge to use SAT\n    const linePoly = new ConvexPolygon({\n      collider: edge.collider,\n      points: [edge.begin, edge.end, edge.end.add(dir.scale(30)), edge.begin.add(dir.scale(30))]\n    });\n\n    let minAxis = polygon.testSeparatingAxisTheorem(linePoly);\n\n    // no minAxis, no overlap, no collision\n    if (!minAxis) {\n      return null;\n    }\n\n    // flip the normal and axis to always have positive collisions\n    edgeNormal = edgeNormal.dot(dir) < 0 ? edgeNormal.negate() : edgeNormal;\n    minAxis = minAxis.dot(dir) < 0 ? minAxis.negate() : minAxis;\n\n    return new CollisionContact(polygon.collider, edge.collider, minAxis, polygon.getFurthestPoint(edgeNormal), edgeNormal);\n  },\n\n  CollidePolygonPolygon(polyA: ConvexPolygon, polyB: ConvexPolygon): CollisionContact {\n    // do a SAT test to find a min axis if it exists\n    let minAxis = polyA.testSeparatingAxisTheorem(polyB);\n\n    // no overlap, no collision return null\n    if (!minAxis) {\n      return null;\n    }\n\n    // make sure that minAxis is pointing from A -> B\n    const sameDir = minAxis.dot(polyB.center.sub(polyA.center));\n    minAxis = sameDir < 0 ? minAxis.negate() : minAxis;\n\n    // find rough point of collision\n    // todo this could be better\n    const verts: Vector[] = [];\n    const pointA = polyA.getFurthestPoint(minAxis);\n    const pointB = polyB.getFurthestPoint(minAxis.negate());\n\n    if (polyB.contains(pointA)) {\n      verts.push(pointA);\n    }\n\n    if (polyA.contains(pointB)) {\n      verts.push(pointB);\n    }\n    // no candidates, pick something\n    if (verts.length === 0) {\n      verts.push(pointB);\n    }\n\n    const contact = verts.length === 2 ? verts[0].add(verts[1]).scale(0.5) : verts[0];\n\n    return new CollisionContact(polyA.collider, polyB.collider, minAxis, contact, minAxis.normalize());\n  }\n};\n","import { Line, Vector, Ray } from '../Algebra';\nimport { ConvexPolygon } from './ConvexPolygon';\nimport { Edge } from './Edge';\nimport { Circle } from './Circle';\n\n/**\n * Finds the closes line between 2 line segments, were the magnitude of u, v are the lengths of each segment\n * L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n * L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n * @param p0 Point where L1 begins\n * @param u Direction and length of L1\n * @param q0 Point were L2 begins\n * @param v Direction and length of L2\n */\nexport function ClosestLine(p0: Vector, u: Vector, q0: Vector, v: Vector) {\n  // Distance between 2 lines http://geomalgorithms.com/a07-_distance.html\n\n  // w(s, t) = P(s) - Q(t)\n  // The w(s, t) that has the minimum distance we will say is w(sClosest, tClosest) = wClosest\n  //\n  // wClosest is the vector that is uniquely perpendicular to the 2 line directions u & v.\n  // wClosest = w0 + sClosest * u - tClosest * v, where w0 is p0 - q0\n  //\n  // The closest point between 2 lines then satisfies this pair of equations\n  // 1: u * wClosest = 0\n  // 2: v * wClosest = 0\n  //\n  // Substituting wClosest into the equations we get\n  //\n  // 1: (u * u) * sClosest - (u * v) tClosest = -u * w0\n  // 2: (v * u) * sClosest - (v * v) tClosest = -v * w0\n\n  // simplify w0\n  const w0 = p0.sub(q0);\n\n  // simplify (u * u);\n  const a = u.dot(u);\n  // simplify (u * v);\n  const b = u.dot(v);\n  // simplify (v * v)\n  const c = v.dot(v);\n  // simplify (u * w0)\n  const d = u.dot(w0);\n  // simplify (v * w0)\n  const e = v.dot(w0);\n\n  // denominator ac - b^2\n  const denom = a * c - b * b;\n  let sDenom = denom;\n  let tDenom = denom;\n  // if denom is 0 they are parallel, use any point from either as the start in this case p0\n  if (denom === 0 || denom <= 0.01) {\n    const tClosestParallel = d / b;\n    return new Line(p0, q0.add(v.scale(tClosestParallel)));\n  }\n\n  // Solve for sClosest for infinite line\n  let sClosest = b * e - c * d; // / denom;\n\n  // Solve for tClosest for infinite line\n  let tClosest = a * e - b * d; // / denom;\n\n  // Solve for segments candidate edges, if sClosest and tClosest are outside their segments\n  if (sClosest < 0) {\n    sClosest = 0;\n    tClosest = e;\n    tDenom = c;\n  } else if (sClosest > sDenom) {\n    sClosest = sDenom;\n    tClosest = e + b;\n    tDenom = c;\n  }\n\n  if (tClosest < 0) {\n    tClosest = 0;\n    if (-d < 0) {\n      sClosest = 0;\n    } else if (-d > a) {\n      sClosest = sDenom;\n    } else {\n      sClosest = -d;\n      sDenom = a;\n    }\n  } else if (tClosest > tDenom) {\n    tClosest = tDenom;\n    if (-d + b < 0) {\n      sClosest = 0;\n    } else if (-d + b > a) {\n      sClosest = sDenom;\n    } else {\n      sClosest = -d + b;\n      sDenom = a;\n    }\n  }\n  sClosest = Math.abs(sClosest) < 0.001 ? 0 : sClosest / sDenom;\n  tClosest = Math.abs(tClosest) < 0.001 ? 0 : tClosest / tDenom;\n\n  return new Line(p0.add(u.scale(sClosest)), q0.add(v.scale(tClosest)));\n}\n\nexport const ClosestLineJumpTable = {\n  PolygonPolygonClosestLine(polygonA: ConvexPolygon, polygonB: ConvexPolygon) {\n    // Find the 2 closest faces on each polygon\n    const otherWorldPos = polygonB.worldPos;\n    const otherDirection = otherWorldPos.sub(polygonA.worldPos);\n    const thisDirection = otherDirection.negate();\n\n    const rayTowardsOther = new Ray(polygonA.worldPos, otherDirection);\n    const rayTowardsThis = new Ray(otherWorldPos, thisDirection);\n\n    const thisPoint = polygonA.rayCast(rayTowardsOther).add(rayTowardsOther.dir.scale(0.1));\n    const otherPoint = polygonB.rayCast(rayTowardsThis).add(rayTowardsThis.dir.scale(0.1));\n\n    const thisFace = polygonA.getClosestFace(thisPoint);\n    const otherFace = polygonB.getClosestFace(otherPoint);\n\n    // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n    const p0 = thisFace.face.begin;\n    const u = thisFace.face.getEdge();\n\n    // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n    const q0 = otherFace.face.begin;\n    const v = otherFace.face.getEdge();\n\n    return ClosestLine(p0, u, q0, v);\n  },\n\n  PolygonEdgeClosestLine(polygon: ConvexPolygon, edge: Edge) {\n    // Find the 2 closest faces on each polygon\n    const otherWorldPos = edge.worldPos;\n    const otherDirection = otherWorldPos.sub(polygon.worldPos);\n\n    const rayTowardsOther = new Ray(polygon.worldPos, otherDirection);\n\n    const thisPoint = polygon.rayCast(rayTowardsOther).add(rayTowardsOther.dir.scale(0.1));\n\n    const thisFace = polygon.getClosestFace(thisPoint);\n\n    // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n    const p0 = thisFace.face.begin;\n    const u = thisFace.face.getEdge();\n\n    // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n    const edgeLine = edge.asLine();\n    const edgeStart = edgeLine.begin;\n    const edgeVector = edgeLine.getEdge();\n    const q0 = edgeStart;\n    const v = edgeVector;\n\n    return ClosestLine(p0, u, q0, v);\n  },\n\n  PolygonCircleClosestLine(polygon: ConvexPolygon, circle: Circle) {\n    // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\n    // Find the 2 closest faces on each polygon\n    const otherWorldPos = circle.worldPos;\n    const otherDirection = otherWorldPos.sub(polygon.worldPos);\n\n    const rayTowardsOther = new Ray(polygon.worldPos, otherDirection.normalize());\n\n    const thisPoint = polygon.rayCast(rayTowardsOther).add(rayTowardsOther.dir.scale(0.1));\n\n    const thisFace = polygon.getClosestFace(thisPoint);\n\n    // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n    const p0 = thisFace.face.begin;\n    const u = thisFace.face.getEdge();\n\n    // Time of minimum distance\n    let t = (u.x * (otherWorldPos.x - p0.x) + u.y * (otherWorldPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\n\n    // If time of minimum is past the edge clamp\n    if (t > 1) {\n      t = 1;\n    } else if (t < 0) {\n      t = 0;\n    }\n\n    // Minimum distance\n    const d = Math.sqrt(Math.pow(p0.x + u.x * t - otherWorldPos.x, 2) + Math.pow(p0.y + u.y * t - otherWorldPos.y, 2)) - circle.radius;\n\n    const circlex = ((p0.x + u.x * t - otherWorldPos.x) * circle.radius) / (circle.radius + d);\n    const circley = ((p0.y + u.y * t - otherWorldPos.y) * circle.radius) / (circle.radius + d);\n    return new Line(u.scale(t).add(p0), new Vector(otherWorldPos.x + circlex, otherWorldPos.y + circley));\n  },\n\n  CircleCircleClosestLine(circleA: Circle, circleB: Circle) {\n    // Find the 2 closest faces on each polygon\n    const otherWorldPos = circleB.worldPos;\n    const otherDirection = otherWorldPos.sub(circleA.worldPos);\n\n    const thisWorldPos = circleA.worldPos;\n    const thisDirection = thisWorldPos.sub(circleB.worldPos);\n\n    const rayTowardsOther = new Ray(circleA.worldPos, otherDirection);\n    const rayTowardsThis = new Ray(circleB.worldPos, thisDirection);\n\n    const thisPoint = circleA.rayCast(rayTowardsOther);\n    const otherPoint = circleB.rayCast(rayTowardsThis);\n\n    return new Line(thisPoint, otherPoint);\n  },\n\n  CircleEdgeClosestLine(circle: Circle, edge: Edge) {\n    // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\n    const circleWorlPos = circle.worldPos;\n\n    // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n    const edgeLine = edge.asLine();\n    const edgeStart = edgeLine.begin;\n    const edgeVector = edgeLine.getEdge();\n    const p0 = edgeStart;\n    const u = edgeVector;\n\n    // Time of minimum distance\n    let t = (u.x * (circleWorlPos.x - p0.x) + u.y * (circleWorlPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\n\n    // If time of minimum is past the edge clamp to edge\n    if (t > 1) {\n      t = 1;\n    } else if (t < 0) {\n      t = 0;\n    }\n\n    // Minimum distance\n    const d = Math.sqrt(Math.pow(p0.x + u.x * t - circleWorlPos.x, 2) + Math.pow(p0.y + u.y * t - circleWorlPos.y, 2)) - circle.radius;\n\n    const circlex = ((p0.x + u.x * t - circleWorlPos.x) * circle.radius) / (circle.radius + d);\n    const circley = ((p0.y + u.y * t - circleWorlPos.y) * circle.radius) / (circle.radius + d);\n    return new Line(u.scale(t).add(p0), new Vector(circleWorlPos.x + circlex, circleWorlPos.y + circley));\n  },\n\n  EdgeEdgeClosestLine(edgeA: Edge, edgeB: Edge) {\n    // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n    const edgeLineA = edgeA.asLine();\n    const edgeStartA = edgeLineA.begin;\n    const edgeVectorA = edgeLineA.getEdge();\n    const p0 = edgeStartA;\n    const u = edgeVectorA;\n\n    // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n    const edgeLineB = edgeB.asLine();\n    const edgeStartB = edgeLineB.begin;\n    const edgeVectorB = edgeLineB.getEdge();\n    const q0 = edgeStartB;\n    const v = edgeVectorB;\n\n    return ClosestLine(p0, u, q0, v);\n  }\n};\n","import { BoundingBox } from './BoundingBox';\nimport { CollisionJumpTable } from './CollisionJumpTable';\nimport { CollisionContact } from './CollisionContact';\nimport { CollisionShape } from './CollisionShape';\nimport { ConvexPolygon } from './ConvexPolygon';\nimport { Edge } from './Edge';\n\nimport { Vector, Ray, Projection, Line } from '../Algebra';\nimport { Physics } from '../Physics';\nimport { Color } from '../Drawing/Color';\nimport { Collider } from './Collider';\n\nimport { ClosestLineJumpTable } from './ClosestLineJumpTable';\n\nexport interface CircleOptions {\n  /**\n   * Optional pixel offset to shift the circle relative to the collider, by default (0, 0).\n   */\n  offset?: Vector;\n  /**\n   * Required radius of the circle\n   */\n  radius: number;\n  /**\n   * Optional collider to associate with this shape\n   */\n  collider?: Collider;\n}\n\n/**\n * This is a circle collision shape for the excalibur rigid body physics simulation\n */\nexport class Circle implements CollisionShape {\n  /**\n   * Position of the circle relative to the collider, by default (0, 0) meaning the shape is positioned on top of the collider.\n   */\n  public offset: Vector = Vector.Zero;\n\n  public get worldPos(): Vector {\n    if (this.collider && this.collider.body) {\n      return this.collider.body.pos.add(this.offset);\n    }\n    return this.offset;\n  }\n\n  /**\n   * This is the radius of the circle\n   */\n  public radius: number;\n\n  /**\n   * The collider associated for this shape, if any.\n   */\n  public collider?: Collider;\n\n  constructor(options: CircleOptions) {\n    this.offset = options.offset || Vector.Zero;\n    this.radius = options.radius || 0;\n    this.collider = options.collider || null;\n  }\n\n  /**\n   * Returns a clone of this shape, not associated with any collider\n   */\n  public clone(): Circle {\n    return new Circle({\n      offset: this.offset.clone(),\n      radius: this.radius,\n      collider: null\n    });\n  }\n\n  /**\n   * Get the center of the collision shape in world coordinates\n   */\n  public get center(): Vector {\n    if (this.collider && this.collider.body) {\n      return this.offset.add(this.collider.body.pos);\n    }\n    return this.offset;\n  }\n\n  /**\n   * Tests if a point is contained in this collision shape\n   */\n  public contains(point: Vector): boolean {\n    let pos = this.offset;\n    if (this.collider && this.collider.body) {\n      pos = this.collider.body.pos;\n    }\n    const distance = pos.distance(point);\n    if (distance <= this.radius) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Casts a ray at the Circle shape and returns the nearest point of collision\n   * @param ray\n   */\n  public rayCast(ray: Ray, max: number = Infinity): Vector {\n    //https://en.wikipedia.org/wiki/Line%E2%80%93sphere_intersection\n    const c = this.center;\n    const dir = ray.dir;\n    const orig = ray.pos;\n\n    const discriminant = Math.sqrt(Math.pow(dir.dot(orig.sub(c)), 2) - Math.pow(orig.sub(c).distance(), 2) + Math.pow(this.radius, 2));\n\n    if (discriminant < 0) {\n      // no intersection\n      return null;\n    } else {\n      let toi = 0;\n      if (discriminant === 0) {\n        toi = -dir.dot(orig.sub(c));\n        if (toi > 0 && toi < max) {\n          return ray.getPoint(toi);\n        }\n        return null;\n      } else {\n        const toi1 = -dir.dot(orig.sub(c)) + discriminant;\n        const toi2 = -dir.dot(orig.sub(c)) - discriminant;\n\n        const positiveToi: number[] = [];\n        if (toi1 >= 0) {\n          positiveToi.push(toi1);\n        }\n\n        if (toi2 >= 0) {\n          positiveToi.push(toi2);\n        }\n\n        const mintoi = Math.min(...positiveToi);\n        if (mintoi <= max) {\n          return ray.getPoint(mintoi);\n        }\n        return null;\n      }\n    }\n  }\n\n  public getClosestLineBetween(shape: CollisionShape): Line {\n    if (shape instanceof Circle) {\n      return ClosestLineJumpTable.CircleCircleClosestLine(this, shape);\n    } else if (shape instanceof ConvexPolygon) {\n      return ClosestLineJumpTable.PolygonCircleClosestLine(shape, this).flip();\n    } else if (shape instanceof Edge) {\n      return ClosestLineJumpTable.CircleEdgeClosestLine(this, shape).flip();\n    } else {\n      throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n    }\n  }\n\n  /**\n   * @inheritdoc\n   */\n  public collide(shape: CollisionShape): CollisionContact {\n    if (shape instanceof Circle) {\n      return CollisionJumpTable.CollideCircleCircle(this, shape);\n    } else if (shape instanceof ConvexPolygon) {\n      return CollisionJumpTable.CollideCirclePolygon(this, shape);\n    } else if (shape instanceof Edge) {\n      return CollisionJumpTable.CollideCircleEdge(this, shape);\n    } else {\n      throw new Error(`Circle could not collide with unknown CollisionShape ${typeof shape}`);\n    }\n  }\n\n  /**\n   * Find the point on the shape furthest in the direction specified\n   */\n  public getFurthestPoint(direction: Vector): Vector {\n    return this.center.add(direction.normalize().scale(this.radius));\n  }\n\n  /**\n   * Get the axis aligned bounding box for the circle shape in world coordinates\n   */\n  public get bounds(): BoundingBox {\n    let bodyPos = Vector.Zero;\n    if (this.collider && this.collider.body) {\n      bodyPos = this.collider.body.pos;\n    }\n    return new BoundingBox(\n      this.offset.x + bodyPos.x - this.radius,\n      this.offset.y + bodyPos.y - this.radius,\n      this.offset.x + bodyPos.x + this.radius,\n      this.offset.y + bodyPos.y + this.radius\n    );\n  }\n\n  /**\n   * Get the axis aligned bounding box for the circle shape in local coordinates\n   */\n  public get localBounds(): BoundingBox {\n    return new BoundingBox(\n      this.offset.x - this.radius,\n      this.offset.y - this.radius,\n      this.offset.x + this.radius,\n      this.offset.y + this.radius\n    );\n  }\n\n  /**\n   * Get axis not implemented on circles, since there are infinite axis in a circle\n   */\n  public get axes(): Vector[] {\n    return null;\n  }\n\n  /**\n   * Returns the moment of inertia of a circle given it's mass\n   * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n   */\n  public get inertia(): number {\n    const mass = this.collider ? this.collider.mass : Physics.defaultMass;\n    return (mass * this.radius * this.radius) / 2;\n  }\n\n  /**\n   * Tests the separating axis theorem for circles against polygons\n   */\n  public testSeparatingAxisTheorem(polygon: ConvexPolygon): Vector {\n    const axes = polygon.axes;\n    const pc = polygon.center;\n    // Special SAT with circles\n    const closestPointOnPoly = polygon.getFurthestPoint(this.offset.sub(pc));\n    axes.push(this.offset.sub(closestPointOnPoly).normalize());\n\n    let minOverlap = Number.MAX_VALUE;\n    let minAxis = null;\n    let minIndex = -1;\n    for (let i = 0; i < axes.length; i++) {\n      const proj1 = polygon.project(axes[i]);\n      const proj2 = this.project(axes[i]);\n      const overlap = proj1.getOverlap(proj2);\n      if (overlap <= 0) {\n        return null;\n      } else {\n        if (overlap < minOverlap) {\n          minOverlap = overlap;\n          minAxis = axes[i];\n          minIndex = i;\n        }\n      }\n    }\n    if (minIndex < 0) {\n      return null;\n    }\n    return minAxis.normalize().scale(minOverlap);\n  }\n\n  /* istanbul ignore next */\n  public recalc(): void {\n    // circles don't cache\n  }\n\n  /**\n   * Project the circle along a specified axis\n   */\n  public project(axis: Vector): Projection {\n    const scalars = [];\n    const point = this.center;\n    const dotProduct = point.dot(axis);\n    scalars.push(dotProduct);\n    scalars.push(dotProduct + this.radius);\n    scalars.push(dotProduct - this.radius);\n    return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n  }\n\n  public draw(ctx: CanvasRenderingContext2D, color: Color = Color.Green, pos: Vector = Vector.Zero) {\n    const newPos = pos.add(this.offset);\n    ctx.beginPath();\n    ctx.fillStyle = color.toString();\n    ctx.arc(newPos.x, newPos.y, this.radius, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Green) {\n    const body = this.collider.body;\n    const pos = body ? body.pos.add(this.offset) : this.offset;\n    const rotation = body ? body.rotation : 0;\n\n    ctx.beginPath();\n    ctx.strokeStyle = color.toString();\n    ctx.arc(pos.x, pos.y, this.radius, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.moveTo(pos.x, pos.y);\n    ctx.lineTo(Math.cos(rotation) * this.radius + pos.x, Math.sin(rotation) * this.radius + pos.y);\n    ctx.closePath();\n    ctx.stroke();\n  }\n}\n","import { Body } from './Body';\nimport { BoundingBox } from './BoundingBox';\nimport { CollisionContact } from './CollisionContact';\nimport { CollisionJumpTable } from './CollisionJumpTable';\nimport { CollisionShape } from './CollisionShape';\nimport { Circle } from './Circle';\nimport { ConvexPolygon } from './ConvexPolygon';\n\nimport { Vector, Ray, Projection, Line } from '../Algebra';\nimport { Physics } from '../Physics';\nimport { Color } from '../Drawing/Color';\nimport { Collider } from './Collider';\nimport { ClosestLineJumpTable } from './ClosestLineJumpTable';\n\nexport interface EdgeOptions {\n  /**\n   * The beginning of the edge defined in local coordinates to the collider\n   */\n  begin: Vector;\n  /**\n   * The ending of the edge defined in local coordinates to the collider\n   */\n  end: Vector;\n  /**\n   * Optionally the collider associated with this edge\n   */\n  collider?: Collider;\n}\n\n/**\n * Edge is a single line collision shape to create collisions with a single line.\n */\nexport class Edge implements CollisionShape {\n  body: Body;\n  collider?: Collider;\n  offset: Vector;\n  begin: Vector;\n  end: Vector;\n\n  constructor(options: EdgeOptions) {\n    this.begin = options.begin || Vector.Zero;\n    this.end = options.end || Vector.Zero;\n    this.collider = options.collider || null;\n    this.offset = this.center;\n  }\n\n  /**\n   * Returns a clone of this Edge, not associated with any collider\n   */\n  public clone(): Edge {\n    return new Edge({\n      begin: this.begin.clone(),\n      end: this.end.clone(),\n      collider: null\n    });\n  }\n\n  public get worldPos(): Vector {\n    if (this.collider && this.collider.body) {\n      return this.collider.body.pos.add(this.offset);\n    }\n    return this.offset;\n  }\n\n  /**\n   * Get the center of the collision area in world coordinates\n   */\n  public get center(): Vector {\n    const pos = this.begin.average(this.end).add(this._getBodyPos());\n    return pos;\n  }\n\n  private _getBodyPos(): Vector {\n    let bodyPos = Vector.Zero;\n    if (this.collider && this.collider.body) {\n      bodyPos = this.collider.body.pos;\n    }\n    return bodyPos;\n  }\n\n  private _getTransformedBegin(): Vector {\n    const body = this.collider ? this.collider.body : null;\n    const angle = body ? body.rotation : 0;\n    return this.begin.rotate(angle).add(this._getBodyPos());\n  }\n\n  private _getTransformedEnd(): Vector {\n    const body = this.collider ? this.collider.body : null;\n    const angle = body ? body.rotation : 0;\n    return this.end.rotate(angle).add(this._getBodyPos());\n  }\n\n  /**\n   * Returns the slope of the line in the form of a vector\n   */\n  public getSlope(): Vector {\n    const begin = this._getTransformedBegin();\n    const end = this._getTransformedEnd();\n    const distance = begin.distance(end);\n    return end.sub(begin).scale(1 / distance);\n  }\n\n  /**\n   * Returns the length of the line segment in pixels\n   */\n  public getLength(): number {\n    const begin = this._getTransformedBegin();\n    const end = this._getTransformedEnd();\n    const distance = begin.distance(end);\n    return distance;\n  }\n\n  /**\n   * Tests if a point is contained in this collision area\n   */\n  public contains(): boolean {\n    return false;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  public rayCast(ray: Ray, max: number = Infinity): Vector {\n    const numerator = this._getTransformedBegin().sub(ray.pos);\n\n    // Test is line and ray are parallel and non intersecting\n    if (ray.dir.cross(this.getSlope()) === 0 && numerator.cross(ray.dir) !== 0) {\n      return null;\n    }\n\n    // Lines are parallel\n    const divisor = ray.dir.cross(this.getSlope());\n    if (divisor === 0) {\n      return null;\n    }\n\n    const t = numerator.cross(this.getSlope()) / divisor;\n\n    if (t >= 0 && t <= max) {\n      const u = numerator.cross(ray.dir) / divisor / this.getLength();\n      if (u >= 0 && u <= 1) {\n        return ray.getPoint(t);\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Returns the closes line between this and another shape, from this -> shape\n   * @param shape\n   */\n  public getClosestLineBetween(shape: CollisionShape): Line {\n    if (shape instanceof Circle) {\n      return ClosestLineJumpTable.CircleEdgeClosestLine(shape, this);\n    } else if (shape instanceof ConvexPolygon) {\n      return ClosestLineJumpTable.PolygonEdgeClosestLine(shape, this).flip();\n    } else if (shape instanceof Edge) {\n      return ClosestLineJumpTable.EdgeEdgeClosestLine(this, shape);\n    } else {\n      throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n    }\n  }\n\n  /**\n   * @inheritdoc\n   */\n  public collide(shape: CollisionShape): CollisionContact {\n    if (shape instanceof Circle) {\n      return CollisionJumpTable.CollideCircleEdge(shape, this);\n    } else if (shape instanceof ConvexPolygon) {\n      return CollisionJumpTable.CollidePolygonEdge(shape, this);\n    } else if (shape instanceof Edge) {\n      return CollisionJumpTable.CollideEdgeEdge();\n    } else {\n      throw new Error(`Edge could not collide with unknown CollisionShape ${typeof shape}`);\n    }\n  }\n\n  /**\n   * Find the point on the shape furthest in the direction specified\n   */\n  public getFurthestPoint(direction: Vector): Vector {\n    const transformedBegin = this._getTransformedBegin();\n    const transformedEnd = this._getTransformedEnd();\n    if (direction.dot(transformedBegin) > 0) {\n      return transformedBegin;\n    } else {\n      return transformedEnd;\n    }\n  }\n\n  private _boundsFromBeginEnd(begin: Vector, end: Vector) {\n    return new BoundingBox(Math.min(begin.x, end.x), Math.min(begin.y, end.y), Math.max(begin.x, end.x), Math.max(begin.y, end.y));\n  }\n\n  /**\n   * Get the axis aligned bounding box for the edge shape in world space\n   */\n  public get bounds(): BoundingBox {\n    const transformedBegin = this._getTransformedBegin();\n    const transformedEnd = this._getTransformedEnd();\n    return this._boundsFromBeginEnd(transformedBegin, transformedEnd);\n  }\n\n  /**\n   * Get the axis aligned bounding box for the edge shape in local space\n   */\n  public get localBounds(): BoundingBox {\n    return this._boundsFromBeginEnd(this.begin, this.end);\n  }\n\n  /**\n   * Returns this edge represented as a line in world coordinates\n   */\n  public asLine(): Line {\n    return new Line(this._getTransformedBegin(), this._getTransformedEnd());\n  }\n\n  public asLocalLine(): Line {\n    return new Line(this.begin, this.end);\n  }\n\n  /**\n   * Get the axis associated with the edge\n   */\n  public get axes(): Vector[] {\n    const e = this._getTransformedEnd().sub(this._getTransformedBegin());\n    const edgeNormal = e.normal();\n\n    const axes = [];\n    axes.push(edgeNormal);\n    axes.push(edgeNormal.negate());\n    axes.push(edgeNormal.normal());\n    axes.push(edgeNormal.normal().negate());\n    return axes;\n  }\n\n  /**\n   * Get the moment of inertia for an edge\n   * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n   */\n  public get inertia(): number {\n    const mass = this.collider ? this.collider.mass : Physics.defaultMass;\n    const length = this.end.sub(this.begin).distance() / 2;\n    return mass * length * length;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  public recalc(): void {\n    // edges don't have any cached data\n  }\n\n  /**\n   * Project the edge along a specified axis\n   */\n  public project(axis: Vector): Projection {\n    const scalars = [];\n\n    const points = [this._getTransformedBegin(), this._getTransformedEnd()];\n    const len = points.length;\n    for (let i = 0; i < len; i++) {\n      scalars.push(points[i].dot(axis));\n    }\n\n    return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n  }\n\n  public draw(ctx: CanvasRenderingContext2D, color: Color = Color.Green, pos: Vector = Vector.Zero) {\n    const begin = this.begin.add(pos);\n    const end = this.end.add(pos);\n    ctx.strokeStyle = color.toString();\n    ctx.beginPath();\n    ctx.moveTo(begin.x, begin.y);\n    ctx.lineTo(end.x, end.y);\n    ctx.closePath();\n    ctx.stroke();\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Red) {\n    const begin = this._getTransformedBegin();\n    const end = this._getTransformedEnd();\n    ctx.strokeStyle = color.toString();\n    ctx.beginPath();\n    ctx.moveTo(begin.x, begin.y);\n    ctx.lineTo(end.x, end.y);\n    ctx.closePath();\n    ctx.stroke();\n  }\n}\n","﻿import { Color } from '../Drawing/Color';\nimport { Physics } from '../Physics';\nimport { BoundingBox } from './BoundingBox';\nimport { Edge } from './Edge';\nimport { CollisionJumpTable } from './CollisionJumpTable';\nimport { Circle } from './Circle';\nimport { CollisionContact } from './CollisionContact';\nimport { CollisionShape } from './CollisionShape';\nimport { Vector, Line, Ray, Projection } from '../Algebra';\nimport { Collider } from './Collider';\nimport { ClosestLineJumpTable } from './ClosestLineJumpTable';\n\nexport interface ConvexPolygonOptions {\n  /**\n   * Pixel offset relative to a collider's position\n   */\n\n  offset?: Vector;\n  /**\n   * Points in the polygon in order around the perimeter in local coordinates\n   */\n  points: Vector[];\n  /**\n   * Whether points are specified in clockwise or counter clockwise order, default counter-clockwise\n   */\n  clockwiseWinding?: boolean;\n  /**\n   * Collider to associate optionally with this shape\n   */\n  collider?: Collider;\n}\n\n/**\n * Polygon collision shape for detecting collisions\n */\nexport class ConvexPolygon implements CollisionShape {\n  public offset: Vector;\n  public points: Vector[];\n\n  /**\n   * Collider associated with this shape\n   */\n  public collider?: Collider;\n\n  private _transformedPoints: Vector[] = [];\n  private _axes: Vector[] = [];\n  private _sides: Line[] = [];\n\n  constructor(options: ConvexPolygonOptions) {\n    this.offset = options.offset || Vector.Zero;\n    const winding = !!options.clockwiseWinding;\n    this.points = (winding ? options.points.reverse() : options.points) || [];\n    this.collider = this.collider = options.collider || null;\n\n    // calculate initial transformation\n    this._calculateTransformation();\n  }\n\n  /**\n   * Returns a clone of this ConvexPolygon, not associated with any collider\n   */\n  public clone(): ConvexPolygon {\n    return new ConvexPolygon({\n      offset: this.offset.clone(),\n      points: this.points.map((p) => p.clone()),\n      collider: null\n    });\n  }\n\n  public get worldPos(): Vector {\n    if (this.collider && this.collider.body) {\n      return this.collider.body.pos.add(this.offset);\n    }\n    return this.offset;\n  }\n\n  /**\n   * Get the center of the collision shape in world coordinates\n   */\n  public get center(): Vector {\n    const body = this.collider ? this.collider.body : null;\n    if (body) {\n      return body.pos.add(this.offset);\n    }\n    return this.offset;\n  }\n\n  /**\n   * Calculates the underlying transformation from the body relative space to world space\n   */\n  private _calculateTransformation() {\n    const body = this.collider ? this.collider.body : null;\n    const pos = body ? body.pos.add(this.offset) : this.offset;\n    const angle = body ? body.rotation : 0;\n    const scale = body ? body.scale : Vector.One;\n\n    const len = this.points.length;\n    this._transformedPoints.length = 0; // clear out old transform\n    for (let i = 0; i < len; i++) {\n      this._transformedPoints[i] = this.points[i].scale(scale).rotate(angle).add(pos);\n    }\n  }\n\n  /**\n   * Gets the points that make up the polygon in world space, from actor relative space (if specified)\n   */\n  public getTransformedPoints(): Vector[] {\n    // only recalculate geometry if, hasn't been calculated\n    if (\n      !this._transformedPoints.length ||\n      // or the position or rotation has changed in world space\n      (this.collider &&\n        this.collider.body &&\n        (!this.collider.body.oldPos.equals(this.collider.body.pos) ||\n          this.collider.body.oldRotation !== this.collider.body.rotation ||\n          this.collider.body.oldScale !== this.collider.body.scale))\n    ) {\n      this._calculateTransformation();\n    }\n    return this._transformedPoints;\n  }\n\n  /**\n   * Gets the sides of the polygon in world space\n   */\n  public getSides(): Line[] {\n    if (this._sides.length) {\n      return this._sides;\n    }\n    const lines = [];\n    const points = this.getTransformedPoints();\n    const len = points.length;\n    for (let i = 0; i < len; i++) {\n      lines.push(new Line(points[i], points[(i - 1 + len) % len]));\n    }\n    this._sides = lines;\n    return this._sides;\n  }\n\n  public recalc(): void {\n    this._sides.length = 0;\n    this._axes.length = 0;\n    this._transformedPoints.length = 0;\n    this.getTransformedPoints();\n    this.getSides();\n  }\n\n  /**\n   * Tests if a point is contained in this collision shape in world space\n   */\n  public contains(point: Vector): boolean {\n    // Always cast to the right, as long as we cast in a consistent fixed direction we\n    // will be fine\n    const testRay = new Ray(point, new Vector(1, 0));\n    const intersectCount = this.getSides().reduce(function (accum, side) {\n      if (testRay.intersect(side) >= 0) {\n        return accum + 1;\n      }\n      return accum;\n    }, 0);\n\n    if (intersectCount % 2 === 0) {\n      return false;\n    }\n    return true;\n  }\n\n  public getClosestLineBetween(shape: CollisionShape): Line {\n    if (shape instanceof Circle) {\n      return ClosestLineJumpTable.PolygonCircleClosestLine(this, shape);\n    } else if (shape instanceof ConvexPolygon) {\n      return ClosestLineJumpTable.PolygonPolygonClosestLine(this, shape);\n    } else if (shape instanceof Edge) {\n      return ClosestLineJumpTable.PolygonEdgeClosestLine(this, shape);\n    } else {\n      throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n    }\n  }\n\n  /**\n   * Returns a collision contact if the 2 collision shapes collide, otherwise collide will\n   * return null.\n   * @param shape\n   */\n  public collide(shape: CollisionShape): CollisionContact {\n    if (shape instanceof Circle) {\n      return CollisionJumpTable.CollideCirclePolygon(shape, this);\n    } else if (shape instanceof ConvexPolygon) {\n      return CollisionJumpTable.CollidePolygonPolygon(this, shape);\n    } else if (shape instanceof Edge) {\n      return CollisionJumpTable.CollidePolygonEdge(this, shape);\n    } else {\n      throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n    }\n  }\n\n  /**\n   * Find the point on the shape furthest in the direction specified\n   */\n  public getFurthestPoint(direction: Vector): Vector {\n    const pts = this.getTransformedPoints();\n    let furthestPoint = null;\n    let maxDistance = -Number.MAX_VALUE;\n    for (let i = 0; i < pts.length; i++) {\n      const distance = direction.dot(pts[i]);\n      if (distance > maxDistance) {\n        maxDistance = distance;\n        furthestPoint = pts[i];\n      }\n    }\n    return furthestPoint;\n  }\n\n  /**\n   * Finds the closes face to the point using perpendicular distance\n   * @param point point to test against polygon\n   */\n  public getClosestFace(point: Vector): { distance: Vector; face: Line } {\n    const sides = this.getSides();\n    let min = Number.POSITIVE_INFINITY;\n    let faceIndex = -1;\n    let distance = -1;\n    for (let i = 0; i < sides.length; i++) {\n      const dist = sides[i].distanceToPoint(point);\n      if (dist < min) {\n        min = dist;\n        faceIndex = i;\n        distance = dist;\n      }\n    }\n\n    if (faceIndex !== -1) {\n      return {\n        distance: sides[faceIndex].normal().scale(distance),\n        face: sides[faceIndex]\n      };\n    }\n\n    return null;\n  }\n\n  /**\n   * Get the axis aligned bounding box for the polygon shape in world coordinates\n   */\n  public get bounds(): BoundingBox {\n    const points = this.getTransformedPoints();\n\n    return BoundingBox.fromPoints(points);\n  }\n\n  /**\n   * Get the axis aligned bounding box for the polygon shape in local coordinates\n   */\n  public get localBounds(): BoundingBox {\n    return BoundingBox.fromPoints(this.points);\n  }\n\n  /**\n   * Get the moment of inertia for an arbitrary polygon\n   * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n   */\n  public get inertia(): number {\n    const mass = this.collider ? this.collider.mass : Physics.defaultMass;\n    let numerator = 0;\n    let denominator = 0;\n    for (let i = 0; i < this.points.length; i++) {\n      const iplusone = (i + 1) % this.points.length;\n      const crossTerm = this.points[iplusone].cross(this.points[i]);\n      numerator +=\n        crossTerm *\n        (this.points[i].dot(this.points[i]) + this.points[i].dot(this.points[iplusone]) + this.points[iplusone].dot(this.points[iplusone]));\n      denominator += crossTerm;\n    }\n    return (mass / 6) * (numerator / denominator);\n  }\n\n  /**\n   * Casts a ray into the polygon and returns a vector representing the point of contact (in world space) or null if no collision.\n   */\n  public rayCast(ray: Ray, max: number = Infinity) {\n    // find the minimum contact time greater than 0\n    // contact times less than 0 are behind the ray and we don't want those\n    const sides = this.getSides();\n    const len = sides.length;\n    let minContactTime = Number.MAX_VALUE;\n    let contactIndex = -1;\n    for (let i = 0; i < len; i++) {\n      const contactTime = ray.intersect(sides[i]);\n      if (contactTime >= 0 && contactTime < minContactTime && contactTime <= max) {\n        minContactTime = contactTime;\n        contactIndex = i;\n      }\n    }\n\n    // contact was found\n    if (contactIndex >= 0) {\n      return ray.getPoint(minContactTime);\n    }\n\n    // no contact found\n    return null;\n  }\n\n  /**\n   * Get the axis associated with the convex polygon\n   */\n  public get axes(): Vector[] {\n    if (this._axes.length) {\n      return this._axes;\n    }\n\n    const axes = [];\n    const points = this.getTransformedPoints();\n    const len = points.length;\n    for (let i = 0; i < len; i++) {\n      axes.push(points[i].sub(points[(i + 1) % len]).normal());\n    }\n    this._axes = axes;\n    return this._axes;\n  }\n\n  /**\n   * Perform Separating Axis test against another polygon, returns null if no overlap in polys\n   * Reference http://www.dyn4j.org/2010/01/sat/\n   */\n  public testSeparatingAxisTheorem(other: ConvexPolygon): Vector {\n    const poly1 = this;\n    const poly2 = other;\n    const axes = poly1.axes.concat(poly2.axes);\n\n    let minOverlap = Number.MAX_VALUE;\n    let minAxis = null;\n    let minIndex = -1;\n    for (let i = 0; i < axes.length; i++) {\n      const proj1 = poly1.project(axes[i]);\n      const proj2 = poly2.project(axes[i]);\n      const overlap = proj1.getOverlap(proj2);\n      if (overlap <= 0) {\n        return null;\n      } else {\n        if (overlap < minOverlap) {\n          minOverlap = overlap;\n          minAxis = axes[i];\n          minIndex = i;\n        }\n      }\n    }\n\n    // Sanity check\n    if (minIndex === -1) {\n      return null;\n    }\n\n    return minAxis.normalize().scale(minOverlap);\n  }\n\n  /**\n   * Project the edges of the polygon along a specified axis\n   */\n  public project(axis: Vector): Projection {\n    const points = this.getTransformedPoints();\n    const len = points.length;\n    let min = Number.MAX_VALUE;\n    let max = -Number.MAX_VALUE;\n    for (let i = 0; i < len; i++) {\n      const scalar = points[i].dot(axis);\n      min = Math.min(min, scalar);\n      max = Math.max(max, scalar);\n    }\n\n    return new Projection(min, max);\n  }\n\n  public draw(ctx: CanvasRenderingContext2D, color: Color = Color.Green, pos: Vector = Vector.Zero) {\n    const basePos = pos.add(this.offset);\n    ctx.beginPath();\n    ctx.fillStyle = color.toString();\n    ctx.moveTo(basePos.x, basePos.y);\n    const diffToBase = this.points[0].sub(basePos);\n    this.points\n      .map((p) => p.sub(diffToBase))\n      .forEach(function (point) {\n        ctx.lineTo(point.x, point.y);\n      });\n    ctx.lineTo(basePos.x, basePos.y);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Red) {\n    ctx.beginPath();\n    ctx.strokeStyle = color.toString();\n    // Iterate through the supplied points and construct a 'polygon'\n    const firstPoint = this.getTransformedPoints()[0];\n    ctx.moveTo(firstPoint.x, firstPoint.y);\n    this.getTransformedPoints().forEach(function (point) {\n      ctx.lineTo(point.x, point.y);\n    });\n    ctx.lineTo(firstPoint.x, firstPoint.y);\n    ctx.closePath();\n    ctx.stroke();\n  }\n}\n","import { ConvexPolygon } from './ConvexPolygon';\nimport { Circle } from './Circle';\nimport { Edge } from './Edge';\nimport { BoundingBox } from './BoundingBox';\nimport { Vector } from '../Algebra';\n\n/**\n * Excalibur shape helper for defining collision shapes quickly\n */\nexport class Shape {\n  /**\n   * Creates a box collision shape, under the hood defines a [[ConvexPolygon]] collision shape\n   * @param width Width of the box\n   * @param height Height of the box\n   * @param anchor Anchor of the box (default (.5, .5)) which positions the box relative to the center of the collider's position\n   * @param offset Optional offset relative to the collider in local coordinates\n   */\n  static Box(width: number, height: number, anchor: Vector = Vector.Half, offset: Vector = Vector.Zero): ConvexPolygon {\n    return new ConvexPolygon({\n      points: new BoundingBox(-width * anchor.x, -height * anchor.y, width - width * anchor.x, height - height * anchor.y).getPoints(),\n      offset: offset\n    });\n  }\n\n  /**\n   * Creates a new [[ConvexPolygon|arbitrary polygon]] collision shape\n   * @param points Points specified in counter clockwise\n   * @param clockwiseWinding Optionally changed the winding of points, by default false meaning counter-clockwise winding.\n   * @param offset Optional offset relative to the collider in local coordinates\n   */\n  static Polygon(points: Vector[], clockwiseWinding: boolean = false, offset: Vector = Vector.Zero): ConvexPolygon {\n    return new ConvexPolygon({\n      points: points,\n      offset: offset,\n      clockwiseWinding: clockwiseWinding\n    });\n  }\n\n  /**\n   * Creates a new [[circle|Circle]] collision shape\n   * @param radius Radius of the circle shape\n   * @param offset Optional offset relative to the collider in local coordinates\n   */\n  static Circle(radius: number, offset: Vector = Vector.Zero): Circle {\n    return new Circle({\n      radius: radius,\n      offset: offset\n    });\n  }\n\n  /**\n   * Creates a new [[Edge|edge]] collision shape\n   * @param begin Beginning of the edge in local coordinates to the collider\n   * @param end Ending of the edge in local coordinates to the collider\n   */\n  static Edge(begin: Vector, end: Vector): Edge {\n    return new Edge({\n      begin: begin,\n      end: end\n    });\n  }\n}\n","import { vec } from '..';\nimport { Vector } from '../Algebra';\nimport { canonicalizeAngle } from '../Util/Util';\n\nexport enum MatrixLocations {\n  X = 12,\n  Y = 13\n}\n\nconst sign = (val: number) => {\n  if (val === 0) {\n    return 0;\n  }\n  return val < 0 ? -1 : 1;\n};\n\n// const multMatch = (a: number, b: number) => {\n//   if (sign(a) < 0 && sign(b) < 0) {\n//     return -Math.abs(a * b);\n//   }\n//   return a * b;\n// }\n\n// const epsilon = (val: number) => {\n//   if (val * val < .0001) {\n//     return 0;\n//   }\n//   return val;\n// }\n\n/**\n * Excalibur Matrix helper for 4x4 matrices\n *\n * Useful for webgl 4x4 matrices\n */\nexport class Matrix {\n\n  /**\n   *  4x4 matrix in column major order\n   *\n   * |         |         |          |          |\n   * | ------- | ------- | -------- |          |\n   * | data[0] | data[4] | data[8]  | data[12] |\n   * | data[1] | data[5] | data[9]  | data[13] |\n   * | data[2] | data[6] | data[10] | data[14] |\n   * | data[3] | data[7] | data[11] | data[15] |\n   *\n   */\n  public data: Float32Array = new Float32Array(16);\n\n  /**\n   * Creates an orthographic (flat non-perspective) projection\n   * https://en.wikipedia.org/wiki/Orthographic_projection\n   * @param left\n   * @param right\n   * @param bottom\n   * @param top\n   * @param near\n   * @param far\n   */\n  public static ortho(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix {\n    const mat = new Matrix();\n    mat.data[0] = 2 / (right - left);\n    mat.data[1] = 0;\n    mat.data[2] = 0;\n    mat.data[3] = 0;\n\n    mat.data[4] = 0;\n    mat.data[5] = 2 / (top - bottom);\n    mat.data[6] = 0;\n    mat.data[7] = 0;\n\n    mat.data[8] = 0;\n    mat.data[9] = 0;\n    mat.data[10] = -2 / (far - near);\n    mat.data[11] = 0;\n\n    mat.data[12] = -(right + left) / (right - left);\n    mat.data[13] = -(top + bottom) / (top - bottom);\n    mat.data[14] = -(far + near) / (far - near);\n    mat.data[15] = 1;\n    return mat;\n  }\n\n  /**\n   * Creates a new Matrix with the same data as the current 4x4\n   */\n  public clone(): Matrix {\n    const mat = new Matrix();\n    mat.data[0] = this.data[0];\n    mat.data[1] = this.data[1];\n    mat.data[2] = this.data[2];\n    mat.data[3] = this.data[3];\n\n    mat.data[4] = this.data[4];\n    mat.data[5] = this.data[5];\n    mat.data[6] = this.data[6];\n    mat.data[7] = this.data[7];\n\n    mat.data[8] = this.data[8];\n    mat.data[9] = this.data[9];\n    mat.data[10] = this.data[10];\n    mat.data[11] = this.data[11];\n\n    mat.data[12] = this.data[12];\n    mat.data[13] = this.data[13];\n    mat.data[14] = this.data[14];\n    mat.data[15] = this.data[15];\n    return mat;\n  }\n\n  /**\n   * Creates a new identity matrix (a matrix that when applied does nothing)\n   */\n  public static identity(): Matrix {\n    const mat = new Matrix();\n    mat.data[0] = 1;\n    mat.data[1] = 0;\n    mat.data[2] = 0;\n    mat.data[3] = 0;\n\n    mat.data[4] = 0;\n    mat.data[5] = 1;\n    mat.data[6] = 0;\n    mat.data[7] = 0;\n\n    mat.data[8] = 0;\n    mat.data[9] = 0;\n    mat.data[10] = 1;\n    mat.data[11] = 0;\n\n    mat.data[12] = 0;\n    mat.data[13] = 0;\n    mat.data[14] = 0;\n    mat.data[15] = 1;\n    return mat;\n  }\n\n  /**\n   * Creates a brand new translation matrix at the specified 3d point\n   * @param x\n   * @param y\n   */\n  public static translation(x: number, y: number): Matrix {\n    const mat = Matrix.identity();\n    mat.data[12] = x;\n    mat.data[13] = y;\n    return mat;\n  }\n\n  /**\n   * Creates a brand new scaling matrix with the specified scaling factor\n   * @param sx\n   * @param sy\n   */\n  public static scale(sx: number, sy: number): Matrix {\n    const mat = Matrix.identity();\n    mat.data[0] = sx;\n    mat.data[5] = sy;\n    mat.data[10] = 1;\n    mat.data[15] = 1;\n    return mat;\n  }\n\n  /**\n   * Creates a brand new rotation matrix with the specified angle\n   * @param angleRadians\n   */\n  public static rotation(angleRadians: number): Matrix {\n    const mat = Matrix.identity();\n    mat.data[0] = Math.cos(angleRadians);\n    mat.data[4] = -Math.sin(angleRadians);\n    mat.data[1] = Math.sin(angleRadians);\n    mat.data[5] = Math.cos(angleRadians);\n    return mat;\n  }\n\n  /**\n   * Multiplies the current matrix by a vector and returns the resulting vector\n   * @param other\n   */\n  multv(other: [number, number]): [number, number];\n  multv(other: Vector): Vector;\n  multv(other: [number, number] | Vector): [number, number] | Vector {\n    const z = 0;\n    if (other instanceof Vector) {\n      return new Vector(\n        other.x * this.data[0] + other.y * this.data[4] + z * this.data[6] + 1 * this.data[12],\n        other.x * this.data[1] + other.y * this.data[5] + z * this.data[9] + 1 * this.data[13]\n      );\n    } else {\n      const dest: [number, number] = [\n        other[0] * this.data[0] + other[1] * this.data[4] + z * this.data[6] + 1 * this.data[12],\n\n        other[0] * this.data[1] + other[1] * this.data[5] + z * this.data[9] + 1 * this.data[13]\n      ];\n      return dest;\n    }\n  }\n\n  /**\n   * Multiplies the current matrix by another and returns the resulting matrix\n   * @param other\n   */\n  multm(other: Matrix): Matrix {\n    const dest = new Matrix();\n    const a11 = this.data[0];\n    const a21 = this.data[1];\n    const a31 = this.data[2];\n    const a41 = this.data[3];\n\n    const a12 = this.data[4];\n    const a22 = this.data[5];\n    const a32 = this.data[6];\n    const a42 = this.data[7];\n\n    const a13 = this.data[8];\n    const a23 = this.data[9];\n    const a33 = this.data[10];\n    const a43 = this.data[11];\n\n    const a14 = this.data[12];\n    const a24 = this.data[13];\n    const a34 = this.data[14];\n    const a44 = this.data[15];\n\n    const b11 = other.data[0];\n    const b21 = other.data[1];\n    const b31 = other.data[2];\n    const b41 = other.data[3];\n\n    const b12 = other.data[4];\n    const b22 = other.data[5];\n    const b32 = other.data[6];\n    const b42 = other.data[7];\n\n    const b13 = other.data[8];\n    const b23 = other.data[9];\n    const b33 = other.data[10];\n    const b43 = other.data[11];\n\n    const b14 = other.data[12];\n    const b24 = other.data[13];\n    const b34 = other.data[14];\n    const b44 = other.data[15];\n\n    dest.data[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n    dest.data[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n    dest.data[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n    dest.data[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\n    dest.data[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n    dest.data[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n    dest.data[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n    dest.data[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\n    dest.data[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n    dest.data[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n    dest.data[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n    dest.data[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\n    dest.data[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n    dest.data[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n    dest.data[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n    dest.data[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n    const s = this.getScale();\n    dest._scaleSignX = sign(s.x) * sign(dest._scaleSignX);\n    dest._scaleSignY = sign(s.y) * sign(dest._scaleSignY);\n\n    return dest;\n  }\n\n  /**\n   * Applies translation to the current matrix mutating it\n   * @param x\n   * @param y\n   */\n  translate(x: number, y: number) {\n    const a11 = this.data[0];\n    const a21 = this.data[1];\n    const a31 = this.data[2];\n    const a41 = this.data[3];\n\n    const a12 = this.data[4];\n    const a22 = this.data[5];\n    const a32 = this.data[6];\n    const a42 = this.data[7];\n\n    const a13 = this.data[8];\n    const a23 = this.data[9];\n    const a33 = this.data[10];\n    const a43 = this.data[11];\n\n    const a14 = this.data[12];\n    const a24 = this.data[13];\n    const a34 = this.data[14];\n    const a44 = this.data[15];\n\n    // Doesn't change z\n    const z = 0;\n    const w = 1;\n    this.data[12] = a11 * x + a12 * y + a13 * z + a14 * w;\n    this.data[13] = a21 * x + a22 * y + a23 * z + a24 * w;\n    this.data[14] = a31 * x + a32 * y + a33 * z + a34 * w;\n    this.data[15] = a41 * x + a42 * y + a43 * z + a44 * w;\n\n    return this;\n  }\n\n  public setPosition(x: number, y: number) {\n    this.data[12] = x;\n    this.data[13] = y;\n  }\n\n  public getPosition(): Vector {\n    return vec(this.data[12], this.data[13]);\n  }\n\n  /**\n   * Applies rotation to the current matrix mutating it\n   * @param angle in Radians\n   */\n  rotate(angle: number) {\n    const a11 = this.data[0];\n    const a21 = this.data[1];\n    const a31 = this.data[2];\n    const a41 = this.data[3];\n\n    const a12 = this.data[4];\n    const a22 = this.data[5];\n    const a32 = this.data[6];\n    const a42 = this.data[7];\n\n    const sine = Math.sin(angle);\n    const cosine = Math.cos(angle);\n\n    this.data[0] = cosine * a11 + sine * a12;\n    this.data[1] = cosine * a21 + sine * a22;\n    this.data[2] = cosine * a31 + sine * a32;\n    this.data[3] = cosine * a41 + sine * a42;\n\n    this.data[4] = cosine * a12 - sine * a11;\n    this.data[5] = cosine * a22 - sine * a21;\n    this.data[6] = cosine * a32 - sine * a31;\n    this.data[7] = cosine * a42 - sine * a41;\n\n    return this;\n  }\n\n\n  /**\n   * Applies scaling to the current matrix mutating it\n   * @param x\n   * @param y\n   */\n  scale(x: number, y: number) {\n    const a11 = this.data[0];\n    const a21 = this.data[1];\n    const a31 = this.data[2];\n    const a41 = this.data[3];\n\n    const a12 = this.data[4];\n    const a22 = this.data[5];\n    const a32 = this.data[6];\n    const a42 = this.data[7];\n\n    this.data[0] = a11 * x;\n    this.data[1] = a21 * x;\n    this.data[2] = a31 * x;\n    this.data[3] = a41 * x;\n\n    this.data[4] = a12 * y;\n    this.data[5] = a22 * y;\n    this.data[6] = a32 * y;\n    this.data[7] = a42 * y;\n\n    return this;\n  }\n\n\n  public setRotation(angle: number) {\n    const currentScale = this.getScale();\n    const sine = Math.sin(angle);\n    const cosine = Math.cos(angle);\n\n    this.data[0] = cosine * currentScale.x;\n    this.data[1] = sine * currentScale.y;\n    this.data[4] = -sine * currentScale.x;\n    this.data[5] = cosine * currentScale.y;\n\n  }\n\n  public getRotation(): number {\n\n    const angle = Math.atan2(\n      this.data[1] / this.getScaleY(),\n      this.data[0] / this.getScaleX());\n    return canonicalizeAngle(angle);\n  }\n\n  public getScaleX(): number {\n    // absolute scale of the matrix (we lose sign so need to add it back)\n    const xscale = vec(this.data[0], this.data[4]).size;\n    return this._scaleSignX * xscale;\n  }\n\n  public getScaleY(): number {\n    // absolute scale of the matrix (we lose sign so need to add it back)\n    const yscale = vec(this.data[1], this.data[5]).size;\n    return this._scaleSignY * yscale;\n  }\n\n  /**\n   * Get the scale of the matrix\n   */\n  public getScale(): Vector {\n    return vec(this.getScaleX(), this.getScaleY());\n  }\n\n  private _scaleSignX = 1;\n  public setScaleX(val: number) {\n    this._scaleSignX = sign(val);\n    // negative scale acts like a 180 rotation, so flip\n    const xscale = vec(this.data[0] * this._scaleSignX, this.data[4] * this._scaleSignX).normalize();\n    this.data[0] = xscale.x * val;\n    this.data[4] = xscale.y * val;\n  }\n\n  private _scaleSignY = 1;\n  public setScaleY(val: number) {\n    this._scaleSignY = sign(val);\n    // negative scale acts like a 180 rotation, so flip\n    const yscale = vec(this.data[1] * this._scaleSignY, this.data[5] * this._scaleSignY).normalize();\n    this.data[1] = yscale.x * val;\n    this.data[5] = yscale.y * val;\n  }\n\n  public setScale(scale: Vector) {\n    this.setScaleX(scale.x);\n    this.setScaleY(scale.y);\n  }\n\n  /**\n   * Determinant of the upper left 2x2 matrix\n   */\n  public getBasisDeterminant() {\n    return (this.data[0] * this.data[5]) - (this.data[1] * this.data[4]);\n  }\n\n  public getAffineInverse(): Matrix {\n    // See http://negativeprobability.blogspot.com/2011/11/affine-transformations-and-their.html\n    // See https://www.mathsisfun.com/algebra/matrix-inverse.html\n    // Since we are actually only doing 2D transformations we can use this hack\n    // We don't actually use the 3rd or 4th dimension\n\n    const det = this.getBasisDeterminant();\n    const inverseDet = 1 / det; // todo zero check\n    const a = this.data[0];\n    const b = this.data[4];\n    const c = this.data[1];\n    const d = this.data[5];\n\n    const m = Matrix.identity();\n    // inverts rotation and scale\n    m.data[0] = d * inverseDet;\n    m.data[1] = -c * inverseDet;\n    m.data[4] = -b * inverseDet;\n    m.data[5] = a * inverseDet;\n\n    const tx = this.data[12];\n    const ty = this.data[13];\n    // invert translation\n    // transform translation into the matrix basis created by rot/scale\n    m.data[12] = -(tx * m.data[0] + ty * m.data[4]);\n    m.data[13] = -(tx * m.data[1] + ty * m.data[5]);\n\n    return m;\n  }\n\n  public isIdentity(): boolean {\n    return this.data[0] === 1 &&\n    this.data[1] === 0 &&\n    this.data[2] === 0 &&\n    this.data[3] === 0 &&\n    this.data[4] === 0 &&\n    this.data[5] === 1 &&\n    this.data[6] === 0 &&\n    this.data[7] === 0 &&\n    this.data[8] === 0 &&\n    this.data[9] === 0 &&\n    this.data[10] === 1 &&\n    this.data[11] === 0 &&\n    this.data[12] === 0 &&\n    this.data[13] === 0 &&\n    this.data[14] === 0 &&\n    this.data[15] === 1;\n  }\n\n  public toString() {\n    return `\n[${ this.data[0] } ${ this.data[4] } ${ this.data[8] } ${ this.data[12] }]\n[${ this.data[1] } ${ this.data[5] } ${ this.data[9] } ${ this.data[13] }]\n[${ this.data[2] } ${ this.data[6] } ${ this.data[10] } ${ this.data[14] }]\n[${ this.data[3] } ${ this.data[7] } ${ this.data[11] } ${ this.data[15] }]\n`;\n  }\n}\n","import { Vector } from '../Algebra';\n\n\nexport interface VectorViewOptions {\n  getX: () => number;\n  getY: () => number;\n  setX: (x: number) => void;\n  setY: (y: number) => void;\n}\nexport class VectorView extends Vector {\n  private _getX: () => number;\n  private _getY: () => number;\n  private _setX: (x: number) => void;\n  private _setY: (y: number) => void;\n  constructor(options: VectorViewOptions) {\n    super(0, 0);\n    this._getX = options.getX;\n    this._getY = options.getY;\n    this._setX = options.setX;\n    this._setY = options.setY;\n  }\n  public get x() {\n    return this._getX();\n  }\n\n  public set x(val) {\n    this._setX(val);\n  }\n\n  public get y() {\n    return this._getY();\n  }\n  public set y(val) {\n    this._setY(val);\n  }\n}\n","import { Entity } from './Entity';\n\nexport interface ComponentCtor<T extends Component = Component> {\n  new (): T;\n}\n\n/**\n * Type guard to check if a component implements clone\n * @param x\n */\nfunction hasClone(x: any): x is { clone(): any } {\n  return !!x?.clone;\n}\n\n/**\n * Plucks the string type out of a component type\n */\nexport type ComponentStringType<T> = T extends Component<infer R> ? R : string;\n\n/**\n * Components are containers for state in Excalibur, the are meant to convey capabilities that an Entity posesses\n *\n * Implementations of Component must have a zero-arg constructor to support dependecies\n *\n * ```typescript\n * class MyComponent extends ex.Component<'my'> {\n *   public readonly type = 'my';\n *   // zero arg support required if you want to use component dependencies\n *   constructor(public optionalPos?: ex.Vector) {}\n * }\n * ```\n */\nexport abstract class Component<TypeName extends string = string> {\n  /**\n   * Optionally list any component types this component depends on\n   * If the owner entity does not have these components, new components will be added to the entity\n   *\n   * Only components with zero-arg constructors are supported as automatic component dependencies\n   */\n  readonly dependencies?: ComponentCtor[];\n\n  /**\n   * Type of this component, must be a unique type among component types in you game.\n   */\n  abstract readonly type: TypeName;\n\n  /**\n   * Current owning [[Entity]], if any, of this component. Null if not added to any [[Entity]]\n   */\n  owner?: Entity = null;\n\n  /**\n   * Clones any properties on this component, if that property value has a `clone()` method it will be called\n   */\n  clone(): this {\n    const newComponent = new (this.constructor as any)();\n    for (const prop in this) {\n      if (this.hasOwnProperty(prop)) {\n        const val = this[prop];\n        if (hasClone(val) && prop !== 'owner' && prop !== 'clone') {\n          newComponent[prop] = val.clone();\n        } else {\n          newComponent[prop] = val;\n        }\n      }\n    }\n    return newComponent;\n  }\n\n  /**\n   * Optional callback called when a component is added to an entity\n   */\n  onAdd?: (owner: Entity) => void;\n\n  /**\n   * Opitonal callback called when acomponent is added to an entity\n   */\n  onRemove?: (previousOwner: Entity) => void;\n}\n\n/**\n * Tag components are a way of tagging a component with label and a simple value\n *\n * For example:\n *\n * ```typescript\n * const isOffscreen = new TagComponent('offscreen');\n * entity.addComponent(isOffscreen);\n * entity.tags.includes\n * ```\n */\nexport class TagComponent<TypeName extends string, MaybeValueType extends string | symbol | number | boolean = never> extends Component<\nTypeName\n> {\n  constructor(public readonly type: TypeName, public readonly value?: MaybeValueType) {\n    super();\n  }\n}\n","import { vec, Vector } from '../../Algebra';\nimport { Matrix, MatrixLocations } from '../../Math/matrix';\nimport { VectorView } from '../../Math/vector-view';\nimport { Component } from '../Component';\n\nconst createPosView = (matrix: Matrix) => {\n  const source = matrix;\n  return new VectorView({\n    setX: (x) => {\n      source.data[MatrixLocations.X] = x;\n    },\n    setY: (y) => {\n      source.data[MatrixLocations.Y] = y;\n    },\n    getX: () => {\n      return source.data[MatrixLocations.X];\n    },\n    getY: () => {\n      return source.data[MatrixLocations.Y];\n    }\n  });\n};\n\nconst createScaleView = (matrix: Matrix) => {\n  const source = matrix;\n  return new VectorView({\n    setX: (x) => {\n      source.setScaleX(x);\n    },\n    setY: (y) => {\n      source.setScaleY(y);\n    },\n    getX: () => {\n      return source.getScaleX();\n    },\n    getY: () => {\n      return source.getScaleY();\n    }\n  });\n};\n\n/**\n * Enum representing the coordinate plane for the position 2D vector in the [[TransformComponent]]\n */\nexport enum CoordPlane {\n  /**\n   * The world coordinate plane (default) represents world space, any entities drawn with world\n   * space move when the camera moves.\n   */\n  World = 'world',\n  /**\n   * The screen coordinate plane represents screen space, entities drawn in screen space are pinned\n   * to screen coordinates ignoring the camera.\n   */\n  Screen = 'screen'\n}\n\nexport class TransformComponent extends Component<'transform'> {\n  public readonly type = 'transform';\n\n  private _dirty = false;\n\n  public readonly matrix = Matrix.identity()\n    .translate(0, 0)\n    .rotate(0)\n    .scale(1, 1)\n  private _position = createPosView(this.matrix);\n  private _rotation = 0;\n  private _scale = createScaleView(this.matrix);\n\n\n  private _recalculate() {\n    this._rotation = this.matrix.getRotation();\n    this._dirty = false;\n  }\n\n\n  public getGlobalMatrix(): Matrix {\n    if (!this.parent) {\n      return this.matrix;\n    } else {\n      return this.parent.getGlobalMatrix().multm(this.matrix);\n    }\n  }\n\n  public get parent(): TransformComponent | null {\n    return this?.owner?.parent?.get(TransformComponent);\n  }\n\n  /**\n   * The [[CoordPlane|coordinate plane|]] for this transform for the entity.\n   */\n  public coordPlane = CoordPlane.World;\n\n\n  /**\n   * The current position of the entity in world space or in screen space depending on the the [[coordinate plan|CoordPlane]].\n   *\n   * If a parent entity exists coordinates are local to the parent.\n   */\n  public get pos(): Vector {\n    if (this._dirty) {\n      this._recalculate();\n    }\n    return this._position;\n  }\n\n  public set pos(val: Vector) {\n    this.matrix.setPosition(val.x, val.y);\n    this._dirty = true;\n  }\n\n  // Dirty flag check up the chain\n  public get dirty(): boolean {\n    if (this?.owner?.parent) {\n      const parent = this.parent;\n      return parent.dirty || this._dirty;\n    }\n    return this._dirty;\n  }\n\n  /**\n   * The current world position calculated\n   */\n  public get globalPos(): Vector {\n    const source = this.getGlobalMatrix();\n    return new VectorView({\n      getX: () => source.data[MatrixLocations.X],\n      getY: () => source.data[MatrixLocations.Y],\n      setX: (x) => {\n        if (this.parent) {\n          const [ newX ] = this.parent?.getGlobalMatrix().getAffineInverse().multv([x, source.data[MatrixLocations.Y]]);\n          this.matrix.data[MatrixLocations.X] = newX;\n        } else {\n          this.matrix.data[MatrixLocations.X] = x;\n        }\n      },\n      setY: (y) => {\n        if (this.parent) {\n          const [, newY ] = this.parent?.getGlobalMatrix().getAffineInverse().multv([source.data[MatrixLocations.X], y]);\n          this.matrix.data[MatrixLocations.Y] = newY;\n        } else {\n          this.matrix.data[MatrixLocations.Y] = y;\n        }\n      }\n    });\n  }\n\n  public set globalPos(val: Vector) {\n    const parentTransform = this.parent;\n    if (!parentTransform) {\n      this.pos = val;\n    } else {\n      this.pos = parentTransform.getGlobalMatrix().getAffineInverse().multv(val);\n    }\n  }\n\n  /**\n   * The z-index ordering of the entity, a higher values are drawn on top of lower values.\n   * For example z=99 would be drawn on top of z=0.\n   */\n  public z: number = 0;\n\n  /**\n   * The rotation of the entity in radians. For example `Math.PI` radians is the same as 180 degrees.\n   */\n  public get rotation(): number {\n    if (this._dirty) {\n      this._recalculate();\n    }\n    return this._rotation;\n  };\n\n  public set rotation(val: number) {\n    this.matrix.setRotation(val);\n    this._dirty = true;\n  }\n\n\n  public get globalRotation(): number {\n    return this.getGlobalMatrix().getRotation();\n  }\n\n  public set globalRotation(val: number) {\n    const parentTransform = this.parent;\n    if (!parentTransform) {\n      this.rotation = val;\n    } else {\n      this.rotation = val - parentTransform.globalRotation;\n    }\n  }\n\n  /**\n   * The scale of the entity.\n   */\n  public get scale(): Vector {\n    if (this._dirty) {\n      this._recalculate();\n    }\n    return this._scale;\n  };\n\n  public set scale(val: Vector) {\n    this.matrix.setScale(val);\n    this._dirty = true;\n  }\n\n  public get globalScale(): Vector {\n    const source = this.getGlobalMatrix();\n    return new VectorView({\n      getX: () => source.getScaleX(),\n      getY: () => source.getScaleY(),\n      setX: (x) => {\n        if (this.parent) {\n          const globalScaleX = this.parent.globalScale.x;\n          this.matrix.setScaleX(x / globalScaleX);\n        } else {\n          this.matrix.setScaleX(x);\n        }\n      },\n      setY: (y) => {\n        if (this.parent) {\n          const globalScaleY = this.parent.globalScale.y;\n          this.matrix.setScaleY(y / globalScaleY);\n        } else {\n          this.matrix.setScaleY(y);\n        }\n      }\n    });\n  }\n\n  public set globalScale(val: Vector) {\n    const parentTransform = this.parent;\n    if (!parentTransform) {\n      this.scale = val;\n    } else {\n      this.scale = vec(val.x / parentTransform.globalScale.x, val.y / parentTransform.globalScale.y);\n    }\n  }\n}\n","import { vec, Vector } from '../Algebra';\nimport { Actor } from '../Actor';\nimport { Collider } from './Collider';\nimport { CollisionType } from './CollisionType';\nimport { Physics } from '../Physics';\nimport { PreCollisionEvent, PostCollisionEvent, CollisionStartEvent, CollisionEndEvent } from '../Events';\nimport { Clonable } from '../Interfaces/Clonable';\nimport { Shape } from './Shape';\nimport { TransformComponent } from '../EntityComponentSystem/Components/TransformComponent';\n\nexport interface BodyOptions {\n  /**\n   * Optionally the actor associated with this body\n   */\n  actor?: Actor;\n  /**\n   * An optional collider to use in this body, if none is specified a default Box collider will be created.\n   */\n  collider?: Collider;\n}\n\n/**\n * Body describes all the physical properties pos, vel, acc, rotation, angular velocity\n */\nexport class Body implements Clonable<Body> {\n  private _collider: Collider;\n  public actor: Actor;\n  /**\n   * Constructs a new physics body associated with an actor\n   */\n  constructor({ actor, collider }: BodyOptions) {\n    if (!actor && !collider) {\n      throw new Error('An actor or collider are required to create a body');\n    }\n\n    this.actor = actor;\n    if (!collider && actor) {\n      this.collider = this.useBoxCollider(actor.width, actor.height, actor.anchor);\n    } else {\n      this.collider = collider;\n    }\n  }\n\n  public get id() {\n    return this.actor ? this.actor.id : -1;\n  }\n\n  /**\n   * Returns a clone of this body, not associated with any actor\n   */\n  public clone() {\n    return new Body({\n      actor: null,\n      collider: this.collider.clone()\n    });\n  }\n\n  public get active() {\n    return this.actor ? !this.actor.isKilled() : false;\n  }\n\n  public get center() {\n    return this.pos;\n  }\n\n  // TODO allow multiple colliders for a single body\n  public set collider(collider: Collider) {\n    if (collider) {\n      this._collider = collider;\n      this._collider.body = this;\n      this._wireColliderEventsToActor();\n    }\n  }\n\n  public get collider(): Collider {\n    return this._collider;\n  }\n\n  public get transform(): TransformComponent {\n    return this.actor.get(TransformComponent);\n  }\n\n  /**\n   * The (x, y) position of the actor this will be in the middle of the actor if the\n   * [[Actor.anchor]] is set to (0.5, 0.5) which is default.\n   * If you want the (x, y) position to be the top left of the actor specify an anchor of (0, 0).\n   */\n  public get pos(): Vector {\n    return this.transform.globalPos;\n  }\n\n  public set pos(val: Vector) {\n    this.transform.globalPos = val;\n  }\n\n  /**\n   * The position of the actor last frame (x, y) in pixels\n   */\n  public oldPos: Vector = new Vector(0, 0);\n\n  /**\n   * The current velocity vector (vx, vy) of the actor in pixels/second\n   */\n  public vel: Vector = new Vector(0, 0);\n\n  /**\n   * The velocity of the actor last frame (vx, vy) in pixels/second\n   */\n  public oldVel: Vector = new Vector(0, 0);\n\n  /**\n   * The current acceleration vector (ax, ay) of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may\n   * be useful to simulate a gravitational effect.\n   */\n  public acc: Vector = new Vector(0, 0);\n\n  /**\n   * Gets/sets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\n   */\n  public oldAcc: Vector = Vector.Zero;\n\n  /**\n   * The current torque applied to the actor\n   */\n  public torque: number = 0;\n\n  /**\n   * The current \"motion\" of the actor, used to calculated sleep in the physics simulation\n   */\n  public motion: number = 10;\n\n  /**\n   * Gets/sets the rotation of the body from the last frame.\n   */\n  public oldRotation: number = 0; // radians\n\n  /**\n   * The rotation of the actor in radians\n   */\n  public get rotation() {\n    return this.transform.globalRotation;\n  }\n\n  public set rotation(val: number) {\n    this.transform.globalRotation = val;\n  }\n\n  /**\n   * The scale vector of the actor\n   * @obsolete ex.Body.scale will be removed in v0.25.0, Use ex.Transform.scale\n   */\n  public get scale(): Vector {\n    return this.transform.globalScale;\n  }\n\n  public set scale(val: Vector) {\n    this.transform.globalScale = val;\n  }\n\n  /**\n   * The scale of the actor last frame\n   * @obsolete ex.Body.scale will be removed in v0.25.0\n   */\n  public oldScale: Vector = Vector.One;\n\n  /**\n   * The x scalar velocity of the actor in scale/second\n   * @obsolete ex.Body.scale will be removed in v0.25.0\n   */\n  public sx: number = 0; //scale/sec\n  /**\n   * The y scalar velocity of the actor in scale/second\n   * @obsolete ex.Body.scale will be removed in v0.25.0\n   */\n  public sy: number = 0; //scale/sec\n\n  /**\n   * The rotational velocity of the actor in radians/second\n   */\n  public rx: number = 0; //radians/sec\n\n  private _geometryDirty = false;\n\n  private _totalMtv: Vector = Vector.Zero;\n\n  /**\n   * Add minimum translation vectors accumulated during the current frame to resolve collisions.\n   */\n  public addMtv(mtv: Vector) {\n    this._totalMtv.addEqual(mtv);\n  }\n\n  /**\n   * Applies the accumulated translation vectors to the actors position\n   */\n  public applyMtv(): void {\n    this.pos = this.pos.add(this._totalMtv);\n    this._totalMtv.setTo(0, 0);\n  }\n\n  /**\n   * Flags the shape dirty and must be recalculated in world space\n   */\n  public markCollisionShapeDirty() {\n    this._geometryDirty = true;\n  }\n\n  public get isColliderShapeDirty(): boolean {\n    return this._geometryDirty;\n  }\n\n  /**\n   * Sets the old versions of pos, vel, acc, and scale.\n   */\n  public captureOldTransform() {\n    // Capture old values before integration step updates them\n    this.oldVel.setTo(this.vel.x, this.vel.y);\n    this.oldPos.setTo(this.pos.x, this.pos.y);\n    this.oldAcc.setTo(this.acc.x, this.acc.y);\n    this.oldScale.setTo(this.scale.x, this.scale.y);\n    this.oldRotation = this.rotation;\n  }\n\n  /**\n   * Perform euler integration at the specified time step\n   */\n  public integrate(delta: number) {\n    // Update placements based on linear algebra\n    const seconds = delta / 1000;\n\n    const totalAcc = this.acc.clone();\n    // Only active vanilla actors are affected by global acceleration\n    if (this.collider.type === CollisionType.Active) {\n      totalAcc.addEqual(Physics.acc);\n    }\n\n    this.vel.addEqual(totalAcc.scale(seconds));\n    this.pos = this.pos.add(this.vel.scale(seconds)).add(totalAcc.scale(0.5 * seconds * seconds));\n\n    this.rx += this.torque * (1.0 / this.collider.inertia) * seconds;\n    this.rotation += this.rx * seconds;\n\n    this.scale = vec(this.scale.x + (this.sx * delta) / 1000, this.scale.y + (this.sy * delta) / 1000);\n\n    if (!this.scale.equals(this.oldScale)) {\n      // change in scale effects the geometry\n      this._geometryDirty = true;\n    }\n\n    // Update colliders\n    this.collider.update();\n    this._geometryDirty = false;\n  }\n\n  /**\n   * Sets up a box geometry based on the current bounds of the associated actor of this physics body.\n   *\n   * If no width/height are specified the body will attempt to use the associated actor's width/height.\n   *\n   * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n   */\n  public useBoxCollider(width?: number, height?: number, anchor: Vector = Vector.Half, center: Vector = Vector.Zero): Collider {\n    if (width === null || width === undefined) {\n      width = this.actor ? this.actor.width : 0;\n    }\n    if (height === null || height === undefined) {\n      height = this.actor ? this.actor.height : 0;\n    }\n\n    this.collider.shape = Shape.Box(width, height, anchor, center);\n    return this.collider;\n  }\n\n  /**\n   * Sets up a [[ConvexPolygon|convex polygon]] collision geometry based on a list of of points relative\n   *  to the anchor of the associated actor\n   * of this physics body.\n   *\n   * Only [convex polygon](https://en.wikipedia.org/wiki/Convex_polygon) definitions are supported.\n   *\n   * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n   */\n  public usePolygonCollider(points: Vector[], center: Vector = Vector.Zero): Collider {\n    this.collider.shape = Shape.Polygon(points, false, center);\n    return this.collider;\n  }\n\n  /**\n   * Sets up a [[Circle|circle collision geometry]] with a specified radius in pixels.\n   *\n   * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n   */\n  public useCircleCollider(radius: number, center: Vector = Vector.Zero): Collider {\n    this.collider.shape = Shape.Circle(radius, center);\n    return this.collider;\n  }\n\n  /**\n   * Sets up an [[Edge|edge collision geometry]] with a start point and an end point relative to the anchor of the associated actor\n   * of this physics body.\n   *\n   * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n   */\n  public useEdgeCollider(begin: Vector, end: Vector): Collider {\n    this.collider.shape = Shape.Edge(begin, end);\n    return this.collider;\n  }\n\n  // TODO remove this, eventually events will stay local to the thing they are around\n  private _wireColliderEventsToActor() {\n    this.collider.clear();\n    this.collider.on('precollision', (evt: PreCollisionEvent<Collider>) => {\n      if (this.actor) {\n        this.actor.emit('precollision', new PreCollisionEvent(evt.target.body.actor, evt.other.body.actor, evt.side, evt.intersection));\n      }\n    });\n    this.collider.on('postcollision', (evt: PostCollisionEvent<Collider>) => {\n      if (this.actor) {\n        this.actor.emit('postcollision', new PostCollisionEvent(evt.target.body.actor, evt.other.body.actor, evt.side, evt.intersection));\n      }\n    });\n    this.collider.on('collisionstart', (evt: CollisionStartEvent<Collider>) => {\n      if (this.actor) {\n        this.actor.emit('collisionstart', new CollisionStartEvent(evt.target.body.actor, evt.other.body.actor, evt.pair));\n      }\n    });\n    this.collider.on('collisionend', (evt: CollisionEndEvent<Collider>) => {\n      if (this.actor) {\n        this.actor.emit('collisionend', new CollisionEndEvent(evt.target.body.actor, evt.other.body.actor));\n      }\n    });\n  }\n}\n","import { Color } from '../Drawing/Color';\nimport { Vector } from '../Algebra';\n\n/**\n * A canvas linecap style. \"butt\" is the default flush style, \"round\" is a semi-circle cap with a radius half the width of\n * the line, and \"square\" is a rectangle that is an equal width and half height cap.\n */\nexport type LineCapStyle = 'butt' | 'round' | 'square';\n\n/* istanbul ignore next */\n/**\n * Draw a line on canvas context\n *\n * @param ctx The canvas context\n * @param color The color of the line\n * @param x1 The start x coordinate\n * @param y1 The start y coordinate\n * @param x2 The ending x coordinate\n * @param y2 The ending y coordinate\n * @param thickness The line thickness\n * @param cap The [[LineCapStyle]] (butt, round, or square)\n */\nexport function line(\n  ctx: CanvasRenderingContext2D,\n  color: Color = Color.Red,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  thickness: number = 1,\n  cap: LineCapStyle = 'butt'\n) {\n  ctx.beginPath();\n  ctx.lineWidth = thickness;\n  ctx.lineCap = cap;\n  ctx.strokeStyle = color.toString();\n  ctx.moveTo(x1, y1);\n  ctx.lineTo(x2, y2);\n  ctx.closePath();\n  ctx.stroke();\n}\n\n/* istanbul ignore next */\n/**\n * Draw the vector as a point onto the canvas.\n */\nexport function point(ctx: CanvasRenderingContext2D, color: Color = Color.Red, point: Vector): void {\n  ctx.beginPath();\n  ctx.strokeStyle = color.toString();\n  ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n  ctx.closePath();\n  ctx.stroke();\n}\n\n/**\n * Draw the vector as a line onto the canvas starting a origin point.\n */\n/* istanbul ignore next */\n/**\n *\n */\nexport function vector(ctx: CanvasRenderingContext2D, color: Color, origin: Vector, vector: Vector, scale: number = 1.0): void {\n  const c = color ? color.toString() : 'blue';\n  const v = vector.scale(scale);\n  ctx.beginPath();\n  ctx.strokeStyle = c;\n  ctx.moveTo(origin.x, origin.y);\n  ctx.lineTo(origin.x + v.x, origin.y + v.y);\n  ctx.closePath();\n  ctx.stroke();\n}\n\n/**\n * Represents border radius values\n */\nexport interface BorderRadius {\n  /**\n   * Top-left\n   */\n  tl: number;\n  /**\n   * Top-right\n   */\n  tr: number;\n  /**\n   * Bottom-right\n   */\n  br: number;\n  /**\n   * Bottom-left\n   */\n  bl: number;\n}\n\n/**\n * Draw a round rectangle on a canvas context\n *\n * @param ctx The canvas context\n * @param x The top-left x coordinate\n * @param y The top-left y coordinate\n * @param width The width of the rectangle\n * @param height The height of the rectangle\n * @param radius The border radius of the rectangle\n * @param stroke The [[Color]] to stroke rectangle with\n * @param fill The [[Color]] to fill rectangle with\n */\nexport function roundRect(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  radius: number | BorderRadius = 5,\n  stroke: Color = Color.White,\n  fill: Color = null\n) {\n  let br: BorderRadius;\n\n  if (typeof radius === 'number') {\n    br = { tl: radius, tr: radius, br: radius, bl: radius };\n  } else {\n    const defaultRadius: BorderRadius = { tl: 0, tr: 0, br: 0, bl: 0 };\n\n    for (const prop in defaultRadius) {\n      if (defaultRadius.hasOwnProperty(prop)) {\n        const side = <keyof BorderRadius>prop;\n        br[side] = radius[side] || defaultRadius[side];\n      }\n    }\n  }\n\n  ctx.beginPath();\n  ctx.moveTo(x + br.tl, y);\n  ctx.lineTo(x + width - br.tr, y);\n  ctx.quadraticCurveTo(x + width, y, x + width, y + br.tr);\n  ctx.lineTo(x + width, y + height - br.br);\n  ctx.quadraticCurveTo(x + width, y + height, x + width - br.br, y + height);\n  ctx.lineTo(x + br.bl, y + height);\n  ctx.quadraticCurveTo(x, y + height, x, y + height - br.bl);\n  ctx.lineTo(x, y + br.tl);\n  ctx.quadraticCurveTo(x, y, x + br.tl, y);\n  ctx.closePath();\n\n  if (fill) {\n    ctx.fillStyle = fill.toString();\n    ctx.fill();\n  }\n\n  if (stroke) {\n    ctx.strokeStyle = stroke.toString();\n    ctx.stroke();\n  }\n}\n\n/**\n *\n */\nexport function circle(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  radius: number,\n  stroke: Color = Color.White,\n  fill: Color = null\n) {\n  ctx.beginPath();\n  ctx.arc(x, y, radius, 0, Math.PI * 2);\n  ctx.closePath();\n\n  if (fill) {\n    ctx.fillStyle = fill.toString();\n    ctx.fill();\n  }\n\n  if (stroke) {\n    ctx.strokeStyle = stroke.toString();\n    ctx.stroke();\n  }\n}\n","/**\n * CollisionGroups indicate like members that do not collide with each other. Use [[CollisionGroupManager]] to create [[CollisionGroup]]s\n *\n * For example:\n *\n * Players have collision group \"player\"\n *\n * ![Player Collision Group](/assets/images/docs/CollisionGroupsPlayer.png)\n *\n * Enemies have collision group \"enemy\"\n *\n * ![Enemy Collision Group](/assets/images/docs/CollisionGroupsEnemy.png)\n *\n * Blocks have collision group \"ground\"\n *\n * ![Ground collision group](/assets/images/docs/CollisionGroupsGround.png)\n *\n * Players don't collide with each other, but enemies and blocks. Likewise, enemies don't collide with each other but collide\n * with players and blocks.\n *\n * This is done with bitmasking, see the following pseudo-code\n *\n * PlayerGroup = `0b001`\n * PlayerGroupMask = `0b110`\n *\n * EnemyGroup = `0b010`\n * EnemyGroupMask = `0b101`\n *\n * BlockGroup = `0b100`\n * BlockGroupMask = `0b011`\n *\n * Should Players collide? No because the bitwise mask evaluates to 0\n * `(player1.group & player2.mask) === 0`\n * `(0b001 & 0b110) === 0`\n *\n * Should Players and Enemies collide? Yes because the bitwise mask is non-zero\n * `(player1.group & enemy1.mask) === 1`\n * `(0b001 & 0b101) === 1`\n *\n * Should Players and Blocks collide? Yes because the bitwise mask is non-zero\n * `(player1.group & blocks1.mask) === 1`\n * `(0b001 & 0b011) === 1`\n */\nexport class CollisionGroup {\n  /**\n   * The `All` [[CollisionGroup]] is a special group that collides with all other groups including itself,\n   * it is the default collision group on colliders.\n   */\n  public static All = new CollisionGroup('Collide with all groups', -1, -1);\n\n  private _name: string;\n  private _category: number;\n  private _mask: number;\n\n  /**\n   * **STOP!!** It is preferred that [[CollisionGroupManager.create]] is used to create collision groups\n   *  unless you know how to construct the proper bitmasks. See https://github.com/excaliburjs/Excalibur/issues/1091 for more info.\n   * @param name Name of the collision group\n   * @param category 32 bit category for the group, should be a unique power of 2. For example `0b001` or `0b010`\n   * @param mask 32 bit mask of category, or `~category` generally. For a category of `0b001`, the mask would be `0b110`\n   */\n  constructor(name: string, category: number, mask: number) {\n    this._name = name;\n    this._category = category;\n    this._mask = mask;\n  }\n\n  /**\n   * Get the name of the collision group\n   */\n  public get name() {\n    return this._name;\n  }\n\n  /**\n   * Get the category of the collision group, a 32 bit number which should be a unique power of 2\n   */\n  public get category() {\n    return this._category;\n  }\n\n  /**\n   * Get the mask for this collision group\n   */\n  public get mask() {\n    return this._mask;\n  }\n\n  /**\n   * Evaluates whether 2 collision groups can collide\n   * @param other  CollisionGroup\n   */\n  public canCollide(other: CollisionGroup): boolean {\n    return (this.category & other.mask) !== 0 && (other.category & this.mask) !== 0;\n  }\n}\n","import { GameEvent, SubscribeEvent, UnsubscribeEvent } from './Events';\nimport { Eventable } from './Interfaces/Evented';\n\nexport class EventDispatcher<T = any> implements Eventable {\n  private _handlers: { [key: string]: { (event: GameEvent<T>): void }[] } = {};\n  private _wiredEventDispatchers: Eventable[] = [];\n\n  private _target: T;\n\n  /**\n   * @param target  The object that will be the recipient of events from this event dispatcher\n   */\n  constructor(target: T) {\n    this._target = target;\n  }\n\n  /**\n   * Clears any existing handlers or wired event dispatchers on this event dispatcher\n   */\n  public clear() {\n    this._handlers = {};\n    this._wiredEventDispatchers = [];\n  }\n\n  /**\n   * Emits an event for target\n   * @param eventName  The name of the event to publish\n   * @param event      Optionally pass an event data object to the handler\n   */\n  public emit(eventName: string, event: GameEvent<T>) {\n    if (!eventName) {\n      // key not mapped\n      return;\n    }\n    eventName = eventName.toLowerCase();\n    const target = this._target;\n    if (!event) {\n      event = new GameEvent();\n    }\n    try {\n      event.target = target;\n    } catch {\n      // pass\n    }\n    let i: number, len: number;\n\n    if (this._handlers[eventName]) {\n      i = 0;\n      len = this._handlers[eventName].length;\n\n      for (i; i < len; i++) {\n        this._handlers[eventName][i].call(target, event);\n      }\n    }\n\n    i = 0;\n    len = this._wiredEventDispatchers.length;\n\n    for (i; i < len; i++) {\n      this._wiredEventDispatchers[i].emit(eventName, event);\n    }\n  }\n\n  /**\n   * Subscribe an event handler to a particular event name, multiple handlers per event name are allowed.\n   * @param eventName  The name of the event to subscribe to\n   * @param handler    The handler callback to fire on this event\n   */\n  public on(eventName: string, handler: (event: GameEvent<T>) => void) {\n    eventName = eventName.toLowerCase();\n    if (!this._handlers[eventName]) {\n      this._handlers[eventName] = [];\n    }\n    this._handlers[eventName].push(handler);\n\n    // meta event handlers\n    if (eventName !== 'unsubscribe' && eventName !== 'subscribe') {\n      this.emit('subscribe', new SubscribeEvent(eventName, handler));\n    }\n  }\n\n  /**\n   * Unsubscribe an event handler(s) from an event. If a specific handler\n   * is specified for an event, only that handler will be unsubscribed.\n   * Otherwise all handlers will be unsubscribed for that event.\n   *\n   * @param eventName  The name of the event to unsubscribe\n   * @param handler    Optionally the specific handler to unsubscribe\n   *\n   */\n  public off(eventName: string, handler?: (event: GameEvent<T>) => void) {\n    eventName = eventName.toLowerCase();\n    const eventHandlers = this._handlers[eventName];\n\n    if (eventHandlers) {\n      // if no explicit handler is give with the event name clear all handlers\n      if (!handler) {\n        this._handlers[eventName].length = 0;\n      } else {\n        const index = eventHandlers.indexOf(handler);\n        this._handlers[eventName].splice(index, 1);\n      }\n    }\n    // meta event handlers\n    if (eventName !== 'unsubscribe' && eventName !== 'subscribe') {\n      this.emit('unsubscribe', new UnsubscribeEvent(eventName, handler));\n    }\n  }\n\n  /**\n   * Once listens to an event one time, then unsubscribes from that event\n   *\n   * @param eventName The name of the event to subscribe to once\n   * @param handler   The handler of the event that will be auto unsubscribed\n   */\n  public once(eventName: string, handler: (event: GameEvent<T>) => void) {\n    const metaHandler = (event: GameEvent<T>) => {\n      const ev = event || new GameEvent();\n      try {\n        ev.target = ev.target || this._target;\n      } catch {\n        // pass\n      }\n\n      this.off(eventName, handler);\n      handler.call(ev.target, ev);\n    };\n\n    this.on(eventName, metaHandler);\n  }\n\n  /**\n   * Wires this event dispatcher to also receive events from another\n   */\n  public wire(eventDispatcher: EventDispatcher): void {\n    eventDispatcher._wiredEventDispatchers.push(this);\n  }\n\n  /**\n   * Unwires this event dispatcher from another\n   */\n  public unwire(eventDispatcher: EventDispatcher): void {\n    const index = eventDispatcher._wiredEventDispatchers.indexOf(this);\n    if (index > -1) {\n      eventDispatcher._wiredEventDispatchers.splice(index, 1);\n    }\n  }\n}\n","import { Physics } from './../Physics';\nimport { Color } from './../Drawing/Color';\nimport { CollisionContact } from './CollisionContact';\nimport { CollisionResolutionStrategy } from '../Physics';\nimport * as DrawUtil from '../Util/DrawUtil';\nimport { CollisionType } from './CollisionType';\nimport { Collider } from './Collider';\n\n/**\n * Models a potential collision between 2 bodies\n */\nexport class Pair {\n  public id: string = null;\n  public collision: CollisionContact = null;\n\n  constructor(public colliderA: Collider, public colliderB: Collider) {\n    this.id = Pair.calculatePairHash(colliderA, colliderB);\n  }\n\n  public static canCollide(colliderA: Collider, colliderB: Collider) {\n    // If both are in the same collision group short circuit\n    if (!colliderA.group.canCollide(colliderB.group)) {\n      return false;\n    }\n\n    // if both are fixed short circuit\n    if (colliderA.type === CollisionType.Fixed && colliderB.type === CollisionType.Fixed) {\n      return false;\n    }\n\n    // if the either is prevent collision short circuit\n    if (colliderB.type === CollisionType.PreventCollision || colliderA.type === CollisionType.PreventCollision) {\n      return false;\n    }\n\n    // if either is dead short circuit\n    if (!colliderA.active || !colliderB.active) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Returns whether or not it is possible for the pairs to collide\n   */\n  public get canCollide(): boolean {\n    const actorA = this.colliderA;\n    const actorB = this.colliderB;\n    return Pair.canCollide(actorA, actorB);\n  }\n\n  /**\n   * Runs the collision intersection logic on the members of this pair\n   */\n  public collide() {\n    this.collision = this.colliderA.collide(this.colliderB);\n  }\n\n  /**\n   * Resolves the collision body position and velocity if a collision occurred\n   */\n  public resolve(strategy: CollisionResolutionStrategy) {\n    if (this.collision) {\n      this.collision.resolve(strategy);\n    }\n  }\n\n  /**\n   * Calculates the unique pair hash id for this collision pair\n   */\n  public static calculatePairHash(colliderA: Collider, colliderB: Collider): string {\n    if (colliderA.id < colliderB.id) {\n      return `#${colliderA.id}+${colliderB.id}`;\n    } else {\n      return `#${colliderB.id}+${colliderA.id}`;\n    }\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    if (this.collision) {\n      if (Physics.showContacts) {\n        DrawUtil.point(ctx, Color.Red, this.collision.point);\n      }\n      if (Physics.showCollisionNormals) {\n        DrawUtil.vector(ctx, Color.Cyan, this.collision.point, this.collision.normal, 30);\n      }\n    }\n  }\n}\n","import { Color } from '../Drawing/Color';\nimport * as DrawUtil from '../Util/DrawUtil';\nimport { Eventable } from '../Interfaces/Index';\nimport { GameEvent } from '../Events';\nimport { Actor } from '../Actor';\nimport { Body } from './Body';\nimport { CollisionShape } from './CollisionShape';\nimport { Vector, Line } from '../Algebra';\nimport { Physics } from '../Physics';\nimport { BoundingBox } from './BoundingBox';\nimport { CollisionType } from './CollisionType';\nimport { CollisionGroup } from './CollisionGroup';\nimport { CollisionContact } from './CollisionContact';\nimport { EventDispatcher } from '../EventDispatcher';\nimport { Pair } from './Pair';\nimport { Clonable } from '../Interfaces/Clonable';\n\n/**\n * Type guard function to determine whether something is a Collider\n */\nexport function isCollider(x: Actor | Collider): x is Collider {\n  return x instanceof Collider;\n}\n\nexport interface ColliderOptions {\n  /**\n   * Optional [[CollisionShape|Shape]] to use with this collider, the shape defines the collidable\n   * region along with the [[BoundingBox|bounding box]]\n   */\n  shape?: CollisionShape;\n  /**\n   * Optional body to associate with this collider\n   */\n  body?: Body;\n  /**\n   * Optional pixel offset from the position of the body\n   */\n  offset?: Vector;\n  /**\n   * Optional collision group on this collider\n   */\n  group?: CollisionGroup;\n  /**\n   * Optional [[CollisionType|collision type]], if not specified the default is [[CollisionType.PreventCollision]]\n   */\n  type?: CollisionType;\n  /**\n   * Optional local bounds if other bounds are required instead of the bounding box from the shape. This overrides shape bounds.\n   */\n  localBounds?: BoundingBox;\n  /**\n   * Optional flag to indicate moment of inertia from the shape should be used, by default it is true.\n   */\n  useShapeInertia?: boolean;\n}\n\n/**\n * Collider describes material properties like shape,\n * bounds, friction of the physics object. Only **one** collider can be associated with a body at a time\n */\n\nexport class Collider implements Eventable, Clonable<Collider> {\n  private _shape: CollisionShape;\n  public useShapeInertia: boolean;\n  private _events: EventDispatcher<Collider> = new EventDispatcher<Collider>(this);\n\n  constructor({ body, type, group, shape, offset, useShapeInertia = true }: ColliderOptions) {\n    // If shape is not supplied see if the body has an existing collider with a shape\n    if (body && body.collider && !shape) {\n      this._shape = body.collider.shape;\n    } else {\n      this._shape = shape;\n      this.body = body;\n    }\n    this.useShapeInertia = useShapeInertia;\n    this._shape.collider = this;\n    this.type = type || this.type;\n    this.group = group || this.group;\n    this.offset = offset || Vector.Zero;\n  }\n\n  /**\n   * Returns a clone of the current collider, not associated with any body\n   */\n  public clone() {\n    return new Collider({\n      body: null,\n      type: this.type,\n      shape: this._shape.clone(),\n      group: this.group,\n      offset: this.offset\n    });\n  }\n\n  /**\n   * Get the unique id of the collider\n   */\n  public get id(): number {\n    return this.body ? this.body.id : -1;\n  }\n\n  /**\n   * Gets or sets the current collision type of this collider. By\n   * default it is ([[CollisionType.PreventCollision]]).\n   */\n  public type: CollisionType = CollisionType.PreventCollision;\n\n  /**\n   * Gets or sets the current [[CollisionGroup|collision group]] for the collider, colliders with like collision groups do not collide.\n   * By default, the collider will collide with [[CollisionGroup|all groups]].\n   */\n  public group: CollisionGroup = CollisionGroup.All;\n\n  /*\n   * Get the shape of the collider as a [[CollisionShape]]\n   */\n  public get shape(): CollisionShape {\n    return this._shape;\n  }\n\n  /**\n   * Set the shape of the collider as a [[CollisionShape]], if useShapeInertia is set the collider will use inertia from the shape.\n   */\n  public set shape(shape: CollisionShape) {\n    this._shape = shape;\n    this._shape.collider = this;\n    if (this.useShapeInertia) {\n      this.inertia = isNaN(this._shape.inertia) ? this.inertia : this._shape.inertia;\n    }\n  }\n\n  /**\n   * Return a reference to the body associated with this collider\n   */\n  public body: Body;\n\n  /**\n   * The center of the collider in world space\n   */\n  public get center(): Vector {\n    return this.bounds.center;\n  }\n\n  /**\n   * Is this collider active, if false it wont collide\n   */\n  public get active(): boolean {\n    return this.body.active;\n  }\n\n  /**\n   * Collide 2 colliders and product a collision contact if there is a collision, null if none\n   *\n   * Collision vector is in the direction of the other collider. Away from this collider, this -> other.\n   * @param other\n   */\n  public collide(other: Collider): CollisionContact | null {\n    return this.shape.collide(other.shape);\n  }\n\n  /**\n   * Find the closest line between 2 colliders\n   *\n   * Line is in the direction of the other collider. Away from this collider, this -> other.\n   * @param other Other collider\n   */\n  public getClosestLineBetween(other: Collider): Line {\n    return this.shape.getClosestLineBetween(other.shape);\n  }\n\n  /**\n   * Gets the current pixel offset of the collider\n   */\n  public get offset() {\n    return this.shape.offset.clone();\n  }\n\n  /**\n   * Sets the pixel offset of the collider\n   */\n  public set offset(offset: Vector) {\n    this.shape.offset = offset.clone();\n  }\n\n  /**\n   * The current mass of the actor, mass can be thought of as the resistance to acceleration.\n   */\n  public mass: number = 1.0;\n\n  /**\n   * The current moment of inertia, moment of inertia can be thought of as the resistance to rotation.\n   */\n  public inertia: number = 1000;\n\n  /**\n   * The coefficient of friction on this actor\n   */\n  public friction: number = 0.99;\n\n  /**\n   * The also known as coefficient of restitution of this actor, represents the amount of energy preserved after collision or the\n   * bounciness. If 1, it is 100% bouncy, 0 it completely absorbs.\n   */\n  public bounciness: number = 0.2;\n\n  /**\n   * Returns a boolean indicating whether this body collided with\n   * or was in stationary contact with\n   * the body of the other [[Collider]]\n   */\n  public touching(other: Collider): boolean {\n    const pair = new Pair(this, other);\n    pair.collide();\n\n    if (pair.collision) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns the collider's [[BoundingBox]] calculated for this instant in world space.\n   * If there is no shape, a point bounding box is returned\n   */\n  public get bounds(): BoundingBox {\n    if (this.shape) {\n      return this.shape.bounds;\n    }\n\n    if (this.body) {\n      return new BoundingBox().translate(this.body.pos);\n    }\n    return new BoundingBox();\n  }\n\n  /**\n   * Returns the collider's [[BoundingBox]] relative to the body's position.\n   * If there is no shape, a point bounding box is returned\n   */\n  public get localBounds(): BoundingBox {\n    if (this.shape) {\n      return this.shape.localBounds;\n    }\n    return new BoundingBox();\n  }\n\n  /**\n   * Updates the collision shapes geometry and internal caches if needed\n   */\n  public update() {\n    if (this.shape) {\n      this.shape.recalc();\n    }\n  }\n\n  emit(eventName: string, event: GameEvent<Collider>): void {\n    this._events.emit(eventName, event);\n  }\n  on(eventName: string, handler: (event: GameEvent<Collider>) => void): void {\n    this._events.on(eventName, handler);\n  }\n  off(eventName: string, handler?: (event: GameEvent<Collider>) => void): void {\n    this._events.off(eventName, handler);\n  }\n  once(eventName: string, handler: (event: GameEvent<Collider>) => void): void {\n    this._events.once(eventName, handler);\n  }\n\n  clear() {\n    this._events.clear();\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    // Draw motion vectors\n    if (Physics.showMotionVectors) {\n      DrawUtil.vector(ctx, Color.Yellow, this.body.pos, this.body.acc.add(Physics.acc));\n      DrawUtil.vector(ctx, Color.Red, this.body.pos, this.body.vel);\n      DrawUtil.point(ctx, Color.Red, this.body.pos);\n    }\n\n    if (Physics.showBounds) {\n      this.bounds.debugDraw(ctx, Color.Yellow);\n    }\n\n    if (Physics.showArea) {\n      this.shape.debugDraw(ctx, Color.Green);\n    }\n  }\n}\n","import { CollisionGroup } from './CollisionGroup';\n\n/**\n * Static class for managing collision groups in excalibur, there is a maximum of 32 collision groups possible in excalibur\n */\nexport class CollisionGroupManager {\n  // using bitmasking the maximum number of groups is 32, because that is the highest 32bit integer that JS can present.\n  private static _STARTING_BIT = 0b1 | 0;\n  private static _MAX_GROUPS = 32;\n  private static _CURRENT_GROUP = 1;\n  private static _CURRENT_BIT = CollisionGroupManager._STARTING_BIT;\n  private static _GROUPS: Map<string, CollisionGroup> = new Map<string, CollisionGroup>();\n\n  /**\n   * Create a new named collision group up to a max of 32.\n   * @param name Name for the collision group\n   * @param mask Optionally provide your own 32-bit mask, if none is provide the manager will generate one\n   */\n  public static create(name: string, mask?: number) {\n    if (this._CURRENT_GROUP > this._MAX_GROUPS) {\n      throw new Error(`Cannot have more than ${this._MAX_GROUPS} collision groups`);\n    }\n    if (this._GROUPS.get(name)) {\n      throw new Error(`Collision group ${name} already exists`);\n    }\n    const group = new CollisionGroup(name, this._CURRENT_BIT, mask !== undefined ? mask : ~this._CURRENT_BIT);\n    this._CURRENT_BIT = (this._CURRENT_BIT << 1) | 0;\n    this._CURRENT_GROUP++;\n    this._GROUPS.set(name, group);\n    return group;\n  }\n\n  /**\n   * Get all collision groups currently tracked by excalibur\n   */\n  public static get groups(): CollisionGroup[] {\n    return Array.from(this._GROUPS.values());\n  }\n\n  /**\n   * Get a collision group by it's name\n   * @param name\n   */\n  public static groupByName(name: string) {\n    return this._GROUPS.get(name);\n  }\n\n  /**\n   * Resets the managers internal group management state\n   */\n  public static reset() {\n    this._GROUPS = new Map<string, CollisionGroup>();\n    this._CURRENT_BIT = this._STARTING_BIT;\n    this._CURRENT_GROUP = 1;\n  }\n}\n","import { Physics } from './../Physics';\nimport { BoundingBox } from './BoundingBox';\nimport { Body } from './Body';\n\nimport { Ray } from '../Algebra';\nimport { Logger } from '../Util/Log';\n\n/**\n * Dynamic Tree Node used for tracking bounds within the tree\n */\nexport class TreeNode {\n  public left: TreeNode;\n  public right: TreeNode;\n  public bounds: BoundingBox;\n  public height: number;\n  public body: Body;\n  constructor(public parent?: TreeNode) {\n    this.parent = parent || null;\n    this.body = null;\n    this.bounds = new BoundingBox();\n    this.left = null;\n    this.right = null;\n    this.height = 0;\n  }\n\n  public isLeaf(): boolean {\n    return !this.left && !this.right;\n  }\n}\n\n/**\n * The DynamicTrees provides a spatial partitioning data structure for quickly querying for overlapping bounding boxes for\n * all tracked bodies. The worst case performance of this is O(n*log(n)) where n is the number of bodies in the tree.\n *\n * Internally the bounding boxes are organized as a balanced binary tree of bounding boxes, where the leaf nodes are tracked bodies.\n * Every non-leaf node is a bounding box that contains child bounding boxes.\n */\nexport class DynamicTree {\n  public root: TreeNode;\n  public nodes: { [key: number]: TreeNode };\n  constructor(public worldBounds: BoundingBox = new BoundingBox(-Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE)) {\n    this.root = null;\n    this.nodes = {};\n  }\n\n  /**\n   * Inserts a node into the dynamic tree\n   */\n  private _insert(leaf: TreeNode): void {\n    // If there are no nodes in the tree, make this the root leaf\n    if (this.root === null) {\n      this.root = leaf;\n      this.root.parent = null;\n      return;\n    }\n\n    // Search the tree for a node that is not a leaf and find the best place to insert\n    const leafAABB = leaf.bounds;\n    let currentRoot = this.root;\n    while (!currentRoot.isLeaf()) {\n      const left = currentRoot.left;\n      const right = currentRoot.right;\n\n      const area = currentRoot.bounds.getPerimeter();\n      const combinedAABB = currentRoot.bounds.combine(leafAABB);\n      const combinedArea = combinedAABB.getPerimeter();\n\n      // Calculate cost heuristic for creating a new parent and leaf\n      const cost = 2 * combinedArea;\n\n      // Minimum cost of pushing the leaf down the tree\n      const inheritanceCost = 2 * (combinedArea - area);\n\n      // Cost of descending\n      let leftCost = 0;\n      const leftCombined = leafAABB.combine(left.bounds);\n      let newArea;\n      let oldArea;\n      if (left.isLeaf()) {\n        leftCost = leftCombined.getPerimeter() + inheritanceCost;\n      } else {\n        oldArea = left.bounds.getPerimeter();\n        newArea = leftCombined.getPerimeter();\n        leftCost = newArea - oldArea + inheritanceCost;\n      }\n\n      let rightCost = 0;\n      const rightCombined = leafAABB.combine(right.bounds);\n      if (right.isLeaf()) {\n        rightCost = rightCombined.getPerimeter() + inheritanceCost;\n      } else {\n        oldArea = right.bounds.getPerimeter();\n        newArea = rightCombined.getPerimeter();\n        rightCost = newArea - oldArea + inheritanceCost;\n      }\n\n      // cost is acceptable\n      if (cost < leftCost && cost < rightCost) {\n        break;\n      }\n\n      // Descend to the depths\n      if (leftCost < rightCost) {\n        currentRoot = left;\n      } else {\n        currentRoot = right;\n      }\n    }\n\n    // Create the new parent node and insert into the tree\n    const oldParent = currentRoot.parent;\n    const newParent = new TreeNode(oldParent);\n    newParent.bounds = leafAABB.combine(currentRoot.bounds);\n    newParent.height = currentRoot.height + 1;\n\n    if (oldParent !== null) {\n      // The sibling node was not the root\n      if (oldParent.left === currentRoot) {\n        oldParent.left = newParent;\n      } else {\n        oldParent.right = newParent;\n      }\n\n      newParent.left = currentRoot;\n      newParent.right = leaf;\n\n      currentRoot.parent = newParent;\n      leaf.parent = newParent;\n    } else {\n      // The sibling node was the root\n      newParent.left = currentRoot;\n      newParent.right = leaf;\n\n      currentRoot.parent = newParent;\n      leaf.parent = newParent;\n      this.root = newParent;\n    }\n\n    // Walk up the tree fixing heights and AABBs\n    let currentNode = leaf.parent;\n    while (currentNode) {\n      currentNode = this._balance(currentNode);\n\n      if (!currentNode.left) {\n        throw new Error('Parent of current leaf cannot have a null left child' + currentNode);\n      }\n      if (!currentNode.right) {\n        throw new Error('Parent of current leaf cannot have a null right child' + currentNode);\n      }\n\n      currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n      currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n\n      currentNode = currentNode.parent;\n    }\n  }\n\n  /**\n   * Removes a node from the dynamic tree\n   */\n  private _remove(leaf: TreeNode) {\n    if (leaf === this.root) {\n      this.root = null;\n      return;\n    }\n\n    const parent = leaf.parent;\n    const grandParent = parent.parent;\n    let sibling: TreeNode;\n    if (parent.left === leaf) {\n      sibling = parent.right;\n    } else {\n      sibling = parent.left;\n    }\n\n    if (grandParent) {\n      if (grandParent.left === parent) {\n        grandParent.left = sibling;\n      } else {\n        grandParent.right = sibling;\n      }\n      sibling.parent = grandParent;\n\n      let currentNode = grandParent;\n      while (currentNode) {\n        currentNode = this._balance(currentNode);\n        currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n        currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n\n        currentNode = currentNode.parent;\n      }\n    } else {\n      this.root = sibling;\n      sibling.parent = null;\n    }\n  }\n\n  /**\n   * Tracks a body in the dynamic tree\n   */\n  public trackBody(body: Body) {\n    const node = new TreeNode();\n    node.body = body;\n    node.bounds = body.collider.bounds;\n    node.bounds.left -= 2;\n    node.bounds.top -= 2;\n    node.bounds.right += 2;\n    node.bounds.bottom += 2;\n    this.nodes[body.id] = node;\n    this._insert(node);\n  }\n\n  /**\n   * Updates the dynamic tree given the current bounds of each body being tracked\n   */\n  public updateBody(body: Body) {\n    const node = this.nodes[body.id];\n    if (!node) {\n      return false;\n    }\n    const b = body.collider.bounds;\n\n    // if the body is outside the world no longer update it\n    if (!this.worldBounds.contains(b)) {\n      Logger.getInstance().warn('Collider with id ' + body.id + ' is outside the world bounds and will no longer be tracked for physics');\n      this.untrackBody(body);\n      return false;\n    }\n\n    if (node.bounds.contains(b)) {\n      return false;\n    }\n\n    this._remove(node);\n    b.left -= Physics.boundsPadding;\n    b.top -= Physics.boundsPadding;\n    b.right += Physics.boundsPadding;\n    b.bottom += Physics.boundsPadding;\n\n    const multdx = body.vel.x * Physics.dynamicTreeVelocityMultiplier;\n    const multdy = body.vel.y * Physics.dynamicTreeVelocityMultiplier;\n\n    if (multdx < 0) {\n      b.left += multdx;\n    } else {\n      b.right += multdx;\n    }\n\n    if (multdy < 0) {\n      b.top += multdy;\n    } else {\n      b.bottom += multdy;\n    }\n\n    node.bounds = b;\n    this._insert(node);\n    return true;\n  }\n\n  /**\n   * Untracks a body from the dynamic tree\n   */\n  public untrackBody(body: Body) {\n    const node = this.nodes[body.collider.id];\n    if (!node) {\n      return;\n    }\n    this._remove(node);\n    this.nodes[body.collider.id] = null;\n    delete this.nodes[body.collider.id];\n  }\n\n  /**\n   * Balances the tree about a node\n   */\n  private _balance(node: TreeNode) {\n    if (node === null) {\n      throw new Error('Cannot balance at null node');\n    }\n\n    if (node.isLeaf() || node.height < 2) {\n      return node;\n    }\n\n    const left = node.left;\n    const right = node.right;\n\n    const a = node;\n    const b = left;\n    const c = right;\n    const d = left.left;\n    const e = left.right;\n    const f = right.left;\n    const g = right.right;\n\n    const balance = c.height - b.height;\n    // Rotate c node up\n    if (balance > 1) {\n      // Swap the right node with it's parent\n      c.left = a;\n      c.parent = a.parent;\n      a.parent = c;\n\n      // The original node's old parent should point to the right node\n      // this is mega confusing\n      if (c.parent) {\n        if (c.parent.left === a) {\n          c.parent.left = c;\n        } else {\n          c.parent.right = c;\n        }\n      } else {\n        this.root = c;\n      }\n\n      // Rotate\n      if (f.height > g.height) {\n        c.right = f;\n        a.right = g;\n        g.parent = a;\n\n        a.bounds = b.bounds.combine(g.bounds);\n        c.bounds = a.bounds.combine(f.bounds);\n\n        a.height = 1 + Math.max(b.height, g.height);\n        c.height = 1 + Math.max(a.height, f.height);\n      } else {\n        c.right = g;\n        a.right = f;\n        f.parent = a;\n\n        a.bounds = b.bounds.combine(f.bounds);\n        c.bounds = a.bounds.combine(g.bounds);\n\n        a.height = 1 + Math.max(b.height, f.height);\n        c.height = 1 + Math.max(a.height, g.height);\n      }\n\n      return c;\n    }\n    // Rotate left node up\n    if (balance < -1) {\n      // swap\n      b.left = a;\n      b.parent = a.parent;\n      a.parent = b;\n\n      // node's old parent should point to b\n      if (b.parent) {\n        if (b.parent.left === a) {\n          b.parent.left = b;\n        } else {\n          if (b.parent.right !== a) {\n            throw 'Error rotating Dynamic Tree';\n          }\n          b.parent.right = b;\n        }\n      } else {\n        this.root = b;\n      }\n\n      // rotate\n      if (d.height > e.height) {\n        b.right = d;\n        a.left = e;\n        e.parent = a;\n\n        a.bounds = c.bounds.combine(e.bounds);\n        b.bounds = a.bounds.combine(d.bounds);\n\n        a.height = 1 + Math.max(c.height, e.height);\n        b.height = 1 + Math.max(a.height, d.height);\n      } else {\n        b.right = e;\n        a.left = d;\n        d.parent = a;\n\n        a.bounds = c.bounds.combine(d.bounds);\n        b.bounds = a.bounds.combine(e.bounds);\n\n        a.height = 1 + Math.max(c.height, d.height);\n        b.height = 1 + Math.max(a.height, e.height);\n      }\n      return b;\n    }\n\n    return node;\n  }\n\n  /**\n   * Returns the internal height of the tree, shorter trees are better. Performance drops as the tree grows\n   */\n  public getHeight(): number {\n    if (this.root === null) {\n      return 0;\n    }\n    return this.root.height;\n  }\n\n  /**\n   * Queries the Dynamic Axis Aligned Tree for bodies that could be colliding with the provided body.\n   *\n   * In the query callback, it will be passed a potential collider. Returning true from this callback indicates\n   * that you are complete with your query and you do not want to continue. Returning false will continue searching\n   * the tree until all possible colliders have been returned.\n   */\n  public query(body: Body, callback: (other: Body) => boolean): void {\n    const bounds = body.collider.bounds;\n    const helper = (currentNode: TreeNode): boolean => {\n      if (currentNode && currentNode.bounds.intersect(bounds)) {\n        if (currentNode.isLeaf() && currentNode.body !== body) {\n          if (callback.call(body, currentNode.body)) {\n            return true;\n          }\n        } else {\n          return helper(currentNode.left) || helper(currentNode.right);\n        }\n      }\n      return false;\n    };\n    helper(this.root);\n  }\n\n  /**\n   * Queries the Dynamic Axis Aligned Tree for bodies that could be intersecting. By default the raycast query uses an infinitely\n   * long ray to test the tree specified by `max`.\n   *\n   * In the query callback, it will be passed a potential body that intersects with the raycast. Returning true from this\n   * callback indicates that your are complete with your query and do not want to continue. Return false will continue searching\n   * the tree until all possible bodies that would intersect with the ray have been returned.\n   */\n  public rayCastQuery(ray: Ray, max: number = Infinity, callback: (other: Body) => boolean): void {\n    const helper = (currentNode: TreeNode): boolean => {\n      if (currentNode && currentNode.bounds.rayCast(ray, max)) {\n        if (currentNode.isLeaf()) {\n          if (callback.call(ray, currentNode.body)) {\n            // ray hit a leaf! return the body\n            return true;\n          }\n        } else {\n          // ray hit but not at a leaf, recurse deeper\n          return helper(currentNode.left) || helper(currentNode.right);\n        }\n      }\n      return false; // ray missed\n    };\n    helper(this.root);\n  }\n\n  public getNodes(): TreeNode[] {\n    const helper = (currentNode: TreeNode): TreeNode[] => {\n      if (currentNode) {\n        return [currentNode].concat(helper(currentNode.left), helper(currentNode.right));\n      } else {\n        return [];\n      }\n    };\n    return helper(this.root);\n  }\n\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    // draw all the nodes in the Dynamic Tree\n    const helper = (currentNode: TreeNode) => {\n      if (currentNode) {\n        if (currentNode.isLeaf()) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'green';\n        } else {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = 'white';\n        }\n        currentNode.bounds.debugDraw(ctx);\n\n        if (currentNode.left) {\n          helper(currentNode.left);\n        }\n        if (currentNode.right) {\n          helper(currentNode.right);\n        }\n      }\n    };\n\n    helper(this.root);\n  }\n}\n","import { Physics } from './../Physics';\nimport { CollisionBroadphase } from './CollisionResolver';\nimport { DynamicTree } from './DynamicTree';\nimport { Pair } from './Pair';\nimport { Body } from './Body';\n\nimport { Vector, Ray } from '../Algebra';\nimport { FrameStats } from '../Debug';\nimport { CollisionResolutionStrategy } from '../Physics';\nimport { Logger } from '../Util/Log';\nimport { CollisionStartEvent, CollisionEndEvent } from '../Events';\nimport { CollisionType } from './CollisionType';\nimport { Collider } from './Collider';\n\nexport class DynamicTreeCollisionBroadphase implements CollisionBroadphase {\n  private _dynamicCollisionTree = new DynamicTree();\n  private _collisionHash: { [key: string]: boolean } = {};\n  private _collisionPairCache: Pair[] = [];\n  private _lastFramePairs: Pair[] = [];\n  private _lastFramePairsHash: { [pairId: string]: Pair } = {};\n\n  /**\n   * Tracks a physics body for collisions\n   */\n  public track(target: Body): void {\n    if (!target) {\n      Logger.getInstance().warn('Cannot track null physics body');\n      return;\n    }\n    this._dynamicCollisionTree.trackBody(target);\n  }\n\n  /**\n   * Untracks a physics body\n   */\n  public untrack(target: Body): void {\n    if (!target) {\n      Logger.getInstance().warn('Cannot untrack a null physics body');\n      return;\n    }\n    this._dynamicCollisionTree.untrackBody(target);\n  }\n\n  private _shouldGenerateCollisionPair(colliderA: Collider, colliderB: Collider) {\n    // if the collision pair has been calculated already short circuit\n    const hash = Pair.calculatePairHash(colliderA, colliderB);\n    if (this._collisionHash[hash]) {\n      return false; // pair exists easy exit return false\n    }\n\n    return Pair.canCollide(colliderA, colliderB);\n  }\n\n  /**\n   * Detects potential collision pairs in a broadphase approach with the dynamic aabb tree strategy\n   */\n  public broadphase(targets: Body[], delta: number, stats?: FrameStats): Pair[] {\n    const seconds = delta / 1000;\n\n    // Retrieve the list of potential colliders, exclude killed, prevented, and self\n    const potentialColliders = targets\n      .map((t) => t.collider)\n      .filter((other) => {\n        return other.active && other.type !== CollisionType.PreventCollision;\n      });\n\n    // clear old list of collision pairs\n    this._collisionPairCache = [];\n    this._collisionHash = {};\n\n    // check for normal collision pairs\n    let collider: Collider;\n    for (let j = 0, l = potentialColliders.length; j < l; j++) {\n      collider = potentialColliders[j];\n\n      // Query the collision tree for potential colliders\n      this._dynamicCollisionTree.query(collider.body, (other: Body) => {\n        if (this._shouldGenerateCollisionPair(collider, other.collider)) {\n          const pair = new Pair(collider, other.collider);\n          this._collisionHash[pair.id] = true;\n          this._collisionPairCache.push(pair);\n        }\n        // Always return false, to query whole tree. Returning true in the query method stops searching\n        return false;\n      });\n    }\n    if (stats) {\n      stats.physics.pairs = this._collisionPairCache.length;\n    }\n\n    // Check dynamic tree for fast moving objects\n    // Fast moving objects are those moving at least there smallest bound per frame\n    if (Physics.checkForFastBodies) {\n      for (const collider of potentialColliders) {\n        // Skip non-active objects. Does not make sense on other collision types\n        if (collider.type !== CollisionType.Active) {\n          continue;\n        }\n\n        // Maximum travel distance next frame\n        const updateDistance =\n          collider.body.vel.size * seconds + // velocity term\n          collider.body.acc.size * 0.5 * seconds * seconds; // acc term\n\n        // Find the minimum dimension\n        const minDimension = Math.min(collider.bounds.height, collider.bounds.width);\n        if (Physics.disableMinimumSpeedForFastBody || updateDistance > minDimension / 2) {\n          if (stats) {\n            stats.physics.fastBodies++;\n          }\n\n          // start with the oldPos because the integration for actors has already happened\n          // objects resting on a surface may be slightly penetrating in the current position\n          const updateVec = collider.body.pos.sub(collider.body.oldPos);\n          const centerPoint = collider.shape.center;\n          const furthestPoint = collider.shape.getFurthestPoint(collider.body.vel);\n          const origin: Vector = furthestPoint.sub(updateVec);\n\n          const ray: Ray = new Ray(origin, collider.body.vel);\n\n          // back the ray up by -2x surfaceEpsilon to account for fast moving objects starting on the surface\n          ray.pos = ray.pos.add(ray.dir.scale(-2 * Physics.surfaceEpsilon));\n          let minBody: Body;\n          let minTranslate: Vector = new Vector(Infinity, Infinity);\n          this._dynamicCollisionTree.rayCastQuery(ray, updateDistance + Physics.surfaceEpsilon * 2, (other: Body) => {\n            if (collider.body !== other && other.collider.shape && Pair.canCollide(collider, other.collider)) {\n              const hitPoint = other.collider.shape.rayCast(ray, updateDistance + Physics.surfaceEpsilon * 10);\n              if (hitPoint) {\n                const translate = hitPoint.sub(origin);\n                if (translate.size < minTranslate.size) {\n                  minTranslate = translate;\n                  minBody = other;\n                }\n              }\n            }\n            return false;\n          });\n\n          if (minBody && Vector.isValid(minTranslate)) {\n            const pair = new Pair(collider, minBody.collider);\n            if (!this._collisionHash[pair.id]) {\n              this._collisionHash[pair.id] = true;\n              this._collisionPairCache.push(pair);\n            }\n            // move the fast moving object to the other body\n            // need to push into the surface by ex.Physics.surfaceEpsilon\n            const shift = centerPoint.sub(furthestPoint);\n            collider.body.pos = origin\n              .add(shift)\n              .add(minTranslate)\n              .add(ray.dir.scale(2 * Physics.surfaceEpsilon));\n            collider.shape.recalc();\n\n            if (stats) {\n              stats.physics.fastBodyCollisions++;\n            }\n          }\n        }\n      }\n    }\n    // return cache\n    return this._collisionPairCache;\n  }\n\n  /**\n   * Applies narrow phase on collision pairs to find actual area intersections\n   * Adds actual colliding pairs to stats' Frame data\n   */\n  public narrowphase(pairs: Pair[], stats?: FrameStats): Pair[] {\n    for (let i = 0; i < pairs.length; i++) {\n      pairs[i].collide();\n      if (stats && pairs[i].collision) {\n        stats.physics.collisions++;\n        stats.physics.collidersHash[pairs[i].id] = pairs[i];\n      }\n    }\n    return pairs.filter((p) => p.collision);\n  }\n\n  /**\n   * Perform collision resolution given a strategy (rigid body or box) and move objects out of intersect.\n   */\n  public resolve(pairs: Pair[], delta: number, strategy: CollisionResolutionStrategy): Pair[] {\n    for (const pair of pairs) {\n      pair.resolve(strategy);\n\n      if (pair.collision) {\n        pair.colliderA.body.applyMtv();\n        pair.colliderB.body.applyMtv();\n        // todo still don't like this, this is a small integration step to resolve narrowphase collisions\n        pair.colliderA.body.integrate(delta * Physics.collisionShift);\n        pair.colliderB.body.integrate(delta * Physics.collisionShift);\n      }\n    }\n\n    return pairs.filter((p) => p.canCollide);\n  }\n\n  public runCollisionStartEnd(pairs: Pair[]) {\n    const currentFrameHash: { [pairId: string]: Pair } = {};\n\n    for (const p of pairs) {\n      // load currentFrameHash\n      currentFrameHash[p.id] = p;\n\n      // find all new collisions\n      if (!this._lastFramePairsHash[p.id]) {\n        const actor1 = p.colliderA;\n        const actor2 = p.colliderB;\n        actor1.emit('collisionstart', new CollisionStartEvent(actor1, actor2, p));\n        actor2.emit('collisionstart', new CollisionStartEvent(actor2, actor1, p));\n      }\n    }\n\n    // find all old collisions\n    for (const p of this._lastFramePairs) {\n      if (!currentFrameHash[p.id]) {\n        const actor1 = p.colliderA;\n        const actor2 = p.colliderB;\n        actor1.emit('collisionend', new CollisionEndEvent(actor1, actor2));\n        actor2.emit('collisionend', new CollisionEndEvent(actor2, actor1));\n      }\n    }\n\n    // reset the last frame cache\n    this._lastFramePairs = pairs;\n    this._lastFramePairsHash = currentFrameHash;\n  }\n\n  /**\n   * Update the dynamic tree positions\n   */\n  public update(targets: Body[]): number {\n    let updated = 0;\n    const len = targets.length;\n\n    for (let i = 0; i < len; i++) {\n      if (this._dynamicCollisionTree.updateBody(targets[i])) {\n        updated++;\n      }\n    }\n    return updated;\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    if (Physics.broadphaseDebug) {\n      this._dynamicCollisionTree.debugDraw(ctx);\n    }\n\n    if (Physics.showContacts || Physics.showCollisionNormals) {\n      for (const pair of this._collisionPairCache) {\n        pair.debugDraw(ctx);\n      }\n    }\n  }\n}\n","export * from './Body';\nexport * from './Collider';\nexport * from './BoundingBox';\nexport * from './Circle';\nexport * from './CollisionContact';\nexport * from './CollisionJumpTable';\nexport * from './ClosestLineJumpTable';\nexport * from './CollisionGroup';\nexport * from './CollisionGroupManager';\nexport * from './DynamicTree';\nexport * from './DynamicTreeCollisionBroadphase';\nexport * from './Edge';\nexport * from './CollisionShape';\nexport * from './CollisionResolver';\nexport * from './Physics';\nexport * from './Pair';\nexport * from './ConvexPolygon';\nexport * from './Side';\nexport * from './Shape';\n","import { Vector } from './Algebra';\nimport { Logger } from './Util/Log';\nimport { Camera } from './Camera';\nimport { BrowserEvents } from './Util/Browser';\nimport { BoundingBox } from './Collision/Index';\nimport { ExcaliburGraphicsContext } from './Graphics/Context/ExcaliburGraphicsContext';\nimport { getPosition } from './Util/Util';\n\n/**\n * Enum representing the different display modes available to Excalibur.\n */\nexport enum DisplayMode {\n  /**\n   * Fit to screen using as much space as possible while maintaining aspect ratio and resolution.\n   * This is not the same as [[Screen.goFullScreen]]\n   *\n   * You may want to center your game here is an example\n   * ```html\n   * <!-- html -->\n   * <body>\n   * <main>\n   *   <canvas id=\"game\"></canvas>\n   * </main>\n   * </body>\n   * ```\n   *\n   * ```css\n   * // css\n   * main {\n   *   display: flex;\n   *   align-items: center;\n   *   justify-content: center;\n   *   height: 100%;\n   *   width: 100%;\n   * }\n   * ```\n   *\n   */\n  Fit = 'Fit',\n\n  /**\n   * Fill the entire screen's css width/height for the game resolution dynamically. This means the resolution of the game will\n   * change dynamically as the window is resized. This is not the same as [[Screen.goFullScreen]]\n   */\n  Fill = 'Fill',\n\n  /**\n   * Default, use a specified resolution for the game. Like 800x600 pixels for example.\n   */\n  Fixed = 'Fixed',\n\n  /**\n   * Allow the game to be positioned with the [[EngineOptions.position]] option\n   * @deprecated Use CSS to position the game canvas, will be removed in v0.26.0\n   */\n  Position = 'Position',\n\n  /**\n   * Use the parent DOM container's css width/height for the game resolution dynamically\n   */\n  Container = 'Container'\n}\n\n/**\n * Convenience class for quick resolutions\n * Mostly sourced from https://emulation.gametechwiki.com/index.php/Resolution\n */\nexport class Resolution {\n  /* istanbul ignore next */\n  public static get SVGA(): ScreenDimension {\n    return { width: 800, height: 600 };\n  }\n\n  /* istanbul ignore next */\n  public static get Standard(): ScreenDimension {\n    return { width: 1920, height: 1080 };\n  }\n\n  /* istanbul ignore next */\n  public static get Atari2600(): ScreenDimension {\n    return { width: 160, height: 192 };\n  }\n\n  /* istanbul ignore next */\n  public static get GameBoy(): ScreenDimension {\n    return { width: 160, height: 144 };\n  }\n\n  /* istanbul ignore next */\n  public static get GameBoyAdvance(): ScreenDimension {\n    return { width: 240, height: 160 };\n  }\n\n  /* istanbul ignore next */\n  public static get NintendoDS(): ScreenDimension {\n    return { width: 256, height: 192 };\n  }\n\n  /* istanbul ignore next */\n  public static get NES(): ScreenDimension {\n    return { width: 256, height: 224 };\n  }\n\n  /* istanbul ignore next */\n  public static get SNES(): ScreenDimension {\n    return { width: 256, height: 244 };\n  }\n}\n\n/**\n * Interface describing the absolute CSS position of the game window. For use when [[DisplayMode.Position]]\n * is specified and when the user wants to define exact pixel spacing of the window.\n * When a number is given, the value is interpreted as pixels\n */\nexport interface AbsolutePosition {\n  top?: number | string;\n  left?: number | string;\n  right?: number | string;\n  bottom?: number | string;\n}\n\nexport type CanvasPosition = string | AbsolutePosition;\n\nexport interface ScreenDimension {\n  width: number;\n  height: number;\n}\n\nexport interface ScreenOptions {\n  /**\n   * Canvas element to build a screen on\n   */\n  canvas: HTMLCanvasElement;\n  /**\n   * Graphics context for the screen\n   */\n  context: ExcaliburGraphicsContext;\n\n  /**\n   * Browser abstraction\n   */\n  browser: BrowserEvents;\n  /**\n   * Optionally set antialiasing, defaults to true. If set to true, images will be smoothed\n   */\n  antialiasing?: boolean;\n  /**\n   * Optionally override the pixel ratio to use for the screen, otherwise calculated automatically from the browser\n   */\n  pixelRatio?: number;\n  /**\n   * Optionally specify the actual pixel resolution in width/height pixels (also known as logical resolution), by default the\n   * resolution will be the same as the viewport. Resolution will be overridden by DisplayMode.Container and DisplayMode.FullScreen.\n   */\n  resolution?: ScreenDimension;\n  /**\n   * Visual viewport size in css pixel, if resolution is not specified it will be the same as the viewport\n   */\n  viewport: ScreenDimension;\n  /**\n   * Set the display mode of the screen, by default DisplayMode.Fixed.\n   */\n  displayMode?: DisplayMode;\n  /**\n   * Specify how the game window is to be positioned when the [[DisplayMode.Position]] is chosen. This option MUST be specified\n   * if the DisplayMode is set as [[DisplayMode.Position]]. The position can be either a string or an [[AbsolutePosition]].\n   * String must be in the format of css style background-position. The vertical position must precede the horizontal position in strings.\n   *\n   * Valid String examples: \"top left\", \"top\", \"bottom\", \"middle\", \"middle center\", \"bottom right\"\n   * Valid [[AbsolutePosition]] examples: `{top: 5, right: 10%}`, `{bottom: 49em, left: 10px}`, `{left: 10, bottom: 40}`\n   */\n  position?: CanvasPosition;\n}\n\n/**\n * The Screen handles all aspects of interacting with the screen for Excalibur.\n */\nexport class Screen {\n  private _canvas: HTMLCanvasElement;\n  private _ctx: ExcaliburGraphicsContext;\n  private _antialiasing: boolean = true;\n  private _browser: BrowserEvents;\n  private _camera: Camera;\n  private _resolution: ScreenDimension;\n  private _resolutionStack: ScreenDimension[] = [];\n  private _viewport: ScreenDimension;\n  private _viewportStack: ScreenDimension[] = [];\n  private _pixelRatioOverride: number | null = null;\n  private _position: CanvasPosition;\n  private _displayMode: DisplayMode;\n  private _isFullScreen = false;\n  private _mediaQueryList: MediaQueryList;\n  private _isDisposed = false;\n  private _logger = Logger.getInstance();\n\n  constructor(options: ScreenOptions) {\n    this.viewport = options.viewport;\n    this.resolution = options.resolution ?? { ...this.viewport };\n    this._displayMode = options.displayMode ?? DisplayMode.Fixed;\n    this._canvas = options.canvas;\n    this._ctx = options.context;\n    this._antialiasing = options.antialiasing ?? this._antialiasing;\n    this._browser = options.browser;\n    this._position = options.position;\n    this._pixelRatioOverride = options.pixelRatio;\n    this._applyDisplayMode();\n\n    this._mediaQueryList = this._browser.window.nativeComponent.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n    this._mediaQueryList.addEventListener('change', this._pixelRatioChangeHandler);\n\n    this._canvas.addEventListener('fullscreenchange', this._fullscreenChangeHandler);\n  }\n\n  public dispose(): void {\n    if (!this._isDisposed) {\n      // Clean up handlers\n      this._isDisposed = true;\n      this._browser.window.off('resize', this._windowResizeHandler);\n      this._mediaQueryList.removeEventListener('change', this._pixelRatioChangeHandler);\n      this._canvas.removeEventListener('fullscreenchange', this._fullscreenChangeHandler);\n    }\n  }\n\n  private _fullscreenChangeHandler = () => {\n    this._isFullScreen = !this._isFullScreen;\n    this._logger.debug('Fullscreen Change', this._isFullScreen);\n  };\n\n  private _pixelRatioChangeHandler = () => {\n    this._logger.debug('Pixel Ratio Change', window.devicePixelRatio);\n    this._devicePixelRatio = this._calculateDevicePixelRatio();\n    this.applyResolutionAndViewport();\n  };\n\n  private _windowResizeHandler = () => {\n    const parent = <any>(this.displayMode === DisplayMode.Container ? <any>(this.canvas.parentElement || document.body) : <any>window);\n    this._logger.debug('View port resized');\n    this._setResolutionAndViewportByDisplayMode(parent);\n    this.applyResolutionAndViewport();\n  };\n\n  private _calculateDevicePixelRatio() {\n    if (window.devicePixelRatio < 1) {\n      return 1;\n    }\n\n    const devicePixelRatio = window.devicePixelRatio || 1;\n\n    return devicePixelRatio;\n  }\n\n  // Asking the window.devicePixelRatio is expensive we do it once\n  private _devicePixelRatio = this._calculateDevicePixelRatio();\n\n  public get pixelRatio(): number {\n    if (this._pixelRatioOverride) {\n      return this._pixelRatioOverride;\n    }\n\n    return this._devicePixelRatio;\n  }\n\n  public get isHiDpi() {\n    return this.pixelRatio !== 1;\n  }\n\n  public get displayMode(): DisplayMode {\n    return this._displayMode;\n  }\n\n  public get canvas(): HTMLCanvasElement {\n    return this._canvas;\n  }\n\n  public get resolution(): ScreenDimension {\n    return this._resolution;\n  }\n\n  public set resolution(resolution: ScreenDimension) {\n    this._resolution = resolution;\n  }\n\n  public get viewport(): ScreenDimension {\n    if (this._viewport) {\n      return this._viewport;\n    }\n    return this._resolution;\n  }\n\n  public set viewport(viewport: ScreenDimension) {\n    this._viewport = viewport;\n  }\n\n  public get aspectRatio() {\n    return this._resolution.width / this._resolution.height;\n  }\n\n  public get scaledWidth() {\n    return this._resolution.width * this.pixelRatio;\n  }\n\n  public get scaledHeight() {\n    return this._resolution.height * this.pixelRatio;\n  }\n\n  public setCurrentCamera(camera: Camera) {\n    this._camera = camera;\n  }\n\n  public pushResolutionAndViewport() {\n    this._resolutionStack.push(this.resolution);\n    this._viewportStack.push(this.viewport);\n\n    this.resolution = { ...this.resolution };\n    this.viewport = { ...this.viewport };\n  }\n\n  public popResolutionAndViewport() {\n    this.resolution = this._resolutionStack.pop();\n    this.viewport = this._viewportStack.pop();\n  }\n\n  public applyResolutionAndViewport() {\n    this._canvas.width = this.scaledWidth;\n    this._canvas.height = this.scaledHeight;\n\n    if (this._antialiasing) {\n      this._canvas.style.imageRendering = 'auto';\n    } else {\n      this._canvas.style.imageRendering = 'pixelated';\n      // Fall back to 'crisp-edges' if 'pixelated' is not supported\n      // Currently for firefox https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering\n      if (this._canvas.style.imageRendering === '') {\n        this._canvas.style.imageRendering = 'crisp-edges';\n      }\n    }\n    this._canvas.style.width = this.viewport.width + 'px';\n    this._canvas.style.height = this.viewport.height + 'px';\n\n    // After messing with the canvas width/height the graphics context is invalidated and needs to have some properties reset\n    this._ctx.updateViewport();\n    this._ctx.resetTransform();\n    this._ctx.scale(this.pixelRatio, this.pixelRatio);\n    this._ctx.smoothing = this._antialiasing;\n  }\n\n  public get antialiasing() {\n    return this._antialiasing;\n  }\n\n  public set antialiasing(isSmooth: boolean) {\n    this._antialiasing = isSmooth;\n    this._ctx.smoothing = this._antialiasing;\n  }\n\n  /**\n   * Returns true if excalibur is fullscreened using the browser fullscreen api\n   */\n  public get isFullScreen() {\n    return this._isFullScreen;\n  }\n\n  /**\n   * Requests to go fullscreen using the browser fullscreen api, requires user interaction to be successful.\n   * For example, wire this to a user click handler.\n   */\n  public goFullScreen(): Promise<void> {\n    return this._canvas.requestFullscreen();\n  }\n\n  /**\n   * Requests to exit fullscreen using the browser fullscreen api\n   */\n  public exitFullScreen(): Promise<void> {\n    return document.exitFullscreen();\n  }\n\n  /**\n   * Takes a coordinate in normal html page space, for example from a pointer move event, and translates it to\n   * Excalibur screen space.\n   *\n   * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\n   * bottom right corner (resolutionX, resolutionY)\n   * @param point\n   */\n  public pageToScreenCoordinates(point: Vector): Vector {\n    let newX = point.x;\n    let newY = point.y;\n\n    if (!this._isFullScreen) {\n      newX -= getPosition(this._canvas).x;\n      newY -= getPosition(this._canvas).y;\n    }\n\n    // if fullscreen api on it centers with black bars\n    // we need to adjust the screen to world coordinates in this case\n    if (this._isFullScreen) {\n      if (window.innerWidth / this.aspectRatio < window.innerHeight) {\n        const screenHeight = window.innerWidth / this.aspectRatio;\n        const screenMarginY = (window.innerHeight - screenHeight) / 2;\n        newY = ((newY - screenMarginY) / screenHeight) * this.viewport.height;\n        newX = (newX / window.innerWidth) * this.viewport.width;\n      } else {\n        const screenWidth = window.innerHeight * this.aspectRatio;\n        const screenMarginX = (window.innerWidth - screenWidth) / 2;\n        newX = ((newX - screenMarginX) / screenWidth) * this.viewport.width;\n        newY = (newY / window.innerHeight) * this.viewport.height;\n      }\n    }\n\n    newX = (newX / this.viewport.width) * this.resolution.width;\n    newY = (newY / this.viewport.height) * this.resolution.height;\n\n    return new Vector(newX, newY);\n  }\n\n  /**\n   * Takes a coordinate in Excalibur screen space, and translates it to normal html page space. For example,\n   * this is where html elements might live if you want to position them relative to Excalibur.\n   *\n   * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\n   * bottom right corner (resolutionX, resolutionY)\n   * @param point\n   */\n  public screenToPageCoordinates(point: Vector): Vector {\n    let newX = point.x;\n    let newY = point.y;\n\n    newX = (newX / this.resolution.width) * this.viewport.width;\n    newY = (newY / this.resolution.height) * this.viewport.height;\n\n    if (this._isFullScreen) {\n      if (window.innerWidth / this.aspectRatio < window.innerHeight) {\n        const screenHeight = window.innerWidth / this.aspectRatio;\n        const screenMarginY = (window.innerHeight - screenHeight) / 2;\n        newY = (newY / this.viewport.height) * screenHeight + screenMarginY;\n        newX = (newX / this.viewport.width) * window.innerWidth;\n      } else {\n        const screenWidth = window.innerHeight * this.aspectRatio;\n        const screenMarginX = (window.innerWidth - screenWidth) / 2;\n        newX = (newX / this.viewport.width) * screenWidth + screenMarginX;\n        newY = (newY / this.viewport.height) * window.innerHeight;\n      }\n    }\n\n    if (!this._isFullScreen) {\n      newX += getPosition(this._canvas).x;\n      newY += getPosition(this._canvas).y;\n    }\n\n    return new Vector(newX, newY);\n  }\n\n  /**\n   * Takes a coordinate in Excalibur screen space, and translates it to Excalibur world space.\n   *\n   * World space is where [[entities|Entity]] in Excalibur live by default [[CoordPlane.World]]\n   * and extends infinitely out relative from the [[Camera]].\n   * @param point  Screen coordinate to convert\n   */\n  public screenToWorldCoordinates(point: Vector): Vector {\n    let newX = point.x;\n    let newY = point.y;\n\n    // transform back to world space\n    newX = (newX / this.resolution.width) * this.drawWidth;\n    newY = (newY / this.resolution.height) * this.drawHeight;\n\n    // transform based on zoom\n    newX = newX - this.halfDrawWidth;\n    newY = newY - this.halfDrawHeight;\n\n    // shift by camera focus\n    newX += this._camera?.x ?? 0;\n    newY += this._camera?.y ?? 0;\n\n    return new Vector(newX, newY);\n  }\n\n  /**\n   * Takes a coordinate in Excalibur world space, and translates it to Excalibur screen space.\n   *\n   * Screen space is where [[ScreenElements]] and [[entities|Entity]] with [[CoordPlane.Screen]] live.\n   * @param point  World coordinate to convert\n   */\n  public worldToScreenCoordinates(point: Vector): Vector {\n    let screenX = point.x;\n    let screenY = point.y;\n\n    // shift by camera focus\n    screenX -= this._camera?.x ?? 0;\n    screenY -= this._camera?.y ?? 0;\n\n    // transform back on zoom\n    screenX = screenX + this.halfDrawWidth;\n    screenY = screenY + this.halfDrawHeight;\n\n    // transform back to screen space\n    screenX = (screenX / this.drawWidth) * this.resolution.width;\n    screenY = (screenY / this.drawHeight) * this.resolution.height;\n\n    return new Vector(screenX, screenY);\n  }\n\n  public pageToWorldCoordinates(point: Vector): Vector {\n    const screen = this.pageToScreenCoordinates(point);\n    return this.screenToWorldCoordinates(screen);\n  }\n\n  public worldToPageCoordinates(point: Vector): Vector {\n    const screen = this.worldToScreenCoordinates(point);\n    return this.screenToPageCoordinates(screen);\n  }\n\n  /**\n   * Returns a BoundingBox of the top left corner of the screen\n   * and the bottom right corner of the screen.\n   *\n   * World bounds are in world coordinates, useful for culling objects offscreen\n   */\n  public getWorldBounds(): BoundingBox {\n    const left = this.screenToWorldCoordinates(Vector.Zero).x;\n    const top = this.screenToWorldCoordinates(Vector.Zero).y;\n    const right = left + this.drawWidth;\n    const bottom = top + this.drawHeight;\n\n    return new BoundingBox(left, top, right, bottom);\n  }\n\n  /**\n   * The width of the game canvas in pixels (physical width component of the\n   * resolution of the canvas element)\n   */\n  public get canvasWidth(): number {\n    return this.canvas.width;\n  }\n\n  /**\n   * Returns half width of the game canvas in pixels (half physical width component)\n   */\n  public get halfCanvasWidth(): number {\n    return this.canvas.width / 2;\n  }\n\n  /**\n   * The height of the game canvas in pixels, (physical height component of\n   * the resolution of the canvas element)\n   */\n  public get canvasHeight(): number {\n    return this.canvas.height;\n  }\n\n  /**\n   * Returns half height of the game canvas in pixels (half physical height component)\n   */\n  public get halfCanvasHeight(): number {\n    return this.canvas.height / 2;\n  }\n\n  /**\n   * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get drawWidth(): number {\n    if (this._camera) {\n      return this.scaledWidth / this._camera.zoom / this.pixelRatio;\n    }\n    return this.scaledWidth / this.pixelRatio;\n  }\n\n  /**\n   * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get halfDrawWidth(): number {\n    return this.drawWidth / 2;\n  }\n\n  /**\n   * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get drawHeight(): number {\n    if (this._camera) {\n      return this.scaledHeight / this._camera.zoom / this.pixelRatio;\n    }\n    return this.scaledHeight / this.pixelRatio;\n  }\n\n  /**\n   * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get halfDrawHeight(): number {\n    return this.drawHeight / 2;\n  }\n\n  private _computeFit() {\n    document.body.style.margin = '0px';\n    document.body.style.overflow = 'hidden';\n    const aspect = this.aspectRatio;\n    let adjustedWidth = 0;\n    let adjustedHeight = 0;\n    if (window.innerWidth / aspect < window.innerHeight) {\n      adjustedWidth = window.innerWidth;\n      adjustedHeight = window.innerWidth / aspect;\n    } else {\n      adjustedWidth = window.innerHeight * aspect;\n      adjustedHeight = window.innerHeight;\n    }\n\n    this.viewport = {\n      width: adjustedWidth,\n      height: adjustedHeight\n    };\n  }\n\n  private _applyDisplayMode() {\n    if (this.displayMode === DisplayMode.Fit || this.displayMode === DisplayMode.Fill || this.displayMode === DisplayMode.Container) {\n      const parent = <any>(this.displayMode === DisplayMode.Container ? <any>(this.canvas.parentElement || document.body) : <any>window);\n\n      this._setResolutionAndViewportByDisplayMode(parent);\n\n      this._browser.window.on('resize', this._windowResizeHandler);\n    } else if (this.displayMode === DisplayMode.Position) {\n      this._initializeDisplayModePosition(this._position);\n    }\n  }\n\n  /**\n   * Sets the resoultion and viewport based on the selected display mode.\n   */\n  private _setResolutionAndViewportByDisplayMode(parent: HTMLElement | Window) {\n    if (this.displayMode === DisplayMode.Container) {\n      this.resolution = {\n        width: (<HTMLElement>parent).clientWidth,\n        height: (<HTMLElement>parent).clientHeight\n      };\n\n      this.viewport = this.resolution;\n    }\n\n    if (this.displayMode === DisplayMode.Fill) {\n      document.body.style.margin = '0px';\n      document.body.style.overflow = 'hidden';\n      this.resolution = {\n        width: (<Window>parent).innerWidth,\n        height: (<Window>parent).innerHeight\n      };\n\n      this.viewport = this.resolution;\n    }\n\n    if (this.displayMode === DisplayMode.Fit) {\n      this._computeFit();\n    }\n  }\n\n  private _initializeDisplayModePosition(position: CanvasPosition) {\n    if (!position) {\n      throw new Error('DisplayMode of Position was selected but no position option was given');\n    } else {\n      this.canvas.style.display = 'block';\n      this.canvas.style.position = 'absolute';\n\n      if (typeof position === 'string') {\n        const specifiedPosition = position.split(' ');\n\n        switch (specifiedPosition[0]) {\n          case 'top':\n            this.canvas.style.top = '0px';\n            break;\n          case 'bottom':\n            this.canvas.style.bottom = '0px';\n            break;\n          case 'middle':\n            this.canvas.style.top = '50%';\n            const offsetY = -this.halfDrawHeight;\n            this.canvas.style.marginTop = offsetY.toString();\n            break;\n          default:\n            throw new Error('Invalid Position Given');\n        }\n\n        if (specifiedPosition[1]) {\n          switch (specifiedPosition[1]) {\n            case 'left':\n              this.canvas.style.left = '0px';\n              break;\n            case 'right':\n              this.canvas.style.right = '0px';\n              break;\n            case 'center':\n              this.canvas.style.left = '50%';\n              const offsetX = -this.halfDrawWidth;\n              this.canvas.style.marginLeft = offsetX.toString();\n              break;\n            default:\n              throw new Error('Invalid Position Given');\n          }\n        }\n      } else {\n        if (position.top) {\n          typeof position.top === 'number'\n            ? (this.canvas.style.top = position.top.toString() + 'px')\n            : (this.canvas.style.top = position.top);\n        }\n        if (position.right) {\n          typeof position.right === 'number'\n            ? (this.canvas.style.right = position.right.toString() + 'px')\n            : (this.canvas.style.right = position.right);\n        }\n        if (position.bottom) {\n          typeof position.bottom === 'number'\n            ? (this.canvas.style.bottom = position.bottom.toString() + 'px')\n            : (this.canvas.style.bottom = position.bottom);\n        }\n        if (position.left) {\n          typeof position.left === 'number'\n            ? (this.canvas.style.left = position.left.toString() + 'px')\n            : (this.canvas.style.left = position.left);\n        }\n      }\n    }\n  }\n}\n","import { Loadable } from '../Interfaces/Loadable';\nimport { Logger } from '../Util/Log';\nimport { EventDispatcher } from '../EventDispatcher';\n\n/**\n * The [[Resource]] type allows games built in Excalibur to load generic resources.\n * For any type of remote resource it is recommended to use [[Resource]] for preloading.\n */\nexport class Resource<T> implements Loadable<T> {\n  public data: T = null;\n  public logger: Logger = Logger.getInstance();\n  public events: EventDispatcher = new EventDispatcher(this);\n\n  /**\n   * @param path          Path to the remote resource\n   * @param responseType  The type to expect as a response: \"\" | \"arraybuffer\" | \"blob\" | \"document\" | \"json\" | \"text\";\n   * @param bustCache     Whether or not to cache-bust requests\n   */\n  constructor(\n    public path: string,\n    public responseType: '' | 'arraybuffer' | 'blob' | 'document' | 'json' | 'text',\n    public bustCache: boolean = true\n  ) {}\n\n  /**\n   * Returns true if the Resource is completely loaded and is ready\n   * to be drawn.\n   */\n  public isLoaded(): boolean {\n    return this.data !== null;\n  }\n\n\n  private _cacheBust(uri: string): string {\n    const query: RegExp = /\\?\\w*=\\w*/;\n    if (query.test(uri)) {\n      uri += '&__=' + Date.now();\n    } else {\n      uri += '?__=' + Date.now();\n    }\n    return uri;\n  }\n  /**\n   * Begin loading the resource and returns a promise to be resolved on completion\n   */\n  public load(): Promise<T> {\n    return new Promise((resolve, reject) => {\n      // Exit early if we already have data\n      if (this.data !== null) {\n        this.logger.debug('Already have data for resource', this.path);\n        this.events.emit('complete', this.data as any);\n        resolve(this.data);\n        return;\n      }\n\n      const request = new XMLHttpRequest();\n      request.open('GET', this.bustCache ? this._cacheBust(this.path) : this.path, true);\n      request.responseType = this.responseType;\n      request.addEventListener('loadstart', (e) => this.events.emit('loadstart', e as any));\n      request.addEventListener('progress', (e) => this.events.emit('progress', e as any));\n      request.addEventListener('error', (e) => this.events.emit('error', e as any));\n      request.addEventListener('load', (e) => this.events.emit('load', e as any));\n      request.addEventListener('load', () => {\n        // XHR on file:// success status is 0, such as with PhantomJS\n        if (request.status !== 0 && request.status !== 200) {\n          this.logger.error('Failed to load resource ', this.path, ' server responded with error code', request.status);\n          this.events.emit('error', request.response);\n          reject(request.response);\n          return;\n        }\n\n        this.data = request.response;\n        this.events.emit('complete', this.data as any);\n        this.logger.debug('Completed loading resource', this.path);\n        resolve(this.data);\n      });\n      request.send();\n    });\n  }\n}\n","/**\n * These effects can be applied to any bitmap image but are mainly used\n * for [[Sprite]] effects or [[Animation]] effects.\n */\n\n/**\n * @typedoc\n */\n\nimport { obsolete } from '../Util/Decorators';\nimport { Color } from './Color';\n\n/**\n * The interface that all sprite effects must implement\n * @deprecated SpriteEffect will be removed in v0.26.0\n */\nexport interface SpriteEffect {\n  /**\n   * Should update individual pixels values\n   * @param x          The pixel's x coordinate\n   * @param y          The pixel's y coordinate\n   * @param imageData  The sprite's raw pixel data\n   */\n  updatePixel(x: number, y: number, imageData: ImageData): void;\n}\n\n/**\n * Applies the \"Grayscale\" effect to a sprite, removing color information.\n * @deprecated [[Grayscale]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Grayscale will be removed in v0.26.0'\n})\nexport class Grayscale implements SpriteEffect {\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    const avg = (pixel[firstPixel + 0] + pixel[firstPixel + 1] + pixel[firstPixel + 2]) / 3;\n    pixel[firstPixel + 0] = avg;\n    pixel[firstPixel + 1] = avg;\n    pixel[firstPixel + 2] = avg;\n  }\n}\n\n/**\n * Applies the \"Invert\" effect to a sprite, inverting the pixel colors.\n * @deprecated [[Invert]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Invert will be removed in v0.26.0'\n})\nexport class Invert implements SpriteEffect {\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    pixel[firstPixel + 0] = 255 - pixel[firstPixel + 0];\n    pixel[firstPixel + 1] = 255 - pixel[firstPixel + 1];\n    pixel[firstPixel + 2] = 255 - pixel[firstPixel + 2];\n  }\n}\n\n/**\n * Applies the \"Opacity\" effect to a sprite, setting the alpha of all pixels to a given value.\n * @deprecated [[Opacity]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Opacity will be removed in v0.26.0'\n})\nexport class Opacity implements SpriteEffect {\n  /**\n   * @param opacity  The new opacity of the sprite from 0-1.0\n   */\n  constructor(public opacity: number) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    if (pixel[firstPixel + 3] !== 0) {\n      pixel[firstPixel + 3] = Math.round(this.opacity * pixel[firstPixel + 3]);\n    }\n  }\n}\n\n/**\n * Applies the \"Colorize\" effect to a sprite, changing the color channels of all the pixels to an\n * average of the original color and the provided color\n * @deprecated [[Colorize]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Colorize will be removed in v0.26.0'\n})\nexport class Colorize implements SpriteEffect {\n  /**\n   * @param color  The color to apply to the sprite\n   */\n  constructor(public color: Color) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    if (pixel[firstPixel + 3] !== 0) {\n      pixel[firstPixel + 0] = (pixel[firstPixel + 0] + this.color.r) / 2;\n      pixel[firstPixel + 1] = (pixel[firstPixel + 1] + this.color.g) / 2;\n      pixel[firstPixel + 2] = (pixel[firstPixel + 2] + this.color.b) / 2;\n    }\n  }\n}\n\n/**\n * Applies the \"Lighten\" effect to a sprite, changes the lightness of the color according to HSL\n * @deprecated [[Lighten]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Lighten will be removed in v0.26.0'\n})\nexport class Lighten implements SpriteEffect {\n  /**\n   * @param factor  The factor of the effect between 0-1\n   */\n  constructor(public factor: number = 0.1) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).lighten(\n      this.factor\n    );\n    pixel[firstPixel + 0] = color.r;\n    pixel[firstPixel + 1] = color.g;\n    pixel[firstPixel + 2] = color.b;\n    pixel[firstPixel + 3] = color.a;\n  }\n}\n\n/**\n * Applies the \"Darken\" effect to a sprite, changes the darkness of the color according to HSL\n * @deprecated [[Darken]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Darken will be removed v0.26.0'\n})\nexport class Darken implements SpriteEffect {\n  /**\n   * @param factor  The factor of the effect between 0-1\n   */\n  constructor(public factor: number = 0.1) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).darken(\n      this.factor\n    );\n    pixel[firstPixel + 0] = color.r;\n    pixel[firstPixel + 1] = color.g;\n    pixel[firstPixel + 2] = color.b;\n    pixel[firstPixel + 3] = color.a;\n  }\n}\n\n/**\n * Applies the \"Saturate\" effect to a sprite, saturates the color according to HSL\n * @deprecated [[Saturate]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Saturate will be removed in v0.26.0'\n})\nexport class Saturate implements SpriteEffect {\n  /**\n   * @param factor  The factor of the effect between 0-1\n   */\n  constructor(public factor: number = 0.1) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).saturate(\n      this.factor\n    );\n    pixel[firstPixel + 0] = color.r;\n    pixel[firstPixel + 1] = color.g;\n    pixel[firstPixel + 2] = color.b;\n    pixel[firstPixel + 3] = color.a;\n  }\n}\n\n/**\n * Applies the \"Desaturate\" effect to a sprite, desaturates the color according to HSL\n * @deprecated [[Desaturate]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Desaturate will be removed in v0.26.0'\n})\nexport class Desaturate implements SpriteEffect {\n  /**\n   * @param factor  The factor of the effect between 0-1\n   */\n  constructor(public factor: number = 0.1) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    const color = Color.fromRGB(pixel[firstPixel + 0], pixel[firstPixel + 1], pixel[firstPixel + 2], pixel[firstPixel + 3]).desaturate(\n      this.factor\n    );\n    pixel[firstPixel + 0] = color.r;\n    pixel[firstPixel + 1] = color.g;\n    pixel[firstPixel + 2] = color.b;\n    pixel[firstPixel + 3] = color.a;\n  }\n}\n\n/**\n * Applies the \"Fill\" effect to a sprite, changing the color channels of all non-transparent pixels to match\n * a given color\n * @deprecated [[Fill]] will be removed in v0.26.0\n */\n@obsolete({\n  message: 'Fill will be removed in v0.26.0'\n})\nexport class Fill implements SpriteEffect {\n  /**\n   * @param color  The color to apply to the sprite\n   */\n  constructor(public color: Color) {}\n  updatePixel(x: number, y: number, imageData: ImageData): void {\n    const firstPixel = (x + y * imageData.width) * 4;\n    const pixel = imageData.data;\n    if (pixel[firstPixel + 3] !== 0) {\n      pixel[firstPixel + 0] = this.color.r;\n      pixel[firstPixel + 1] = this.color.g;\n      pixel[firstPixel + 2] = this.color.b;\n    }\n  }\n}\n","export type Constructor<T> = {\n  new (...args: any[]): T;\n};\n/**\n * Configurable helper extends base type and makes all properties available as option bag arguments\n * @internal\n * @param base\n */\nexport function Configurable<T extends Constructor<{}>>(base: T): T {\n  return class extends base {\n    public assign(props: Partial<T>) {\n      //set the value of every property that was passed in,\n      //if the constructor previously set this value, it will be overridden here\n      for (const k in props) {\n        // eslint-disable-next-line\n        if (typeof (<any>this)[k] !== 'function') {\n          // eslint-disable-next-line\n          (<any>this)[k] = (<any>props)[k];\n        }\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n      //get the number of arguments that aren't undefined. TS passes a value to all parameters\n      //of whatever ctor is the implementation, so args.length doesn't work here.\n      const size = args.filter(function(value) {\n        return value !== undefined;\n      }).length;\n      if (size === 1 && args[0] && typeof args[0] === 'object' && !(args[0] instanceof Array)) {\n        this.assign(args[0]);\n      }\n    }\n  };\n}\n","import * as Effects from './SpriteEffects';\nimport { Color } from './Color';\n\nimport { Drawable, DrawOptions } from '../Interfaces/Drawable';\nimport { Texture } from '../Resources/Texture';\nimport { Vector } from '../Algebra';\nimport { Logger } from '../Util/Log';\nimport { clamp } from '../Util/Util';\nimport { Configurable } from '../Configurable';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * @hidden\n * @deprecated Use [[\"Graphics/Sprite\".Sprite]]\n */\nexport class SpriteImpl implements Drawable {\n  public texture: Texture;\n\n  public x: number = 0;\n  public y: number = 0;\n\n  public get drawWidth(): number {\n    return Math.abs(this.width * this.scale.x);\n  }\n\n  public get drawHeight(): number {\n    return Math.abs(this.height * this.scale.y);\n  }\n\n  public rotation: number = 0.0;\n  public anchor: Vector = Vector.Half;\n  public offset: Vector = Vector.Zero;\n  public scale: Vector = Vector.One;\n  /**\n   * Default: false, should the sprite be drawn around the anchor or from the top left.\n   * Sprite rotations/scaling still happen around the anchor regardless of this setting.\n   */\n  public drawAroundAnchor = false;\n\n  public logger: Logger = Logger.getInstance();\n\n  /**\n   * Draws the sprite flipped vertically\n   */\n  public flipVertical: boolean = false;\n\n  /**\n   * Draws the sprite flipped horizontally\n   */\n  public flipHorizontal: boolean = false;\n\n  public effects: Effects.SpriteEffect[] = [];\n\n  public width: number = 0;\n  public height: number = 0;\n\n  private _spriteCanvas: HTMLCanvasElement = null;\n  private _spriteCtx: CanvasRenderingContext2D = null;\n  private _pixelData: ImageData = null;\n  private _pixelsLoaded: boolean = false;\n  private _dirtyEffect: boolean = true;\n\n  /**\n   * @param imageOrConfig  The backing image texture to build the Sprite, or Sprite option bag\n   * @param x      The x position of the sprite\n   * @param y      The y position of the sprite\n   * @param width  The width of the sprite in pixels\n   * @param height The height of the sprite in pixels\n   */\n  constructor(imageOrConfig: Texture | SpriteArgs, x: number, y: number, width: number, height: number) {\n    let image = imageOrConfig;\n    if (imageOrConfig && !(imageOrConfig instanceof Texture)) {\n      x = imageOrConfig.x | 0;\n      y = imageOrConfig.y | 0;\n      width = imageOrConfig.width | 0;\n      height = imageOrConfig.height | 0;\n      image = imageOrConfig.image;\n      if (!image) {\n        const message = 'An image texture is required to construct a sprite';\n        throw new Error(message);\n      }\n    }\n\n    this.x = x || 0;\n    this.y = y || 0;\n\n    this.texture = image as Texture;\n    this._spriteCanvas = document.createElement('canvas');\n    this._spriteCanvas.width = width;\n    this._spriteCanvas.height = height;\n    this._spriteCtx = this._spriteCanvas.getContext('2d');\n    this._initPixelsFromTexture();\n\n    this.width = width;\n    this.height = height;\n  }\n\n  private async _initPixelsFromTexture() {\n    try {\n      const image = await this.texture.loaded;\n      this.width = this.width || image.naturalWidth;\n      this.height = this.height || image.naturalHeight;\n      this._spriteCanvas.width = this._spriteCanvas.width || image.naturalWidth;\n      this._spriteCanvas.height = this._spriteCanvas.height || image.naturalHeight;\n      this._loadPixels();\n      this._dirtyEffect = true;\n    } catch (e) {\n      this.logger.error('Error loading texture ', this.texture.path, e);\n    }\n  }\n\n  private _loadPixels() {\n    if (this.texture.isLoaded() && !this._pixelsLoaded) {\n      const naturalWidth = this.texture.image.naturalWidth || 0;\n      const naturalHeight = this.texture.image.naturalHeight || 0;\n\n      if (this.width > naturalWidth) {\n        this.logger.warn(`The sprite width ${this.width} exceeds the width \n                              ${naturalWidth} of the backing texture ${this.texture.path}`);\n      }\n\n      if (this.width <= 0 || naturalWidth <= 0) {\n        throw new Error(`The width of a sprite cannot be 0 or negative, sprite width: ${this.width}, original width: ${naturalWidth}`);\n      }\n\n      if (this.height > naturalHeight) {\n        this.logger.warn(`The sprite height ${this.height} exceeds the height \n                              ${naturalHeight} of the backing texture ${this.texture.path}`);\n      }\n\n      if (this.height <= 0 || naturalHeight <= 0) {\n        throw new Error(`The height of a sprite cannot be 0 or negative, sprite height: ${this.height}, original height: ${naturalHeight}`);\n      }\n\n      this._flushTexture();\n\n      this._pixelsLoaded = true;\n    }\n  }\n\n  private _flushTexture() {\n    const naturalWidth = this.texture.image.naturalWidth || 0;\n    const naturalHeight = this.texture.image.naturalHeight || 0;\n\n    this._spriteCtx.clearRect(0, 0, this.width, this.height);\n    this._spriteCtx.drawImage(\n      this.texture.image,\n      clamp(this.x, 0, naturalWidth),\n      clamp(this.y, 0, naturalHeight),\n      clamp(this.width, 0, naturalWidth),\n      clamp(this.height, 0, naturalHeight),\n      0,\n      0,\n      this.width,\n      this.height\n    );\n  }\n\n  private _opacity: number = 1;\n  /**\n   * Applies the [[Opacity]] effect to a sprite, setting the alpha of all pixels to a given value\n   */\n  public opacity(value: number) {\n    this._opacity = value;\n  }\n\n  /**\n   * Applies the [[Grayscale]] effect to a sprite, removing color information.\n   */\n  public grayscale() {\n    this.addEffect(new Effects.Grayscale());\n  }\n\n  /**\n   * Applies the [[Invert]] effect to a sprite, inverting the pixel colors.\n   */\n  public invert() {\n    this.addEffect(new Effects.Invert());\n  }\n\n  /**\n   * Applies the [[Fill]] effect to a sprite, changing the color channels of all non-transparent pixels to match a given color\n   */\n  public fill(color: Color) {\n    this.addEffect(new Effects.Fill(color));\n  }\n\n  /**\n   * Applies the [[Colorize]] effect to a sprite, changing the color channels of all pixels to be the average of the original color\n   * and the provided color.\n   */\n  public colorize(color: Color) {\n    this.addEffect(new Effects.Colorize(color));\n  }\n\n  /**\n   * Applies the [[Lighten]] effect to a sprite, changes the lightness of the color according to HSL\n   */\n  public lighten(factor: number = 0.1) {\n    this.addEffect(new Effects.Lighten(factor));\n  }\n\n  /**\n   * Applies the [[Darken]] effect to a sprite, changes the darkness of the color according to HSL\n   */\n  public darken(factor: number = 0.1) {\n    this.addEffect(new Effects.Darken(factor));\n  }\n\n  /**\n   * Applies the [[Saturate]] effect to a sprite, saturates the color according to HSL\n   */\n  public saturate(factor: number = 0.1) {\n    this.addEffect(new Effects.Saturate(factor));\n  }\n\n  /**\n   * Applies the [[Desaturate]] effect to a sprite, desaturates the color according to HSL\n   */\n  public desaturate(factor: number = 0.1) {\n    this.addEffect(new Effects.Desaturate(factor));\n  }\n\n  /**\n   * Adds a new [[SpriteEffect]] to this drawing.\n   * @param effect  Effect to add to the this drawing\n   */\n  public addEffect(effect: Effects.SpriteEffect) {\n    this.effects.push(effect);\n    // We must check if the texture and the backing sprite pixels are loaded as well before\n    // an effect can be applied\n    if (!this.texture.isLoaded() || !this._pixelsLoaded) {\n      this._dirtyEffect = true;\n    } else {\n      this._applyEffects();\n    }\n  }\n\n  /**\n   * Removes a [[SpriteEffect]] from this sprite.\n   * @param effect  Effect to remove from this sprite\n   */\n  public removeEffect(effect: Effects.SpriteEffect): void;\n\n  /**\n   * Removes an effect given the index from this sprite.\n   * @param index  Index of the effect to remove from this sprite\n   */\n  public removeEffect(index: number): void;\n  public removeEffect(param: any) {\n    let indexToRemove = -1;\n    if (typeof param === 'number') {\n      indexToRemove = param;\n    } else {\n      indexToRemove = this.effects.indexOf(param);\n    }\n\n    // bounds check\n    if (indexToRemove < 0 || indexToRemove >= this.effects.length) {\n      return;\n    }\n\n    this.effects.splice(indexToRemove, 1);\n\n    // We must check if the texture and the backing sprite pixels are loaded as well before\n    // an effect can be applied\n    if (!this.texture.isLoaded() || !this._pixelsLoaded) {\n      this._dirtyEffect = true;\n    } else {\n      this._applyEffects();\n    }\n  }\n\n  private _applyEffects() {\n    this._flushTexture();\n\n    if (this.effects.length > 0) {\n      this._pixelData = this._spriteCtx.getImageData(0, 0, this.width, this.height);\n\n      const len = this.effects.length;\n      for (let i = 0; i < len; i++) {\n        for (let y = 0; y < this.height; y++) {\n          for (let x = 0; x < this.width; x++) {\n            this.effects[i].updatePixel(x, y, this._pixelData);\n          }\n        }\n      }\n      this._spriteCtx.clearRect(0, 0, this.width, this.height);\n      this._spriteCtx.putImageData(this._pixelData, 0, 0);\n    }\n\n    this._dirtyEffect = false;\n  }\n\n  /**\n   * Clears all effects from the drawing and return it to its original state.\n   */\n  public clearEffects() {\n    this.effects.length = 0;\n    this._applyEffects();\n  }\n\n  /**\n   * Resets the internal state of the drawing (if any)\n   */\n  public reset() {\n    // do nothing\n  }\n\n  public debugDraw(ctx: CanvasRenderingContext2D, x: number, y: number) {\n    ctx.save();\n    ctx.translate(x, y);\n    ctx.rotate(this.rotation);\n    const xpoint = this.drawWidth * this.anchor.x;\n    const ypoint = this.drawHeight * this.anchor.y;\n\n    ctx.strokeStyle = Color.Black.toString();\n    ctx.strokeRect(-xpoint, -ypoint, this.drawWidth, this.drawHeight);\n    ctx.restore();\n  }\n\n  /**\n   * Draws the sprite appropriately to the 2D rendering context, at an x and y coordinate.\n   * @param ctx  The 2D rendering context\n   * @param x    The x coordinate of where to draw\n   * @param y    The y coordinate of where to draw\n   */\n  public draw(ctx: CanvasRenderingContext2D, x: number, y: number): void;\n  /**\n   * Draws the sprite with custom options to override internals without mutating them.\n   * @param options\n   */\n  public draw(options: DrawOptions): void;\n  public draw(ctxOrOptions: CanvasRenderingContext2D | DrawOptions, x?: number, y?: number): void {\n    if (ctxOrOptions instanceof CanvasRenderingContext2D) {\n      this._drawWithOptions({ ctx: ctxOrOptions, x, y });\n    } else {\n      this._drawWithOptions(ctxOrOptions);\n    }\n  }\n\n  private _drawWithOptions(options: DrawOptions) {\n    const { ctx, x, y, rotation, drawWidth, drawHeight, anchor, offset, opacity, flipHorizontal, flipVertical } = {\n      ...options,\n      rotation: options.rotation ?? this.rotation,\n      drawWidth: options.drawWidth ?? this.width,\n      drawHeight: options.drawHeight ?? this.height,\n      flipHorizontal: options.flipHorizontal ?? this.flipHorizontal,\n      flipVertical: options.flipVertical ?? this.flipVertical,\n      anchor: options.anchor ?? this.anchor,\n      offset: options.offset ?? this.offset,\n      opacity: options.opacity ?? this._opacity\n    };\n\n    if (this._dirtyEffect) {\n      this._applyEffects();\n    }\n    // calculating current dimensions\n    const anchorX = drawWidth * anchor.x + offset.x;\n    const anchorY = drawHeight * anchor.y + offset.y;\n    const scaleDirX = this.scale.x > 0 ? 1 : -1;\n    const scaleDirY = this.scale.y > 0 ? 1 : -1;\n\n    ctx.save();\n    // Move the draw point of origin\n    ctx.translate(x, y);\n\n    // Rotate and scale around anchor point\n    // This requires a bit of explaination, scale coordinates first positive flipping or rotating\n    ctx.scale(Math.abs(this.scale.x), Math.abs(this.scale.y));\n\n    if (this.drawAroundAnchor) {\n      // In the case where you want the anchor to match with the point of draw\n      // Otherwise sprites are always drawn from top-left\n      ctx.translate(-anchorX, -anchorY);\n    }\n\n    ctx.translate(anchorX, anchorY);\n    ctx.rotate(rotation);\n    // This is for handling direction changes 1 or -1, that way we don't have mismatched translates()\n    ctx.scale(scaleDirX, scaleDirY);\n    ctx.translate(-anchorX, -anchorY);\n\n    if (flipHorizontal) {\n      ctx.translate(drawWidth, 0);\n      ctx.scale(-1, 1);\n    }\n\n    if (flipVertical) {\n      ctx.translate(0, drawHeight);\n      ctx.scale(1, -1);\n    }\n    const oldAlpha = ctx.globalAlpha;\n    ctx.globalAlpha = opacity ?? 1;\n    // Context is already rotated and scaled\n    ctx.drawImage(\n      this._spriteCanvas,\n      0,\n      0,\n      this.width,\n      this.height, // source\n      0,\n      0,\n      this.width,\n      this.height\n    ); // dest\n    ctx.globalAlpha = oldAlpha;\n    ctx.restore();\n  }\n\n  /**\n   * Produces a copy of the current sprite\n   */\n  public clone(): SpriteImpl {\n    const result = new Sprite(this.texture, this.x, this.y, this.width, this.height);\n    result.anchor = this.anchor.clone();\n    result.scale = this.scale.clone();\n    result.rotation = this.rotation;\n    result.flipHorizontal = this.flipHorizontal;\n    result.flipVertical = this.flipVertical;\n\n    const len = this.effects.length;\n    for (let i = 0; i < len; i++) {\n      result.addEffect(this.effects[i]);\n    }\n    return result;\n  }\n}\n\n/**\n * @deprecated Use [[\"Graphics/Sprite\".Sprite]]\n */\nexport interface SpriteArgs extends Partial<SpriteImpl> {\n  image?: Texture;\n  x?: number;\n  width?: number;\n  height?: number;\n  rotation?: number;\n  anchor?: Vector;\n  scale?: Vector;\n  flipVertical?: boolean;\n  flipHorizontal?: boolean;\n}\n\n/**\n * A [[Sprite]] is one of the main drawing primitives. It is responsible for drawing\n * images or parts of images from a [[Texture]] resource to the screen.\n * @deprecated Use [[\"Graphics/Sprite\".Sprite]]\n */\n@obsolete({\n  message: 'Label.clearTextShadow will be removed in v0.26.0',\n  alternateMethod: 'Use Label.font.shadow'\n})\nexport class Sprite extends Configurable(SpriteImpl) {\n  constructor(config: SpriteArgs);\n  constructor(image: Texture, x: number, y: number, width: number, height: number);\n  constructor(imageOrConfig: Texture | SpriteArgs, x?: number, y?: number, width?: number, height?: number) {\n    super(imageOrConfig, x, y, width, height);\n  }\n}\n","import { Resource } from './Resource';\nimport { Sprite } from '../Drawing/Sprite';\nimport { Loadable } from '../Interfaces/Index';\n/**\n * The [[Texture]] object allows games built in Excalibur to load image resources.\n * [[Texture]] is an [[Loadable]] which means it can be passed to a [[Loader]]\n * to pre-load before starting a level or game.\n */\nexport class Texture implements Loadable<HTMLImageElement> {\n  private _resource: Resource<Blob>;\n  /**\n   * The width of the texture in pixels\n   */\n  public width: number;\n\n  /**\n   * The height of the texture in pixels\n   */\n  public height: number;\n\n  private _sprite: Sprite = null;\n\n  /**\n   * Populated once loading is complete\n   */\n  public data: HTMLImageElement;\n  public get image() {\n    return this.data;\n  }\n\n  private _loadedResolve: (image: HTMLImageElement) => any;\n  public loaded = new Promise<HTMLImageElement>(resolve => {\n    this._loadedResolve = resolve;\n  });\n\n  /**\n   * @param path       Path to the image resource or a base64 string representing an image \"data:image/png;base64,iVB...\"\n   * @param bustCache  Optionally load texture with cache busting\n   */\n  constructor(public path: string, public bustCache = true) {\n    this._resource = new Resource(path, 'blob', bustCache);\n    this._sprite = new Sprite(this, 0, 0, 0, 0);\n  }\n\n  /**\n   * Returns true if the Texture is completely loaded and is ready\n   * to be drawn.\n   */\n  public isLoaded(): boolean {\n    return !!this.data;\n  }\n\n  /**\n   * Begins loading the texture and returns a promise to be resolved on completion\n   */\n  public async load(): Promise<HTMLImageElement> {\n    try {\n      // Load base64 or blob if needed\n      let url: string;\n      if (!this.path.includes('data:image/')) {\n        const blob = await this._resource.load();\n        url = URL.createObjectURL(blob);\n      } else {\n        url = this.path;\n      }\n\n      // Decode the image\n      const image = new Image();\n      image.src = url;\n      await image.decode();\n\n      // Set results\n      this.data = image;\n      this.width = this._sprite.width = image.naturalWidth;\n      this.height = this._sprite.height = image.naturalHeight;\n      this._sprite = new Sprite(this, 0, 0, this.width, this.height);\n    } catch {\n      await Promise.reject('Error loading texture');\n    }\n    // todo emit complete\n    this._loadedResolve(this.data);\n    return this.data;\n  }\n\n  public asSprite(): Sprite {\n    return this._sprite;\n  }\n}\n","import { Sprite } from './Sprite';\nimport * as Effects from './SpriteEffects';\nimport { Color } from './Color';\n\nimport { Drawable, DrawOptions } from '../Interfaces/Drawable';\nimport { Vector } from '../Algebra';\nimport { Engine } from '../Engine';\nimport * as Util from '../Util/Util';\nimport { Configurable } from '../Configurable';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * @deprecated Use [[\"Graphics/Animation\".HasTick]]\n */\nexport interface HasTick {\n  /**\n   *\n   * @param elapsedMilliseconds The amount of real world time in milliseconds that has elapsed that must be updated in the animation\n   */\n  tick(elapsedMilliseconds: number, idempotencyToken?: number): void;\n}\n\n/**\n * @hidden\n * @deprecated Use [[\"Graphics/Animation\".Animation]]\n */\nexport class AnimationImpl implements Drawable, HasTick {\n  /**\n   * The sprite frames to play, in order. See [[SpriteSheet.getAnimationForAll]] to quickly\n   * generate an [[Animation]].\n   */\n  public sprites: Sprite[] = [];\n\n  /**\n   * Duration to show each frame (in milliseconds)\n   */\n  public speed: number;\n\n  /**\n   * Current frame index being shown\n   */\n  public currentFrame: number = 0;\n\n  private _timeLeftInFrame: number = 0;\n  private _idempotencyToken: number = -1;\n\n  public anchor: Vector = Vector.Zero;\n  public rotation: number = 0.0;\n  public scale: Vector = Vector.One;\n\n  /**\n   * Indicates whether the animation should loop after it is completed\n   */\n  public loop: boolean = true;\n\n  /**\n   * Indicates the frame index the animation should freeze on for a non-looping\n   * animation. By default it is the last frame.\n   */\n  public freezeFrame: number = -1;\n\n  private _engine: Engine;\n\n  /**\n   * Flip each frame vertically. Sets [[Sprite.flipVertical]].\n   */\n  public flipVertical: boolean = false;\n\n  /**\n   * Flip each frame horizontally. Sets [[Sprite.flipHorizontal]].\n   */\n  public flipHorizontal: boolean = false;\n\n  public drawWidth: number = 0;\n  public drawHeight: number = 0;\n  public width: number = 0;\n  public height: number = 0;\n\n  private _opacity = 1;\n\n  /**\n   * Typically you will use a [[SpriteSheet]] to generate an [[Animation]].\n   *\n   * @param engineOrConfig  Reference to the current game engine\n   * @param sprites  An array of sprites to create the frames for the animation\n   * @param speed   The number in milliseconds to display each frame in the animation\n   * @param loop    Indicates whether the animation should loop after it is completed\n   */\n  constructor(engineOrConfig: Engine | AnimationArgs, sprites: Sprite[], speed: number, loop?: boolean) {\n    let engine = engineOrConfig;\n    if (engineOrConfig && !(engineOrConfig instanceof Engine)) {\n      const config = engineOrConfig;\n      engine = config.engine;\n      sprites = config.sprites;\n      speed = config.speed;\n      loop = config.loop;\n    }\n\n    this.sprites = sprites;\n    this.speed = speed;\n    this._engine = <Engine>engine;\n    this._timeLeftInFrame = this.speed;\n\n    if (loop != null) {\n      this.loop = loop;\n    }\n\n    if (sprites && sprites[0]) {\n      this.drawHeight = sprites[0] ? sprites[0].drawHeight : 0;\n      this.drawWidth = sprites[0] ? sprites[0].drawWidth : 0;\n\n      this.width = sprites[0] ? sprites[0].width : 0;\n      this.height = sprites[0] ? sprites[0].height : 0;\n\n      this.freezeFrame = sprites.length - 1;\n    }\n  }\n\n  /**\n   * Applies the opacity effect to a sprite, setting the alpha of all pixels to a given value\n   */\n  public opacity(value: number) {\n    this._opacity = value;\n  }\n\n  /**\n   * Applies the grayscale effect to a sprite, removing color information.\n   */\n  public grayscale() {\n    this.addEffect(new Effects.Grayscale());\n  }\n\n  /**\n   * Applies the invert effect to a sprite, inverting the pixel colors.\n   */\n  public invert() {\n    this.addEffect(new Effects.Invert());\n  }\n\n  /**\n   * Applies the fill effect to a sprite, changing the color channels of all non-transparent pixels to match a given color\n   */\n  public fill(color: Color) {\n    this.addEffect(new Effects.Fill(color));\n  }\n\n  /**\n   * Applies the colorize effect to a sprite, changing the color channels of all pixels to be the average of the original color and the\n   * provided color.\n   */\n  public colorize(color: Color) {\n    this.addEffect(new Effects.Colorize(color));\n  }\n\n  /**\n   * Applies the lighten effect to a sprite, changes the lightness of the color according to hsl\n   */\n  public lighten(factor: number = 0.1) {\n    this.addEffect(new Effects.Lighten(factor));\n  }\n\n  /**\n   * Applies the darken effect to a sprite, changes the darkness of the color according to hsl\n   */\n  public darken(factor: number = 0.1) {\n    this.addEffect(new Effects.Darken(factor));\n  }\n\n  /**\n   * Applies the saturate effect to a sprite, saturates the color according to hsl\n   */\n  public saturate(factor: number = 0.1) {\n    this.addEffect(new Effects.Saturate(factor));\n  }\n\n  /**\n   * Applies the desaturate effect to a sprite, desaturates the color according to hsl\n   */\n  public desaturate(factor: number = 0.1) {\n    this.addEffect(new Effects.Desaturate(factor));\n  }\n\n  /**\n   * Add a [[SpriteEffect]] manually\n   */\n  public addEffect(effect: Effects.SpriteEffect) {\n    for (const i in this.sprites) {\n      this.sprites[i].addEffect(effect);\n    }\n  }\n\n  /**\n   * Removes an [[SpriteEffect]] from this animation.\n   * @param effect Effect to remove from this animation\n   */\n  public removeEffect(effect: Effects.SpriteEffect): void;\n\n  /**\n   * Removes an effect given the index from this animation.\n   * @param index  Index of the effect to remove from this animation\n   */\n  public removeEffect(index: number): void;\n  public removeEffect(param: any) {\n    for (const i in this.sprites) {\n      this.sprites[i].removeEffect(param);\n    }\n  }\n\n  /**\n   * Clear all sprite effects\n   */\n  public clearEffects() {\n    for (const i in this.sprites) {\n      this.sprites[i].clearEffects();\n    }\n  }\n\n  private _setAnchor(point: Vector) {\n    //if (!this.anchor.equals(point)) {\n    for (const i in this.sprites) {\n      this.sprites[i].anchor.setTo(point.x, point.y);\n    }\n    //}\n  }\n\n  private _setRotation(radians: number) {\n    //if (this.rotation !== radians) {\n    for (const i in this.sprites) {\n      this.sprites[i].rotation = radians;\n    }\n    //}\n  }\n\n  private _setScale(scale: Vector) {\n    //if (!this.scale.equals(scale)) {\n    for (const i in this.sprites) {\n      this.sprites[i].scale = scale;\n    }\n    //}\n  }\n\n  /**\n   * Resets the animation to first frame.\n   */\n  public reset() {\n    this.currentFrame = 0;\n  }\n\n  /**\n   * Indicates whether the animation is complete, animations that loop are never complete.\n   */\n  public isDone() {\n    return !this.loop && this.currentFrame >= this.sprites.length;\n  }\n\n  /**\n   * Not meant to be called by game developers. Ticks the animation forward internally and\n   * calculates whether to change to the frame.\n   * @internal\n   */\n  public tick(elapsed: number, idempotencyToken?: number) {\n    if (this._idempotencyToken === idempotencyToken) {\n      return;\n    }\n    this._idempotencyToken = idempotencyToken;\n    this._timeLeftInFrame -= elapsed;\n    if (this._timeLeftInFrame <= 0) {\n      this.currentFrame = this.loop ? (this.currentFrame + 1) % this.sprites.length : this.currentFrame + 1;\n      this._timeLeftInFrame = this.speed;\n    }\n\n    this._updateValues();\n    const current = this.sprites[this.currentFrame];\n    if (current) {\n      this.width = current.width;\n      this.height = current.height;\n      this.drawWidth = current.drawWidth;\n      this.drawHeight = current.drawHeight;\n    }\n  }\n\n  private _updateValues(): void {\n    this._setAnchor(this.anchor);\n    this._setRotation(this.rotation);\n    this._setScale(this.scale);\n  }\n\n  /**\n   * Skips ahead a specified number of frames in the animation\n   * @param frames  Frames to skip ahead\n   */\n  public skip(frames: number) {\n    this.currentFrame = (this.currentFrame + frames) % this.sprites.length;\n  }\n\n  /**\n   * Draws the animation appropriately to the 2D rendering context, at an x and y coordinate.\n   * @param ctx  The 2D rendering context\n   * @param x    The x coordinate of where to draw\n   * @param y    The y coordinate of where to draw\n   */\n  public draw(ctx: CanvasRenderingContext2D, x: number, y: number): void;\n  /**\n   * Draws the animation with custom options to override internals without mutating them.\n   * @param options\n   */\n  public draw(options: DrawOptions): void;\n  public draw(ctxOrOptions: CanvasRenderingContext2D | DrawOptions, x?: number, y?: number) {\n    if (ctxOrOptions instanceof CanvasRenderingContext2D) {\n      this._drawWithOptions({ ctx: ctxOrOptions, x, y });\n    } else {\n      this._drawWithOptions(ctxOrOptions);\n    }\n  }\n\n  private _drawWithOptions(options: DrawOptions) {\n    const animOptions = {\n      ...options,\n      rotation: options.rotation ?? this.rotation,\n      drawWidth: options.drawWidth ?? this.drawWidth,\n      drawHeight: options.drawHeight ?? this.drawHeight,\n      flipHorizontal: options.flipHorizontal ?? this.flipHorizontal,\n      flipVertical: options.flipVertical ?? this.flipVertical,\n      anchor: options.anchor ?? this.anchor,\n      opacity: options.opacity ?? this._opacity\n    };\n\n    this._updateValues();\n    let currSprite: Sprite;\n    if (this.currentFrame < this.sprites.length) {\n      currSprite = this.sprites[this.currentFrame];\n      currSprite.draw(animOptions);\n    }\n\n    if (this.freezeFrame !== -1 && this.currentFrame >= this.sprites.length) {\n      currSprite = this.sprites[Util.clamp(this.freezeFrame, 0, this.sprites.length - 1)];\n      currSprite.draw(animOptions);\n    }\n\n    // add the calculated width\n    if (currSprite) {\n      this.drawWidth = currSprite.drawWidth;\n      this.drawHeight = currSprite.drawHeight;\n    }\n  }\n\n  /**\n   * Plays an animation at an arbitrary location in the game.\n   * @param x  The x position in the game to play\n   * @param y  The y position in the game to play\n   */\n  public play(x: number, y: number) {\n    this.reset();\n    this._engine.playAnimation(this, x, y);\n  }\n}\n\n\n/**\n * @deprecated Use [[\"Graphics/Animation\".Animation]]\n */\nexport interface AnimationArgs extends Partial<AnimationImpl> {\n  engine: Engine;\n  sprites: Sprite[];\n  speed: number;\n  loop?: boolean;\n  anchor?: Vector;\n  rotation?: number;\n  scale?: Vector;\n  flipVertical?: boolean;\n  flipHorizontal?: boolean;\n  width?: number;\n  height?: number;\n}\n\n/**\n * Animations allow you to display a series of images one after another,\n * creating the illusion of change. Generally these images will come from a [[SpriteSheet]] source.\n * @deprecated Use [[\"Graphics/Animation\".Animation]]\n */\n@obsolete({\n  message: 'Animation will be removed in v0.26.0',\n  alternateMethod: 'Use Graphics.Animation'\n})\nexport class Animation extends Configurable(AnimationImpl) {\n  constructor(config: AnimationArgs);\n  constructor(engine: Engine, images: Sprite[], speed: number, loop?: boolean);\n  constructor(engineOrConfig: Engine | AnimationArgs, images?: Sprite[], speed?: number, loop?: boolean) {\n    super(engineOrConfig, images, speed, loop);\n  }\n}\n","/**\n * An enum that describes the strategies that rotation actions can use\n */\nexport enum RotationType {\n  /**\n   * Rotation via `ShortestPath` will use the smallest angle\n   * between the starting and ending points. This strategy is the default behavior.\n   */\n  ShortestPath = 0,\n  /**\n   * Rotation via `LongestPath` will use the largest angle\n   * between the starting and ending points.\n   */\n  LongestPath = 1,\n  /**\n   * Rotation via `Clockwise` will travel in a clockwise direction,\n   * regardless of the starting and ending points.\n   */\n  Clockwise = 2,\n  /**\n   * Rotation via `CounterClockwise` will travel in a counterclockwise direction,\n   * regardless of the starting and ending points.\n   */\n  CounterClockwise = 3\n}\n","import { RotationType } from './RotationType';\n\nimport { Actor } from '../Actor';\nimport { vec, Vector } from '../Algebra';\nimport { Logger } from '../Util/Log';\nimport * as Util from '../Util/Util';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * Used for implementing actions for the [[ActionContext|Action API]].\n */\nexport interface Action {\n  update(delta: number): void;\n  isComplete(actor: Actor): boolean;\n  reset(): void;\n  stop(): void;\n}\n\nexport class EaseTo implements Action {\n  private _currentLerpTime: number = 0;\n  private _lerpDuration: number = 1 * 1000; // 1 second\n  private _lerpStart: Vector = new Vector(0, 0);\n  private _lerpEnd: Vector = new Vector(0, 0);\n  private _initialized: boolean = false;\n  private _stopped: boolean = false;\n  private _distance: number = 0;\n  constructor(\n    public actor: Actor,\n    x: number,\n    y: number,\n    duration: number,\n    public easingFcn: (currentTime: number, startValue: number, endValue: number, duration: number) => number\n  ) {\n    this._lerpDuration = duration;\n    this._lerpEnd = new Vector(x, y);\n  }\n  private _initialize() {\n    this._lerpStart = new Vector(this.actor.pos.x, this.actor.pos.y);\n    this._currentLerpTime = 0;\n    this._distance = this._lerpStart.distance(this._lerpEnd);\n  }\n\n  public update(delta: number): void {\n    if (!this._initialized) {\n      this._initialize();\n      this._initialized = true;\n    }\n\n    // Need to update lerp time first, otherwise the first update will always be zero\n    this._currentLerpTime += delta;\n    let newX = this.actor.pos.x;\n    let newY = this.actor.pos.y;\n    if (this._currentLerpTime < this._lerpDuration) {\n      if (this._lerpEnd.x < this._lerpStart.x) {\n        newX =\n          this._lerpStart.x -\n          (this.easingFcn(this._currentLerpTime, this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\n      } else {\n        newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n      }\n\n      if (this._lerpEnd.y < this._lerpStart.y) {\n        newY =\n          this._lerpStart.y -\n          (this.easingFcn(this._currentLerpTime, this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\n      } else {\n        newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n      }\n      // Given the lerp position figure out the velocity in pixels per second\n      this.actor.vel = vec((newX - this.actor.pos.x) / (delta / 1000), (newY - this.actor.pos.y) / (delta / 1000));\n    } else {\n      this.actor.pos = vec(this._lerpEnd.x, this._lerpEnd.y);\n      this.actor.vel = Vector.Zero;\n    }\n  }\n  public isComplete(actor: Actor): boolean {\n    return this._stopped || new Vector(actor.pos.x, actor.pos.y).distance(this._lerpStart) >= this._distance;\n  }\n\n  public reset(): void {\n    this._initialized = false;\n  }\n  public stop(): void {\n    this.actor.vel = vec(0, 0);\n    this._stopped = true;\n  }\n}\n\nexport class MoveTo implements Action {\n  private _actor: Actor;\n  public x: number;\n  public y: number;\n  private _start: Vector;\n  private _end: Vector;\n  private _dir: Vector;\n  private _speed: number;\n  private _distance: number;\n  private _started = false;\n  private _stopped = false;\n  constructor(actor: Actor, destx: number, desty: number, speed: number) {\n    this._actor = actor;\n    this._end = new Vector(destx, desty);\n    this._speed = speed;\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._start = new Vector(this._actor.pos.x, this._actor.pos.y);\n      this._distance = this._start.distance(this._end);\n      this._dir = this._end.sub(this._start).normalize();\n    }\n    const m = this._dir.scale(this._speed);\n    this._actor.vel = vec(m.x, m.y);\n\n    if (this.isComplete(this._actor)) {\n      this._actor.pos = vec(this._end.x, this._end.y);\n      this._actor.vel = vec(0, 0);\n    }\n  }\n\n  public isComplete(actor: Actor): boolean {\n    return this._stopped || new Vector(actor.pos.x, actor.pos.y).distance(this._start) >= this._distance;\n  }\n\n  public stop(): void {\n    this._actor.vel = vec(0, 0);\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class MoveBy implements Action {\n  private _actor: Actor;\n  public x: number;\n  public y: number;\n  private _distance: number;\n  private _speed: number;\n\n  private _start: Vector;\n  private _offset: Vector;\n  private _end: Vector;\n  private _dir: Vector;\n  private _started = false;\n  private _stopped = false;\n\n  constructor(actor: Actor, offsetX: number, offsetY: number, speed: number) {\n    this._actor = actor;\n    this._speed = speed;\n    this._offset = new Vector(offsetX, offsetY);\n    if (speed <= 0) {\n      Logger.getInstance().error('Attempted to moveBy with speed less than or equal to zero : ' + speed);\n      throw new Error('Speed must be greater than 0 pixels per second');\n    }\n  }\n\n  public update(_delta: number) {\n    if (!this._started) {\n      this._started = true;\n      this._start = new Vector(this._actor.pos.x, this._actor.pos.y);\n      this._end = this._start.add(this._offset);\n      this._distance = this._offset.size;\n      this._dir = this._end.sub(this._start).normalize();\n    }\n\n    this._actor.vel = this._dir.scale(this._speed);\n\n    if (this.isComplete(this._actor)) {\n      this._actor.pos = vec(this._end.x, this._end.y);\n      this._actor.vel = vec(0, 0);\n    }\n  }\n\n  public isComplete(actor: Actor): boolean {\n    return this._stopped || actor.pos.distance(this._start) >= this._distance;\n  }\n\n  public stop(): void {\n    this._actor.vel = vec(0, 0);\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class Follow implements Action {\n  private _actor: Actor;\n  private _actorToFollow: Actor;\n  public x: number;\n  public y: number;\n  private _current: Vector;\n  private _end: Vector;\n  private _dir: Vector;\n  private _speed: number;\n  private _maximumDistance: number;\n  private _distanceBetween: number;\n  private _started = false;\n  private _stopped = false;\n\n  constructor(actor: Actor, actorToFollow: Actor, followDistance?: number) {\n    this._actor = actor;\n    this._actorToFollow = actorToFollow;\n    this._current = new Vector(this._actor.pos.x, this._actor.pos.y);\n    this._end = new Vector(actorToFollow.pos.x, actorToFollow.pos.y);\n    this._maximumDistance = followDistance !== undefined ? followDistance : this._current.distance(this._end);\n    this._speed = 0;\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._distanceBetween = this._current.distance(this._end);\n      this._dir = this._end.sub(this._current).normalize();\n    }\n\n    const actorToFollowSpeed = Math.sqrt(Math.pow(this._actorToFollow.vel.x, 2) + Math.pow(this._actorToFollow.vel.y, 2));\n    if (actorToFollowSpeed !== 0) {\n      this._speed = actorToFollowSpeed;\n    }\n    this._current = vec(this._actor.pos.x, this._actor.pos.y);\n\n    this._end = vec(this._actorToFollow.pos.x, this._actorToFollow.pos.y);\n    this._distanceBetween = this._current.distance(this._end);\n    this._dir = this._end.sub(this._current).normalize();\n\n    if (this._distanceBetween >= this._maximumDistance) {\n      const m = this._dir.scale(this._speed);\n      this._actor.vel = vec(m.x, m.y);\n    } else {\n      this._actor.vel = vec(0, 0);\n    }\n\n    if (this.isComplete()) {\n      this._actor.pos = vec(this._end.x, this._end.y);\n      this._actor.vel = vec(0, 0);\n    }\n  }\n\n  public stop(): void {\n    this._actor.vel = vec(0, 0);\n    this._stopped = true;\n  }\n\n  public isComplete(): boolean {\n    // the actor following should never stop unless specified to do so\n    return this._stopped;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class Meet implements Action {\n  private _actor: Actor;\n  private _actorToMeet: Actor;\n  public x: number;\n  public y: number;\n  private _current: Vector;\n  private _end: Vector;\n  private _dir: Vector;\n  private _speed: number;\n  private _distanceBetween: number;\n  private _started = false;\n  private _stopped = false;\n  private _speedWasSpecified = false;\n\n  constructor(actor: Actor, actorToMeet: Actor, speed?: number) {\n    this._actor = actor;\n    this._actorToMeet = actorToMeet;\n    this._current = new Vector(this._actor.pos.x, this._actor.pos.y);\n    this._end = new Vector(actorToMeet.pos.x, actorToMeet.pos.y);\n    this._speed = speed || 0;\n\n    if (speed !== undefined) {\n      this._speedWasSpecified = true;\n    }\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._distanceBetween = this._current.distance(this._end);\n      this._dir = this._end.sub(this._current).normalize();\n    }\n\n    const actorToMeetSpeed = Math.sqrt(Math.pow(this._actorToMeet.vel.x, 2) + Math.pow(this._actorToMeet.vel.y, 2));\n    if (actorToMeetSpeed !== 0 && !this._speedWasSpecified) {\n      this._speed = actorToMeetSpeed;\n    }\n    this._current = vec(this._actor.pos.x, this._actor.pos.y);\n\n    this._end = vec(this._actorToMeet.pos.x, this._actorToMeet.pos.y);\n    this._distanceBetween = this._current.distance(this._end);\n    this._dir = this._end.sub(this._current).normalize();\n\n    const m = this._dir.scale(this._speed);\n    this._actor.vel = vec(m.x, m.y);\n\n    if (this.isComplete()) {\n      this._actor.pos = vec(this._end.x, this._end.y);\n      this._actor.vel = vec(0, 0);\n    }\n  }\n\n  public isComplete(): boolean {\n    return this._stopped || this._distanceBetween <= 1;\n  }\n\n  public stop(): void {\n    this._actor.vel = vec(0, 0);\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class RotateTo implements Action {\n  private _actor: Actor;\n  public x: number;\n  public y: number;\n  private _start: number;\n  private _end: number;\n  private _speed: number;\n  private _rotationType: RotationType;\n  private _direction: number;\n  private _distance: number;\n  private _shortDistance: number;\n  private _longDistance: number;\n  private _shortestPathIsPositive: boolean;\n  private _currentNonCannonAngle: number;\n  private _started = false;\n  private _stopped = false;\n  constructor(actor: Actor, angleRadians: number, speed: number, rotationType?: RotationType) {\n    this._actor = actor;\n    this._end = angleRadians;\n    this._speed = speed;\n    this._rotationType = rotationType || RotationType.ShortestPath;\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._start = this._actor.rotation;\n      this._currentNonCannonAngle = this._actor.rotation;\n      const distance1 = Math.abs(this._end - this._start);\n      const distance2 = Util.TwoPI - distance1;\n      if (distance1 > distance2) {\n        this._shortDistance = distance2;\n        this._longDistance = distance1;\n      } else {\n        this._shortDistance = distance1;\n        this._longDistance = distance2;\n      }\n\n      this._shortestPathIsPositive = (this._start - this._end + Util.TwoPI) % Util.TwoPI >= Math.PI;\n\n      switch (this._rotationType) {\n        case RotationType.ShortestPath:\n          this._distance = this._shortDistance;\n          if (this._shortestPathIsPositive) {\n            this._direction = 1;\n          } else {\n            this._direction = -1;\n          }\n          break;\n        case RotationType.LongestPath:\n          this._distance = this._longDistance;\n          if (this._shortestPathIsPositive) {\n            this._direction = -1;\n          } else {\n            this._direction = 1;\n          }\n          break;\n        case RotationType.Clockwise:\n          this._direction = 1;\n          if (this._shortestPathIsPositive) {\n            this._distance = this._shortDistance;\n          } else {\n            this._distance = this._longDistance;\n          }\n          break;\n        case RotationType.CounterClockwise:\n          this._direction = -1;\n          if (!this._shortestPathIsPositive) {\n            this._distance = this._shortDistance;\n          } else {\n            this._distance = this._longDistance;\n          }\n          break;\n      }\n    }\n\n    this._actor.rx = this._direction * this._speed;\n    this._currentNonCannonAngle += (this._direction * this._speed) * (_delta / 1000);\n\n    if (this.isComplete()) {\n      this._actor.rotation = this._end;\n      this._actor.rx = 0;\n      this._stopped = true;\n    }\n  }\n\n  public isComplete(): boolean {\n    const distanceTravelled = Math.abs(this._currentNonCannonAngle - this._start);\n    return this._stopped || distanceTravelled >= Math.abs(this._distance);\n  }\n\n  public stop(): void {\n    this._actor.rx = 0;\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class RotateBy implements Action {\n  private _actor: Actor;\n  public x: number;\n  public y: number;\n  private _start: number;\n  private _end: number;\n  private _speed: number;\n  private _offset: number;\n\n  private _rotationType: RotationType;\n  private _direction: number;\n  private _distance: number;\n  private _shortDistance: number;\n  private _longDistance: number;\n  private _shortestPathIsPositive: boolean;\n  private _currentNonCannonAngle: number;\n  private _started = false;\n  private _stopped = false;\n  constructor(actor: Actor, angleRadiansOffset: number, speed: number, rotationType?: RotationType) {\n    this._actor = actor;\n    this._speed = speed;\n    this._offset = angleRadiansOffset;\n    this._rotationType = rotationType || RotationType.ShortestPath;\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._start = this._actor.rotation;\n      this._currentNonCannonAngle = this._actor.rotation;\n      this._end = this._start + this._offset;\n\n      const distance1 = Math.abs(this._end - this._start);\n      const distance2 = Util.TwoPI - distance1;\n      if (distance1 > distance2) {\n        this._shortDistance = distance2;\n        this._longDistance = distance1;\n      } else {\n        this._shortDistance = distance1;\n        this._longDistance = distance2;\n      }\n\n      this._shortestPathIsPositive = (this._start - this._end + Util.TwoPI) % Util.TwoPI >= Math.PI;\n\n      switch (this._rotationType) {\n        case RotationType.ShortestPath:\n          this._distance = this._shortDistance;\n          if (this._shortestPathIsPositive) {\n            this._direction = 1;\n          } else {\n            this._direction = -1;\n          }\n          break;\n        case RotationType.LongestPath:\n          this._distance = this._longDistance;\n          if (this._shortestPathIsPositive) {\n            this._direction = -1;\n          } else {\n            this._direction = 1;\n          }\n          break;\n        case RotationType.Clockwise:\n          this._direction = 1;\n          if (this._shortDistance >= 0) {\n            this._distance = this._shortDistance;\n          } else {\n            this._distance = this._longDistance;\n          }\n          break;\n        case RotationType.CounterClockwise:\n          this._direction = -1;\n          if (this._shortDistance <= 0) {\n            this._distance = this._shortDistance;\n          } else {\n            this._distance = this._longDistance;\n          }\n          break;\n      }\n    }\n\n    this._actor.rx = this._direction * this._speed;\n    this._currentNonCannonAngle += (this._direction * this._speed) * (_delta / 1000);\n\n    if (this.isComplete()) {\n      this._actor.rotation = this._end;\n      this._actor.rx = 0;\n      this._stopped = true;\n    }\n  }\n\n  public isComplete(): boolean {\n    const distanceTravelled = Math.abs(this._currentNonCannonAngle - this._start);\n    return this._stopped || distanceTravelled >= Math.abs(this._distance);\n  }\n\n  public stop(): void {\n    this._actor.rx = 0;\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\n@obsolete({ message: 'ex.Action.ScaleTo will be removed in v0.25.0', alternateMethod: 'Set width and hight directly' })\nexport class ScaleTo implements Action {\n  private _actor: Actor;\n  public x: number;\n  public y: number;\n  private _startX: number;\n  private _startY: number;\n  private _endX: number;\n  private _endY: number;\n  private _speedX: number;\n  private _speedY: number;\n  private _distanceX: number;\n  private _distanceY: number;\n  private _started = false;\n  private _stopped = false;\n  constructor(actor: Actor, scaleX: number, scaleY: number, speedX: number, speedY: number) {\n    this._actor = actor;\n    this._endX = scaleX;\n    this._endY = scaleY;\n    this._speedX = speedX;\n    this._speedY = speedY;\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._startX = this._actor.scale.x;\n      this._startY = this._actor.scale.y;\n      this._distanceX = Math.abs(this._endX - this._startX);\n      this._distanceY = Math.abs(this._endY - this._startY);\n    }\n\n    if (!(Math.abs(this._actor.scale.x - this._startX) >= this._distanceX)) {\n      const directionX = this._endY < this._startY ? -1 : 1;\n      this._actor.sx = this._speedX * directionX;\n    } else {\n      this._actor.sx = 0;\n    }\n\n    if (!(Math.abs(this._actor.scale.y - this._startY) >= this._distanceY)) {\n      const directionY = this._endY < this._startY ? -1 : 1;\n      this._actor.sy = this._speedY * directionY;\n    } else {\n      this._actor.sy = 0;\n    }\n\n    if (this.isComplete()) {\n      this._actor.scale = vec(this._endX, this._endY);\n      this._actor.sx = 0;\n      this._actor.sy = 0;\n    }\n  }\n\n  public isComplete(): boolean {\n    return (\n      this._stopped ||\n      (Math.abs(this._actor.scale.y - this._startX) >= this._distanceX && Math.abs(this._actor.scale.y - this._startY) >= this._distanceY)\n    );\n  }\n\n  public stop(): void {\n    this._actor.sx = 0;\n    this._actor.sy = 0;\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\n@obsolete({ message: 'ex.Action.ScaleBy will be removed in v0.25.0', alternateMethod: 'Set width and hight directly' })\nexport class ScaleBy implements Action {\n  private _actor: Actor;\n  public x: number;\n  public y: number;\n  private _startScale: Vector;\n  private _endScale: Vector;\n  private _offset: Vector;\n  private _distanceX: number;\n  private _distanceY: number;\n  private _directionX: number;\n  private _directionY: number;\n  private _started = false;\n  private _stopped = false;\n  private _speedX: number;\n  private _speedY: number;\n  constructor(actor: Actor, scaleOffsetX: number, scaleOffsetY: number, speed: number) {\n    this._actor = actor;\n    this._offset = new Vector(scaleOffsetX, scaleOffsetY);\n    this._speedX = this._speedY = speed;\n  }\n\n  public update(_delta: number): void {\n    if (!this._started) {\n      this._started = true;\n      this._startScale = this._actor.scale.clone();\n      this._endScale = this._startScale.add(this._offset);\n      this._distanceX = Math.abs(this._endScale.x - this._startScale.x);\n      this._distanceY = Math.abs(this._endScale.y - this._startScale.y);\n      this._directionX = this._endScale.x < this._startScale.x ? -1 : 1;\n      this._directionY = this._endScale.y < this._startScale.y ? -1 : 1;\n    }\n\n    this._actor.sx = this._speedX * this._directionX;\n    this._actor.sy = this._speedY * this._directionY;\n\n    if (this.isComplete()) {\n      this._actor.scale = this._endScale;\n      this._actor.sx = 0;\n      this._actor.sy = 0;\n    }\n  }\n\n  public isComplete(): boolean {\n    return (\n      this._stopped ||\n      (Math.abs(this._actor.scale.x - this._startScale.x) >= this._distanceX &&\n        Math.abs(this._actor.scale.y - this._startScale.y) >= this._distanceY)\n    );\n  }\n\n  public stop(): void {\n    this._actor.sx = 0;\n    this._actor.sy = 0;\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class Delay implements Action {\n  public x: number;\n  public y: number;\n  private _actor: Actor;\n  private _elapsedTime: number = 0;\n  private _delay: number;\n  private _started: boolean = false;\n  private _stopped = false;\n  constructor(actor: Actor, delay: number) {\n    this._actor = actor;\n    this._delay = delay;\n  }\n\n  public update(delta: number): void {\n    if (!this._started) {\n      this._started = true;\n    }\n\n    this.x = this._actor.pos.x;\n    this.y = this._actor.pos.y;\n\n    this._elapsedTime += delta;\n  }\n\n  isComplete(): boolean {\n    return this._stopped || this._elapsedTime >= this._delay;\n  }\n\n  public stop(): void {\n    this._stopped = true;\n  }\n\n  reset(): void {\n    this._elapsedTime = 0;\n    this._started = false;\n  }\n}\n\nexport class Blink implements Action {\n  private _timeVisible: number = 0;\n  private _timeNotVisible: number = 0;\n  private _elapsedTime: number = 0;\n  private _totalTime: number = 0;\n  private _actor: Actor;\n  private _duration: number;\n  private _stopped: boolean = false;\n  private _started: boolean = false;\n  constructor(actor: Actor, timeVisible: number, timeNotVisible: number, numBlinks: number = 1) {\n    this._actor = actor;\n    this._timeVisible = timeVisible;\n    this._timeNotVisible = timeNotVisible;\n    this._duration = (timeVisible + timeNotVisible) * numBlinks;\n  }\n\n  public update(delta: number): void {\n    if (!this._started) {\n      this._started = true;\n    }\n\n    this._elapsedTime += delta;\n    this._totalTime += delta;\n    if (this._actor.visible && this._elapsedTime >= this._timeVisible) {\n      this._actor.visible = false;\n      this._elapsedTime = 0;\n    }\n\n    if (!this._actor.visible && this._elapsedTime >= this._timeNotVisible) {\n      this._actor.visible = true;\n      this._elapsedTime = 0;\n    }\n\n    if (this.isComplete()) {\n      this._actor.visible = true;\n    }\n  }\n\n  public isComplete(): boolean {\n    return this._stopped || this._totalTime >= this._duration;\n  }\n\n  public stop(): void {\n    this._actor.visible = true;\n    this._stopped = true;\n  }\n\n  public reset() {\n    this._started = false;\n    this._elapsedTime = 0;\n    this._totalTime = 0;\n  }\n}\n\nexport class Fade implements Action {\n  public x: number;\n  public y: number;\n\n  private _actor: Actor;\n  private _endOpacity: number;\n  private _speed: number;\n  private _multiplier: number = 1;\n  private _started = false;\n  private _stopped = false;\n\n  constructor(actor: Actor, endOpacity: number, speed: number) {\n    this._actor = actor;\n    this._endOpacity = endOpacity;\n    this._speed = speed;\n  }\n\n  public update(delta: number): void {\n    if (!this._started) {\n      this._started = true;\n\n      // determine direction when we start\n      if (this._endOpacity < this._actor.opacity) {\n        this._multiplier = -1;\n      } else {\n        this._multiplier = 1;\n      }\n    }\n\n    if (this._speed > 0) {\n      this._actor.opacity += (this._multiplier * (Math.abs(this._actor.opacity - this._endOpacity) * delta)) / this._speed;\n    }\n\n    this._speed -= delta;\n\n    if (this.isComplete()) {\n      this._actor.opacity = this._endOpacity;\n    }\n\n    Logger.getInstance().debug('[Action fade] Actor opacity:', this._actor.opacity);\n  }\n\n  public isComplete(): boolean {\n    return this._stopped || Math.abs(this._actor.opacity - this._endOpacity) < 0.05;\n  }\n\n  public stop(): void {\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._started = false;\n  }\n}\n\nexport class Die implements Action {\n  public x: number;\n  public y: number;\n\n  private _actor: Actor;\n  private _stopped = false;\n\n  constructor(actor: Actor) {\n    this._actor = actor;\n  }\n\n  public update(_delta: number): void {\n    this._actor.actionQueue.clearActions();\n    this._actor.kill();\n    this._stopped = true;\n  }\n\n  public isComplete(): boolean {\n    return this._stopped;\n  }\n\n  public stop(): void {\n    return;\n  }\n\n  public reset(): void {\n    return;\n  }\n}\n\nexport class CallMethod implements Action {\n  public x: number;\n  public y: number;\n  private _method: () => any = null;\n  private _actor: Actor = null;\n  private _hasBeenCalled: boolean = false;\n  constructor(actor: Actor, method: () => any) {\n    this._actor = actor;\n    this._method = method;\n  }\n\n  public update(_delta: number) {\n    this._method.call(this._actor);\n    this._hasBeenCalled = true;\n  }\n  public isComplete() {\n    return this._hasBeenCalled;\n  }\n  public reset() {\n    this._hasBeenCalled = false;\n  }\n  public stop() {\n    this._hasBeenCalled = true;\n  }\n}\n\nexport class Repeat implements Action {\n  public x: number;\n  public y: number;\n  private _actor: Actor;\n  private _actionQueue: ActionQueue;\n  private _repeat: number;\n  private _originalRepeat: number;\n  private _stopped: boolean = false;\n  constructor(actor: Actor, repeat: number, actions: Action[]) {\n    this._actor = actor;\n    this._actionQueue = new ActionQueue(actor);\n    this._repeat = repeat;\n    this._originalRepeat = repeat;\n\n    const len = actions.length;\n    for (let i = 0; i < len; i++) {\n      actions[i].reset();\n      this._actionQueue.add(actions[i]);\n    }\n  }\n\n  public update(delta: number): void {\n    this.x = this._actor.pos.x;\n    this.y = this._actor.pos.y;\n    if (!this._actionQueue.hasNext()) {\n      this._actionQueue.reset();\n      this._repeat--;\n    }\n    this._actionQueue.update(delta);\n  }\n\n  public isComplete(): boolean {\n    return this._stopped || this._repeat <= 0;\n  }\n\n  public stop(): void {\n    this._stopped = true;\n  }\n\n  public reset(): void {\n    this._repeat = this._originalRepeat;\n  }\n}\n\nexport class RepeatForever implements Action {\n  public x: number;\n  public y: number;\n  private _actor: Actor;\n  private _actionQueue: ActionQueue;\n  private _stopped: boolean = false;\n  constructor(actor: Actor, actions: Action[]) {\n    this._actor = actor;\n    this._actionQueue = new ActionQueue(actor);\n\n    const len = actions.length;\n    for (let i = 0; i < len; i++) {\n      actions[i].reset();\n      this._actionQueue.add(actions[i]);\n    }\n  }\n\n  public update(delta: number): void {\n    this.x = this._actor.pos.x;\n    this.y = this._actor.pos.y;\n    if (this._stopped) {\n      return;\n    }\n\n    if (!this._actionQueue.hasNext()) {\n      this._actionQueue.reset();\n    }\n\n    this._actionQueue.update(delta);\n  }\n\n  public isComplete(): boolean {\n    return this._stopped;\n  }\n\n  public stop(): void {\n    this._stopped = true;\n    this._actionQueue.clearActions();\n  }\n\n  public reset(): void {\n    return;\n  }\n}\n\n/**\n * Action Queues\n *\n * Action queues are part of the [[ActionContext|Action API]] and\n * store the list of actions to be executed for an [[Actor]].\n *\n * Actors implement [[Actor.actions]] which can be manipulated by\n * advanced users to adjust the actions currently being executed in the\n * queue.\n */\nexport class ActionQueue {\n  private _actor: Actor;\n  private _actions: Action[] = [];\n  private _currentAction: Action;\n  private _completedActions: Action[] = [];\n  constructor(actor: Actor) {\n    this._actor = actor;\n  }\n\n  public add(action: Action) {\n    this._actions.push(action);\n  }\n\n  public remove(action: Action) {\n    const index = this._actions.indexOf(action);\n    this._actions.splice(index, 1);\n  }\n\n  public clearActions(): void {\n    this._actions.length = 0;\n    this._completedActions.length = 0;\n    if (this._currentAction) {\n      this._currentAction.stop();\n    }\n  }\n\n  public getActions(): Action[] {\n    return this._actions.concat(this._completedActions);\n  }\n\n  public hasNext(): boolean {\n    return this._actions.length > 0;\n  }\n\n  public reset(): void {\n    this._actions = this.getActions();\n\n    const len = this._actions.length;\n    for (let i = 0; i < len; i++) {\n      this._actions[i].reset();\n    }\n    this._completedActions = [];\n  }\n\n  public update(delta: number) {\n    if (this._actions.length > 0) {\n      this._currentAction = this._actions[0];\n      this._currentAction.update(delta);\n\n      if (this._currentAction.isComplete(this._actor)) {\n        this._completedActions.push(this._actions.shift());\n      }\n    }\n  }\n}\n","﻿import { Vector } from '../Algebra';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * A definition of an EasingFunction. See [[EasingFunctions]].\n */\n// tslint:disable-next-line\nexport interface EasingFunction {\n  (currentTime: number, startValue: number, endValue: number, duration: number): number;\n}\n\n/**\n * Standard easing functions for motion in Excalibur, defined on a domain of [0, duration] and a range from [+startValue,+endValue]\n * Given a time, the function will return a value from positive startValue to positive endValue.\n *\n * ```js\n * function Linear (t) {\n *    return t * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInQuad (t) {\n *    return t * t;\n * }\n *\n * // decelerating to zero velocity\n * function EaseOutQuad (t) {\n *    return t * (2 - t);\n * }\n *\n * // acceleration until halfway, then deceleration\n * function EaseInOutQuad (t) {\n *    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInCubic (t) {\n *    return t * t * t;\n * }\n *\n * // decelerating to zero velocity\n * function EaseOutCubic (t) {\n *    return (--t) * t * t + 1;\n * }\n *\n * // acceleration until halfway, then deceleration\n * function EaseInOutCubic (t) {\n *    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n * }\n * ```\n */\nexport class EasingFunctions {\n  public static CreateReversibleEasingFunction(easing: EasingFunction) {\n    return (time: number, start: number, end: number, duration: number) => {\n      if (end < start) {\n        return start - (easing(time, end, start, duration) - end);\n      } else {\n        return easing(time, start, end, duration);\n      }\n    };\n  }\n\n  @obsolete({\n    message: 'Alias for incorrect spelling used in older versions, will be removed in v0.25.0',\n    alternateMethod: 'CreateReversibleEasingFunction'\n  })\n  public static CreateReversableEasingFunction(easing: EasingFunction) {\n    return EasingFunctions.CreateReversibleEasingFunction(easing);\n  }\n\n  public static CreateVectorEasingFunction(easing: EasingFunction) {\n    return (time: number, start: Vector, end: Vector, duration: number) => {\n      return new Vector(easing(time, start.x, end.x, duration), easing(time, start.y, end.y, duration));\n    };\n  }\n\n  public static Linear: EasingFunction = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      return (endValue * currentTime) / duration + startValue;\n    }\n  );\n\n  public static EaseInQuad = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      currentTime /= duration;\n\n      return endValue * currentTime * currentTime + startValue;\n    }\n  );\n\n  public static EaseOutQuad: EasingFunction = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      currentTime /= duration;\n      return -endValue * currentTime * (currentTime - 2) + startValue;\n    }\n  );\n\n  public static EaseInOutQuad: EasingFunction = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      currentTime /= duration / 2;\n\n      if (currentTime < 1) {\n        return (endValue / 2) * currentTime * currentTime + startValue;\n      }\n      currentTime--;\n\n      return (-endValue / 2) * (currentTime * (currentTime - 2) - 1) + startValue;\n    }\n  );\n\n  public static EaseInCubic: EasingFunction = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      currentTime /= duration;\n      return endValue * currentTime * currentTime * currentTime + startValue;\n    }\n  );\n\n  public static EaseOutCubic: EasingFunction = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      currentTime /= duration;\n      currentTime--;\n      return endValue * (currentTime * currentTime * currentTime + 1) + startValue;\n    }\n  );\n\n  public static EaseInOutCubic: EasingFunction = EasingFunctions.CreateReversibleEasingFunction(\n    (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = endValue - startValue;\n      currentTime /= duration / 2;\n      if (currentTime < 1) {\n        return (endValue / 2) * currentTime * currentTime * currentTime + startValue;\n      }\n      currentTime -= 2;\n      return (endValue / 2) * (currentTime * currentTime * currentTime + 2) + startValue;\n    }\n  );\n}\n","import * as Actions from './Action';\nimport { RotationType } from './RotationType';\n\nimport { Actor } from '../Actor';\nimport { EasingFunction, EasingFunctions } from '../Util/EasingFunctions';\n\n/**\n * The fluent Action API allows you to perform \"actions\" on\n * [[Actor|Actors]] such as following, moving, rotating, and\n * more. You can implement your own actions by implementing\n * the [[Action]] interface.\n */\nexport class ActionContext {\n  private _actors: Actor[] = [];\n  private _queues: Actions.ActionQueue[] = [];\n\n  constructor();\n  constructor(actor: Actor);\n  constructor(actors: Actor[]);\n  constructor() {\n    if (arguments !== null) {\n      this._actors = Array.prototype.slice.call(arguments, 0);\n      this._queues = this._actors.map((a) => {\n        return a.actionQueue;\n      });\n    }\n  }\n\n  /**\n   * Clears all queued actions from the Actor\n   */\n  public clearActions(): void {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].clearActions();\n    }\n  }\n\n  public addActorToContext(actor: Actor) {\n    this._actors.push(actor);\n    // if we run into problems replace the line below with:\n    this._queues.push(actor.actionQueue);\n  }\n\n  public removeActorFromContext(actor: Actor) {\n    const index = this._actors.indexOf(actor);\n    if (index > -1) {\n      this._actors.splice(index, 1);\n      this._queues.splice(index, 1);\n    }\n  }\n\n  /**\n   * This method will move an actor to the specified `x` and `y` position over the\n   * specified duration using a given [[EasingFunctions]] and return back the actor. This\n   * method is part of the actor 'Action' fluent API allowing action chaining.\n   * @param x         The x location to move the actor to\n   * @param y         The y location to move the actor to\n   * @param duration  The time it should take the actor to move to the new location in milliseconds\n   * @param easingFcn Use [[EasingFunctions]] or a custom function to use to calculate position\n   */\n  public easeTo(x: number, y: number, duration: number, easingFcn: EasingFunction = EasingFunctions.Linear) {\n    const len = this._queues.length;\n\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.EaseTo(this._actors[i], x, y, duration, easingFcn));\n    }\n\n    return this;\n  }\n\n  /**\n   * This method will move an actor to the specified x and y position at the\n   * speed specified (in pixels per second) and return back the actor. This\n   * method is part of the actor 'Action' fluent API allowing action chaining.\n   * @param x      The x location to move the actor to\n   * @param y      The y location to move the actor to\n   * @param speed  The speed in pixels per second to move\n   */\n  public moveTo(x: number, y: number, speed: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.MoveTo(this._actors[i], x, y, speed));\n    }\n\n    return this;\n  }\n\n  /**\n   * This method will move an actor by the specified x offset and y offset from its current position, at a certain speed.\n   * This method is part of the actor 'Action' fluent API allowing action chaining.\n   * @param xOffset     The x offset to apply to this actor\n   * @param yOffset     The y location to move the actor to\n   * @param speed  The speed in pixels per second the actor should move\n   */\n  public moveBy(xOffset: number, yOffset: number, speed: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.MoveBy(this._actors[i], xOffset, yOffset, speed));\n    }\n    return this;\n  }\n\n  /**\n   * This method will rotate an actor to the specified angle at the speed\n   * specified (in radians per second) and return back the actor. This\n   * method is part of the actor 'Action' fluent API allowing action chaining.\n   * @param angleRadians  The angle to rotate to in radians\n   * @param speed         The angular velocity of the rotation specified in radians per second\n   * @param rotationType  The [[RotationType]] to use for this rotation\n   */\n  public rotateTo(angleRadians: number, speed: number, rotationType?: RotationType): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.RotateTo(this._actors[i], angleRadians, speed, rotationType));\n    }\n    return this;\n  }\n\n  /**\n   * This method will rotate an actor by the specified angle offset, from it's current rotation given a certain speed\n   * in radians/sec and return back the actor. This method is part\n   * of the actor 'Action' fluent API allowing action chaining.\n   * @param angleRadiansOffset  The angle to rotate to in radians relative to the current rotation\n   * @param speed          The speed in radians/sec the actor should rotate at\n   * @param rotationType  The [[RotationType]] to use for this rotation, default is shortest path\n   */\n  public rotateBy(angleRadiansOffset: number, speed: number, rotationType?: RotationType): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.RotateBy(this._actors[i], angleRadiansOffset, speed, rotationType));\n    }\n    return this;\n  }\n\n  /**\n   * This method will scale an actor to the specified size at the speed\n   * specified (in magnitude increase per second) and return back the\n   * actor. This method is part of the actor 'Action' fluent API allowing\n   * action chaining.\n   * @param sizeX   The scaling factor to apply on X axis\n   * @param sizeY   The scaling factor to apply on Y axis\n   * @param speedX  The speed of scaling specified in magnitude increase per second on X axis\n   * @param speedY  The speed of scaling specified in magnitude increase per second on Y axis\n   */\n  public scaleTo(sizeX: number, sizeY: number, speedX: number, speedY: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.ScaleTo(this._actors[i], sizeX, sizeY, speedX, speedY));\n    }\n    return this;\n  }\n\n  /**\n   * This method will scale an actor by an amount relative to the current scale at a certain speed in scale units/sec\n   * and return back the actor. This method is part of the\n   * actor 'Action' fluent API allowing action chaining.\n   * @param sizeOffsetX   The scaling factor to apply on X axis\n   * @param sizeOffsetY   The scaling factor to apply on Y axis\n   * @param speed    The speed to scale at in scale units/sec\n   */\n  public scaleBy(sizeOffsetX: number, sizeOffsetY: number, speed: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.ScaleBy(this._actors[i], sizeOffsetX, sizeOffsetY, speed));\n    }\n    return this;\n  }\n\n  /**\n   * This method will cause an actor to blink (become visible and not\n   * visible). Optionally, you may specify the number of blinks. Specify the amount of time\n   * the actor should be visible per blink, and the amount of time not visible.\n   * This method is part of the actor 'Action' fluent API allowing action chaining.\n   * @param timeVisible     The amount of time to stay visible per blink in milliseconds\n   * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\n   * @param numBlinks       The number of times to blink\n   */\n  public blink(timeVisible: number, timeNotVisible: number, numBlinks: number = 1): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.Blink(this._actors[i], timeVisible, timeNotVisible, numBlinks));\n    }\n    return this;\n  }\n\n  /**\n   * This method will cause an actor's opacity to change from its current value\n   * to the provided value by a specified time (in milliseconds). This method is\n   * part of the actor 'Action' fluent API allowing action chaining.\n   * @param opacity  The ending opacity\n   * @param time     The time it should take to fade the actor (in milliseconds)\n   */\n  public fade(opacity: number, time: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.Fade(this._actors[i], opacity, time));\n    }\n    return this;\n  }\n\n  /**\n   * This method will delay the next action from executing for a certain\n   * amount of time (in milliseconds). This method is part of the actor\n   * 'Action' fluent API allowing action chaining.\n   * @param time  The amount of time to delay the next action in the queue from executing in milliseconds\n   */\n  public delay(time: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.Delay(this._actors[i], time));\n    }\n    return this;\n  }\n\n  /**\n   * This method will add an action to the queue that will remove the actor from the\n   * scene once it has completed its previous actions. Any actions on the\n   * action queue after this action will not be executed.\n   */\n  public die(): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.Die(this._actors[i]));\n    }\n    return this;\n  }\n\n  /**\n   * This method allows you to call an arbitrary method as the next action in the\n   * action queue. This is useful if you want to execute code in after a specific\n   * action, i.e An actor arrives at a destination after traversing a path\n   */\n  public callMethod(method: () => any): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.CallMethod(this._actors[i], method));\n    }\n    return this;\n  }\n\n  /**\n   * This method will cause the actor to repeat all of the previously\n   * called actions a certain number of times. If the number of repeats\n   * is not specified it will repeat forever. This method is part of\n   * the actor 'Action' fluent API allowing action chaining\n   * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\n   * will repeat forever\n   */\n  public repeat(times?: number): ActionContext {\n    if (!times) {\n      this.repeatForever();\n      return this;\n    }\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.Repeat(this._actors[i], times, this._actors[i].actionQueue.getActions()));\n    }\n\n    return this;\n  }\n\n  /**\n   * This method will cause the actor to repeat all of the previously\n   * called actions forever. This method is part of the actor 'Action'\n   * fluent API allowing action chaining.\n   */\n  public repeatForever(): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      this._queues[i].add(new Actions.RepeatForever(this._actors[i], this._actors[i].actionQueue.getActions()));\n    }\n    return this;\n  }\n\n  /**\n   * This method will cause the actor to follow another at a specified distance\n   * @param actor           The actor to follow\n   * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\n   */\n  public follow(actor: Actor, followDistance?: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      if (followDistance === undefined) {\n        this._queues[i].add(new Actions.Follow(this._actors[i], actor));\n      } else {\n        this._queues[i].add(new Actions.Follow(this._actors[i], actor, followDistance));\n      }\n    }\n    return this;\n  }\n\n  /**\n   * This method will cause the actor to move towards another until they\n   * collide \"meet\" at a specified speed.\n   * @param actor  The actor to meet\n   * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\n   */\n  public meet(actor: Actor, speed?: number): ActionContext {\n    const len = this._queues.length;\n    for (let i = 0; i < len; i++) {\n      if (speed === undefined) {\n        this._queues[i].add(new Actions.Meet(this._actors[i], actor));\n      } else {\n        this._queues[i].add(new Actions.Meet(this._actors[i], actor, speed));\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Returns a promise that resolves when the current action queue up to now\n   * is finished.\n   */\n  public asPromise(): Promise<void[]> {\n    const promises = this._queues.map((q, i) => {\n      const temp = new Promise<void>((resolve) => {\n        q.add(\n          new Actions.CallMethod(this._actors[i], () => {\n            resolve();\n          })\n        );\n      });\n      return temp;\n    });\n    return Promise.all(promises);\n  }\n}\n","import { Trait } from '../Interfaces/Trait';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\n\nexport interface CapturePointerConfig {\n  /**\n   * Capture PointerMove events (may be expensive!)\n   */\n  captureMoveEvents: boolean;\n\n  /**\n   * Capture PointerDrag events (may be expensive!)\n   */\n  captureDragEvents: boolean;\n}\n\n/**\n * Revises pointer events path accordingly to the actor\n */\nexport class CapturePointer implements Trait {\n  public update(actor: Actor, engine: Engine) {\n    if (!actor.enableCapturePointer) {\n      return;\n    }\n    if (actor.isKilled()) {\n      return;\n    }\n\n    engine.input.pointers.checkAndUpdateActorUnderPointer(actor);\n  }\n}\n","import { vec, Vector } from '../Algebra';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\nimport { Color } from '../Drawing/Color';\n\nexport class CullingBox {\n  private _topLeft: Vector = new Vector(0, 0);\n  private _topRight: Vector = new Vector(0, 0);\n  private _bottomLeft: Vector = new Vector(0, 0);\n  private _bottomRight: Vector = new Vector(0, 0);\n\n  private _xCoords: Array<number>;\n  private _yCoords: Array<number>;\n  private _xMin: number;\n  private _yMin: number;\n  private _xMax: number;\n  private _yMax: number;\n\n  private _xMinWorld: number;\n  private _yMinWorld: number;\n  private _xMaxWorld: number;\n  private _yMaxWorld: number;\n\n  public isSpriteOffScreen(actor: Actor, engine: Engine): boolean {\n    const drawingWidth = actor.currentDrawing.drawWidth;\n    const drawingHeight = actor.currentDrawing.drawHeight;\n    const rotation = actor.rotation;\n    const anchor = actor.center;\n    const worldPos = actor.getGlobalPos();\n\n    this._topLeft = vec(worldPos.x - drawingWidth / 2, worldPos.y - drawingHeight / 2);\n    this._topLeft = this._topLeft.rotate(rotation, anchor);\n\n    this._topRight = vec(worldPos.x + drawingWidth / 2, worldPos.y - drawingHeight / 2);\n    this._topRight = this._topRight.rotate(rotation, anchor);\n\n    this._bottomLeft = vec(worldPos.x - drawingWidth / 2, worldPos.y + drawingHeight / 2);\n    this._bottomLeft = this._bottomLeft.rotate(rotation, anchor);\n\n    this._bottomRight = vec(worldPos.x + drawingWidth / 2, worldPos.y + drawingHeight / 2);\n    this._bottomRight = this._bottomRight.rotate(rotation, anchor);\n\n    const topLeftScreen = engine.worldToScreenCoordinates(this._topLeft);\n    const topRightScreen = engine.worldToScreenCoordinates(this._topRight);\n    const bottomLeftScreen = engine.worldToScreenCoordinates(this._bottomLeft);\n    const bottomRightScreen = engine.worldToScreenCoordinates(this._bottomRight);\n    this._xCoords = [];\n    this._yCoords = [];\n\n    this._xCoords.push(topLeftScreen.x, topRightScreen.x, bottomLeftScreen.x, bottomRightScreen.x);\n    this._yCoords.push(topLeftScreen.y, topRightScreen.y, bottomLeftScreen.y, bottomRightScreen.y);\n\n    this._xMin = Math.min.apply(null, this._xCoords);\n    this._yMin = Math.min.apply(null, this._yCoords);\n    this._xMax = Math.max.apply(null, this._xCoords);\n    this._yMax = Math.max.apply(null, this._yCoords);\n\n    const minWorld = engine.screenToWorldCoordinates(new Vector(this._xMin, this._yMin));\n    const maxWorld = engine.screenToWorldCoordinates(new Vector(this._xMax, this._yMax));\n    this._xMinWorld = minWorld.x;\n    this._yMinWorld = minWorld.y;\n    this._xMaxWorld = maxWorld.x;\n    this._yMaxWorld = maxWorld.y;\n\n    const boundingPoints = [\n      new Vector(this._xMin, this._yMin), // top left\n      new Vector(this._xMax, this._yMin), // top right\n      new Vector(this._xMin, this._yMax), // bottom left\n      new Vector(this._xMax, this._yMax) // bottom right\n    ];\n\n    // sprite can be wider than canvas screen (and still visible within canvas)\n    // top or bottom of sprite must be within canvas\n    if (\n      boundingPoints[0].x < 0 &&\n      boundingPoints[1].x > engine.canvas.clientWidth &&\n      (boundingPoints[0].y > 0 || boundingPoints[2].y < engine.canvas.clientHeight)\n    ) {\n      return false;\n    }\n\n    // sprite can be taller than canvas screen (and still visible within canvas)\n    // left or right of sprite must be within canvas\n    if (\n      boundingPoints[0].y < 0 &&\n      boundingPoints[2].y > engine.canvas.clientHeight &&\n      (boundingPoints[1].x > 0 || boundingPoints[0].x < engine.canvas.clientWidth)\n    ) {\n      return false;\n    }\n\n    // otherwise if any corner is visible, we're not offscreen\n    for (let i = 0; i < boundingPoints.length; i++) {\n      if (\n        boundingPoints[i].x > 0 &&\n        boundingPoints[i].y > 0 &&\n        boundingPoints[i].x < engine.canvas.clientWidth &&\n        boundingPoints[i].y < engine.canvas.clientHeight\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    // bounding rectangle\n    ctx.beginPath();\n    ctx.strokeStyle = Color.White.toString();\n    ctx.rect(this._xMinWorld, this._yMinWorld, this._xMaxWorld - this._xMinWorld, this._yMaxWorld - this._yMinWorld);\n    ctx.stroke();\n\n    ctx.fillStyle = Color.Red.toString();\n    ctx.beginPath();\n    ctx.arc(this._topLeft.x, this._topLeft.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.fill();\n\n    ctx.fillStyle = Color.Green.toString();\n    ctx.beginPath();\n    ctx.arc(this._topRight.x, this._topRight.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.fill();\n\n    ctx.fillStyle = Color.Blue.toString();\n    ctx.beginPath();\n    ctx.arc(this._bottomLeft.x, this._bottomLeft.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.fill();\n\n    ctx.fillStyle = Color.Magenta.toString();\n    ctx.beginPath();\n    ctx.arc(this._bottomRight.x, this._bottomRight.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.fill();\n  }\n}\n","export interface Message<T> {\n  type: string;\n  data: T;\n}\n\nexport interface Observer<T> {\n  notify(message: T): void;\n}\n\nexport type MaybeObserver<T> = Partial<Observer<T>>;\n\nexport class Observable<T> {\n  public observers: Observer<T>[] = [];\n\n  register(observer: Observer<T>) {\n    this.observers.push(observer);\n  }\n\n  unregister(observer: Observer<T>) {\n    const i = this.observers.indexOf(observer);\n    if (i !== -1) {\n      this.observers.splice(i, 1);\n    }\n  }\n\n  notifyAll(message: T) {\n    this.observers.forEach((o) => o.notify(message));\n  }\n\n  clear() {\n    this.observers.length = 0;\n  }\n}\n","import { GameEvent } from './Events';\nimport { EventDispatcher } from './EventDispatcher';\nimport { Eventable } from './Interfaces/Evented';\n\n/**\n * Excalibur base class that provides basic functionality such as [[EventDispatcher]]\n * and extending abilities for vanilla Javascript projects\n */\nexport class Class implements Eventable {\n  /**\n   * Direct access to the game object event dispatcher.\n   */\n  public eventDispatcher: EventDispatcher;\n\n  constructor() {\n    this.eventDispatcher = new EventDispatcher(this);\n  }\n\n  /**\n   * Alias for `addEventListener`. You can listen for a variety of\n   * events off of the engine; see the events section below for a complete list.\n   * @param eventName  Name of the event to listen for\n   * @param handler    Event handler for the thrown event\n   */\n  public on(eventName: string, handler: (event: GameEvent<any>) => void) {\n    this.eventDispatcher.on(eventName, handler);\n  }\n\n  /**\n   * Alias for `removeEventListener`. If only the eventName is specified\n   * it will remove all handlers registered for that specific event. If the eventName\n   * and the handler instance are specified only that handler will be removed.\n   *\n   * @param eventName  Name of the event to listen for\n   * @param handler    Event handler for the thrown event\n   */\n  public off(eventName: string, handler?: (event: GameEvent<any>) => void) {\n    this.eventDispatcher.off(eventName, handler);\n  }\n\n  /**\n   * Emits a new event\n   * @param eventName   Name of the event to emit\n   * @param eventObject Data associated with this event\n   */\n  public emit(eventName: string, eventObject: GameEvent<any>) {\n    this.eventDispatcher.emit(eventName, eventObject);\n  }\n\n  /**\n   * Once listens to an event one time, then unsubscribes from that event\n   *\n   * @param eventName The name of the event to subscribe to once\n   * @param handler   The handler of the event that will be auto unsubscribed\n   */\n  public once(eventName: string, handler: (event: GameEvent<any>) => void) {\n    this.eventDispatcher.once(eventName, handler);\n  }\n}\n","import { Component, ComponentCtor, TagComponent } from './Component';\n\nimport { Observable, Message } from '../Util/Observable';\nimport { Class } from '../Class';\nimport { OnInitialize, OnPreUpdate, OnPostUpdate } from '../Interfaces/LifecycleEvents';\nimport { Engine } from '../Engine';\nimport { InitializeEvent, PreUpdateEvent, PostUpdateEvent } from '../Events';\nimport { Util } from '..';\n\n/**\n * Interface holding an entity component pair\n */\nexport interface EntityComponent {\n  component: Component;\n  entity: Entity;\n}\n\n/**\n * AddedComponent message\n */\nexport class AddedComponent implements Message<EntityComponent> {\n  readonly type: 'Component Added' = 'Component Added';\n  constructor(public data: EntityComponent) {}\n}\n\n/**\n * Type guard to know if message is f an Added Component\n */\nexport function isAddedComponent(x: Message<EntityComponent>): x is AddedComponent {\n  return !!x && x.type === 'Component Added';\n}\n\n/**\n * RemovedComponent message\n */\nexport class RemovedComponent implements Message<EntityComponent> {\n  readonly type: 'Component Removed' = 'Component Removed';\n  constructor(public data: EntityComponent) {}\n}\n\n/**\n * Type guard to know if message is for a Removed Component\n */\nexport function isRemovedComponent(x: Message<EntityComponent>): x is RemovedComponent {\n  return !!x && x.type === 'Component Removed';\n}\n\n/**\n * An Entity is the base type of anything that can have behavior in Excalibur, they are part of the built in entity component system\n *\n * Entities can be strongly typed with the components they contain\n *\n * ```typescript\n * const entity = new Entity<ComponentA | ComponentB>();\n * entity.components.a; // Type ComponentA\n * entity.components.b; // Type ComponentB\n * ```\n */\nexport class Entity extends Class implements OnInitialize, OnPreUpdate, OnPostUpdate {\n  private static _ID = 0;\n\n  constructor(components?: Component[]) {\n    super();\n    if (components) {\n      for (const component of components) {\n        this.addComponent(component);\n      }\n    }\n  }\n\n  /**\n   * The unique identifier for the entity\n   */\n  public id: number = Entity._ID++;\n\n  /**\n   * Whether this entity is active, if set to false it will be reclaimed\n   */\n  public active: boolean = true;\n\n  /**\n   * Kill the entity, means it will no longer be updated. Kills are deferred to the end of the update.\n   */\n  public kill() {\n    this.active = false;\n  }\n\n  public isKilled() {\n    return !this.active;\n  }\n\n  /**\n   * Specifically get the tags on the entity from [[TagComponent]]\n   */\n  public get tags(): string[] {\n    return this._tagsMemo;\n  }\n\n  /**\n   * Check if a tag exists on the entity\n   * @param tag name to check for\n   */\n  public hasTag(tag: string): boolean {\n    return this.tags.includes(tag);\n  }\n\n  /**\n   * Adds a tag to an entity\n   * @param tag\n   * @returns Entity\n   */\n  public addTag(tag: string) {\n    return this.addComponent(new TagComponent(tag));\n  }\n\n  /**\n   * The types of the components on the Entity\n   */\n  public get types(): string[] {\n    return this._typesMemo;\n  }\n\n  /**\n   * Bucket to hold on to deferred removals\n   */\n  private _componentsToRemove: (Component | string)[] = [];\n  private _componentTypeToInstance = new Map<ComponentCtor, Component>();\n  private _componentStringToInstance = new Map<string, Component>();\n\n  private _tagsMemo: string[] = [];\n  private _typesMemo: string[] = [];\n  private _rebuildMemos() {\n    this._tagsMemo = Array.from(this._componentStringToInstance.values())\n      .filter((c) => c instanceof TagComponent)\n      .map((c) => c.type);\n    this._typesMemo = Array.from(this._componentStringToInstance.keys());\n  }\n\n  public getComponents(): Component[] {\n    return Array.from(this._componentStringToInstance.values());\n  }\n\n  /**\n   * Observable that keeps track of component add or remove changes on the entity\n   */\n  public componentAdded$ = new Observable<AddedComponent>();\n  private _notifyAddComponent(component: Component) {\n    this._rebuildMemos();\n    const added = new AddedComponent({\n      component,\n      entity: this\n    });\n    this.componentAdded$.notifyAll(added);\n  }\n\n  public componentRemoved$ = new Observable<RemovedComponent>();\n  private _notifyRemoveComponent(component: Component) {\n    const removed = new RemovedComponent({\n      component,\n      entity: this\n    });\n    this.componentRemoved$.notifyAll(removed);\n    this._rebuildMemos();\n  }\n\n  private _parent: Entity = null;\n  public get parent(): Entity {\n    return this._parent;\n  }\n\n  public childrenAdded$ = new Observable<Entity>();\n  public childrenRemoved$ = new Observable<Entity>();\n\n  private _children: Entity[] = [];\n  /**\n   * Get the direct children of this entity\n   */\n  public get children(): readonly Entity[] {\n    return this._children;\n  }\n\n  /**\n   * Unparents this entity, if there is a parent. Otherwise it does nothing.\n   */\n  public unparent() {\n    if (this._parent) {\n      this._parent.removeChild(this);\n      this._parent = null;\n    }\n  }\n\n  /**\n   * Adds an entity to be a child of this entity\n   * @param entity\n   */\n  public addChild(entity: Entity): Entity {\n    if (entity.parent === null) {\n      if (this.getAncestors().includes(entity)) {\n        throw new Error('Cycle detected, cannot add entity');\n      }\n      this._children.push(entity);\n      entity._parent = this;\n      this.childrenAdded$.notifyAll(entity);\n    } else {\n      throw new Error('Entity already has a parent, cannot add without unparenting');\n    }\n    return this;\n  }\n\n  /**\n   * Remove an entity from children if it exists\n   * @param entity\n   */\n  public removeChild(entity: Entity): Entity {\n    if (entity.parent === this) {\n      Util.removeItemFromArray(entity, this._children);\n      entity._parent = null;\n      this.childrenRemoved$.notifyAll(entity);\n    }\n    return this;\n  }\n\n  /**\n   * Removes all children from this entity\n   */\n  public removeAllChildren(): Entity {\n    this.children.forEach((c) => {\n      this.removeChild(c);\n    });\n    return this;\n  }\n\n  /**\n   * Returns a list of parent entities starting with the topmost parent. Includes the current entity.\n   */\n  public getAncestors(): Entity[] {\n    const result: Entity[] = [this];\n    let current = this.parent;\n    while (current) {\n      result.push(current);\n      current = current.parent;\n    }\n    return result.reverse();\n  }\n\n  /**\n   * Returns a list of all the entities that descend from this entity. Includes the current entity.\n   */\n  public getDescendants(): Entity[] {\n    let result: Entity[] = [this];\n    let queue: Entity[] = [this];\n    while (queue.length > 0) {\n      const curr = queue.pop();\n      queue = queue.concat(curr.children);\n      result = result.concat(curr.children);\n    }\n    return result;\n  }\n\n  /**\n   * Creates a deep copy of the entity and a copy of all its components\n   */\n  public clone(): Entity {\n    const newEntity = new Entity();\n    for (const c of this.types) {\n      newEntity.addComponent(this.get(c).clone());\n    }\n    for (const child of this.children) {\n      newEntity.addChild(child.clone());\n    }\n    return newEntity;\n  }\n\n  /**\n   * Adds a copy of all the components from another template entity as a \"prefab\"\n   * @param templateEntity Entity to use as a template\n   * @param force Force component replacement if it aleady exists on the target entity\n   */\n  public addTemplate(templateEntity: Entity, force: boolean = false): Entity {\n    for (const c of templateEntity.getComponents()) {\n      this.addComponent(c.clone(), force);\n    }\n    for (const child of templateEntity.children) {\n      this.addChild(child.clone().addTemplate(child));\n    }\n    return this;\n  }\n\n  /**\n   * Adds a component to the entity\n   * @param component Component or Entity to add copy of components from\n   * @param force Optionally overwrite any existing components of the same type\n   */\n  public addComponent<T extends Component>(component: T, force: boolean = false): Entity {\n    // if component already exists, skip if not forced\n    if (this.has(component.type)) {\n      if (force) {\n        // Remove existing component type if exists when forced\n        this.removeComponent(component);\n      } else {\n        // early exit component exiss\n        return this;\n      }\n    }\n\n    // TODO circular dependencies will be a problem\n    if (component.dependencies && component.dependencies.length) {\n      for (const ctor of component.dependencies) {\n        this.addComponent(new ctor());\n      }\n    }\n\n    component.owner = this;\n    const constuctorType = component.constructor as ComponentCtor<T>;\n    this._componentTypeToInstance.set(constuctorType, component);\n    this._componentStringToInstance.set(component.type, component);\n    if (component.onAdd) {\n      component.onAdd(this);\n    }\n    this._notifyAddComponent(component);\n\n    return this;\n  }\n\n  /**\n   * Removes a component from the entity, by default removals are deferred to the end of entity processing to avoid consistency issues\n   *\n   * Components can be force removed with the `force` flag, the removal is not deferred and happens immediately\n   * @param componentOrType\n   * @param force\n   */\n  public removeComponent<ComponentOrType extends string | Component>(\n    componentOrType: ComponentOrType,\n    force = false\n  ): Entity {\n    if (force) {\n      if (typeof componentOrType === 'string') {\n        this._removeComponentByType(componentOrType);\n      } else if (componentOrType instanceof Component) {\n        this._removeComponentByType(componentOrType.type);\n      }\n    } else {\n      this._componentsToRemove.push(componentOrType);\n    }\n\n    return this as any;\n  }\n\n  private _removeComponentByType(type: string) {\n    if (this.has(type)) {\n      const component = this.get(type);\n      component.owner = null;\n      if (component.onRemove) {\n        component.onRemove(this);\n      }\n      const ctor = component.constructor as ComponentCtor;\n      this._componentTypeToInstance.delete(ctor);\n      this._componentStringToInstance.delete(component.type);\n      this._notifyRemoveComponent(component);\n    }\n  }\n\n  /**\n   * @hidden\n   * @internal\n   */\n  public processComponentRemoval() {\n    for (const componentOrType of this._componentsToRemove) {\n      const type = typeof componentOrType === 'string' ? componentOrType : componentOrType.type;\n      this._removeComponentByType(type);\n    }\n    this._componentsToRemove.length = 0;\n  }\n\n  /**\n   * Check if a component type exists\n   * @param type\n   */\n  public has<T extends Component>(type: ComponentCtor<T>): boolean;\n  public has(type: string): boolean;\n  public has<T extends Component>(type: ComponentCtor<T> | string): boolean {\n    if (typeof type === 'string') {\n      return this._componentStringToInstance.has(type);\n    } else {\n      return this._componentTypeToInstance.has(type);\n    }\n  }\n\n  /**\n   * Get a component by type with typecheck\n   *\n   * (Does not work on tag components, use .hasTag(\"mytag\") instead)\n   * @param type\n   */\n  public get<T extends Component>(type: ComponentCtor<T>): T | null;\n  public get<T extends Component>(type: string): T | null;\n  public get<T extends Component>(type: ComponentCtor<T> | string): T | null {\n    if (typeof type === 'string') {\n      return this._componentStringToInstance.get(type) as T;\n    } else {\n      return this._componentTypeToInstance.get(type) as T;\n    }\n  }\n\n  private _isInitialized = false;\n\n  /**\n   * Gets whether the actor is Initialized\n   */\n  public get isInitialized(): boolean {\n    return this._isInitialized;\n  }\n\n  /**\n   * Initializes this entity, meant to be called by the Scene before first update not by users of Excalibur.\n   *\n   * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n   *\n   * @internal\n   */\n  public _initialize(engine: Engine) {\n    if (!this.isInitialized) {\n      this.onInitialize(engine);\n      super.emit('initialize', new InitializeEvent(engine, this));\n      this._isInitialized = true;\n    }\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n   * @internal\n   */\n  public _preupdate(engine: Engine, delta: number): void {\n    this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n    this.onPreUpdate(engine, delta);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n   * @internal\n   */\n  public _postupdate(engine: Engine, delta: number): void {\n    this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n    this.onPostUpdate(engine, delta);\n  }\n\n  /**\n   * `onInitialize` is called before the first update of the entity. This method is meant to be\n   * overridden.\n   *\n   * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n   */\n  public onInitialize(_engine: Engine): void {\n    // Override me\n  }\n\n  /**\n   * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPreUpdate` is called directly before an entity is updated.\n   */\n  public onPreUpdate(_engine: Engine, _delta: number): void {\n    // Override me\n  }\n\n  /**\n   * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n   *\n   * `onPostUpdate` is called directly after an entity is updated.\n   */\n  public onPostUpdate(_engine: Engine, _delta: number): void {\n    // Override me\n  }\n\n  /**\n   *\n   * Entity update lifecycle, called internally\n   *\n   * @internal\n   * @param engine\n   * @param delta\n   */\n  public update(engine: Engine, delta: number): void {\n    this._initialize(engine);\n    this._preupdate(engine, delta);\n    for (const child of this.children) {\n      child.update(engine, delta);\n    }\n    this._postupdate(engine, delta);\n  }\n}\n","import { Entity, RemovedComponent, AddedComponent, isAddedComponent, isRemovedComponent } from './Entity';\nimport { Observer } from '../Util/Observable';\nimport { World } from './World';\nimport { Util } from '..';\n\n// Add/Remove entitys and components\n\nexport class EntityManager<ContextType = any> implements Observer<RemovedComponent | AddedComponent> {\n  public entities: Entity[] = [];\n  public _entityIndex: { [entityId: string]: Entity } = {};\n\n  constructor(private _world: World<ContextType>) {}\n\n  /**\n   * EntityManager observes changes on entities\n   * @param message\n   */\n  public notify(message: RemovedComponent | AddedComponent): void {\n    if (isAddedComponent(message)) {\n      // we don't need the component, it's already on the entity\n      this._world.queryManager.addEntity(message.data.entity);\n    }\n\n    if (isRemovedComponent(message)) {\n      this._world.queryManager.removeComponent(message.data.entity, message.data.component);\n    }\n  }\n\n  /**\n   * Adds an entity to be tracked by the EntityManager\n   * @param entity\n   */\n  public addEntity(entity: Entity): void {\n    if (entity && !this._entityIndex[entity.id]) {\n      this._entityIndex[entity.id] = entity;\n      this.entities.push(entity);\n      this._world.queryManager.addEntity(entity);\n      entity.componentAdded$.register(this);\n      entity.componentRemoved$.register(this);\n\n      // if entity has children\n      entity.children.forEach((c) => this.addEntity(c));\n      entity.childrenAdded$.register({\n        notify: (e => {\n          this.addEntity(e);\n        })\n      });\n      entity.childrenRemoved$.register({\n        notify: (e => {\n          this.removeEntity(e);\n        })\n      });\n    }\n  }\n\n  public removeEntity(entity: Entity): void;\n  public removeEntity(id: number): void;\n  public removeEntity(idOrEntity: number | Entity): void {\n    let id = 0;\n    if (idOrEntity instanceof Entity) {\n      id = idOrEntity.id;\n    } else {\n      id = idOrEntity;\n    }\n    const entity = this._entityIndex[id];\n    delete this._entityIndex[id];\n    if (entity) {\n      Util.removeItemFromArray(entity, this.entities);\n      this._world.queryManager.removeEntity(entity);\n      entity.componentAdded$.unregister(this);\n      entity.componentRemoved$.unregister(this);\n\n      // if entity has children\n      entity.children.forEach((c) => this.removeEntity(c));\n      entity.childrenAdded$.clear();\n      entity.childrenRemoved$.clear();\n    }\n  }\n\n  public processComponentRemovals(): void {\n    for (const entity of this.entities) {\n      entity.processComponentRemoval();\n    }\n  }\n\n  public getById(id: number): Entity {\n    return this._entityIndex[id];\n  }\n\n  public clear(): void {\n    for (const entity of this.entities) {\n      this.removeEntity(entity);\n    }\n  }\n}\n","export const buildTypeKey = (types: readonly string[]) => {\n  const key = [...types].sort((a, b) => a.localeCompare(b)).join('+');\n  return key;\n};\n","import { Entity } from './Entity';\nimport { Message, Observer } from '../Util/Observable';\nimport { Component } from './Component';\nimport { Scene } from '../Scene';\n\n/**\n * Enum that determines whether to run the system in the update or draw phase\n */\nexport enum SystemType {\n  Update = 'update',\n  Draw = 'draw'\n}\n\nexport type SystemTypes<ComponentTypes> = ComponentTypes extends Component<infer TypeName> ? TypeName : never;\n\n/**\n * An Excalibur [[System]] that updates entities of certain types.\n * Systems are scene specific\n *\n * Excalibur Systems currently require at least 1 Component type to operated\n *\n * Multiple types are declared as a type union\n * For example:\n *\n * ```typescript\n * class MySystem extends System<ComponentA | ComponentB> {\n *   public readonly types = ['a', 'b'] as const;\n *   public readonly systemType = SystemType.Update;\n *   public update(entities: Entity<ComponentA | ComponentB>) {\n *      ...\n *   }\n * }\n * ```\n */\nexport abstract class System<ComponentTypeUnion extends Component = Component, ContextType = Scene>\nimplements Observer<AddedEntity | RemovedEntity> {\n  /**\n   * The types of entities that this system operates on\n   * For example ['transform', 'motion']\n   */\n  abstract readonly types: readonly SystemTypes<ComponentTypeUnion>[];\n\n  /**\n   * Determine whether the system is called in the [[SystemType.Update]] or the [[SystemType.Draw]] phase. Update is first, then Draw.\n   */\n  abstract readonly systemType: SystemType;\n\n  /**\n   * System can execute in priority order, by default all systems are priority 0. Lower values indicated higher priority.\n   * For a system to execute before all other a lower priority value (-1 for example) must be set.\n   * For a system to exectue after all other a higher priority value (10 for example) must be set.\n   */\n  public priority: number = 0;\n\n  /**\n   * Optionally specify a sort order for entities passed to the your system\n   * @param a The left entity\n   * @param b The right entity\n   */\n  sort?(a: Entity, b: Entity): number;\n\n  /**\n   * Optionally specify an initialize handler\n   * @param scene\n   */\n  initialize?(engine: ContextType): void;\n\n  /**\n   * Update all entities that match this system's types\n   * @param entities Entities to update that match this system's types\n   * @param delta Time in milliseconds\n   */\n  abstract update(entities: Entity[], delta: number): void;\n\n  /**\n   * Optionally run a preupdate before the system processes matching entities\n   * @param engine\n   * @param delta Time in milliseconds since the last frame\n   */\n  preupdate?(engine: ContextType, delta: number): void;\n\n  /**\n   * Optionally run a postupdate after the system processes matching entities\n   * @param engine\n   * @param delta Time in milliseconds since the last frame\n   */\n  postupdate?(engine: ContextType, delta: number): void;\n\n  /**\n   * Optionally run a debug draw step to visualize the internals of the system\n   */\n  debugDraw?(ctx: CanvasRenderingContext2D, delta: number): void;\n\n  /**\n   * Systems observe when entities match their types or no longer match their types, override\n   * @param _entityAddedOrRemoved\n   */\n  public notify(_entityAddedOrRemoved: AddedEntity | RemovedEntity) {\n    // Override me\n  }\n}\n\n/**\n * An [[Entity]] with [[Component]] types that matches a [[System]] types exists in the current scene.\n */\nexport class AddedEntity implements Message<Entity> {\n  readonly type: 'Entity Added' = 'Entity Added';\n  constructor(public data: Entity) {}\n}\n\n/**\n * Type guard to check for AddedEntity messages\n * @param x\n */\nexport function isAddedSystemEntity(x: Message<Entity>): x is AddedEntity {\n  return !!x && x.type === 'Entity Added';\n}\n\n/**\n * An [[Entity]] with [[Component]] types that no longer matches a [[System]] types exists in the current scene.\n */\nexport class RemovedEntity implements Message<Entity> {\n  readonly type: 'Entity Removed' = 'Entity Removed';\n  constructor(public data: Entity) {}\n}\n\n/**\n * type guard to check for the RemovedEntity message\n */\nexport function isRemoveSystemEntity(x: Message<Entity>): x is RemovedEntity {\n  return !!x && x.type === 'Entity Removed';\n}\n","import { Entity } from './Entity';\nimport { buildTypeKey } from './Util';\nimport { Observable } from '../Util/Observable';\nimport { Util, Component, ComponentCtor } from '..';\nimport { AddedEntity, RemovedEntity } from './System';\n\n/**\n * Represents query for entities that match a list of types that is cached and observable\n *\n * Queries can be strongly typed by supplying a type union in the optional type parameter\n * ```typescript\n * const queryAB = new ex.Query<ComponentTypeA | ComponentTypeB>(['A', 'B']);\n * ```\n */\nexport class Query<T extends Component = Component> extends Observable<AddedEntity | RemovedEntity> {\n  public types: readonly string[];\n  private _entities: Entity[] = [];\n  private _key: string;\n  public get key(): string {\n    if (this._key) {\n      return this._key;\n    }\n    return (this._key = buildTypeKey(this.types));\n  }\n\n  constructor(types: readonly string[]);\n  constructor(types: readonly ComponentCtor<T>[]);\n  constructor(types: readonly string[] | readonly ComponentCtor<T>[]) {\n    super();\n    if (types[0] instanceof Function) {\n      this.types = (types as ComponentCtor<T>[]).map(T =>  (new T).type);\n    } else {\n      this.types = types as string[];\n    }\n  }\n\n  /**\n   * Returns a list of entities that match the query\n   *\n   * @param sort Optional sorting function to sort entities returned from the query\n   */\n  public getEntities(sort?: (a: Entity, b: Entity) => number): Entity[] {\n    if (sort) {\n      this._entities.sort(sort);\n    }\n    return this._entities;\n  }\n\n  /**\n   * Add an entity to the query, will only be added if the entity matches the query types\n   * @param entity\n   */\n  public addEntity(entity: Entity): void {\n    if (!Util.contains(this._entities, entity) && this.matches(entity)) {\n      this._entities.push(entity);\n      this.notifyAll(new AddedEntity(entity));\n    }\n  }\n\n  /**\n   * If the entity is part of the query it will be removed regardless of types\n   * @param entity\n   */\n  public removeEntity(entity: Entity): void {\n    if (Util.removeItemFromArray(entity, this._entities)) {\n      this.notifyAll(new RemovedEntity(entity));\n    }\n  }\n\n  /**\n   * Removes all entities and observers from the query\n   */\n  public clear(): void {\n    this._entities.length = 0;\n    for (const observer of this.observers) {\n      this.unregister(observer);\n    }\n  }\n\n  /**\n   * Returns whether the entity's types match query\n   * @param entity\n   */\n  public matches(entity: Entity): boolean;\n\n  /**\n   * Returns whether the list of ComponentTypes have at least the same types as the query\n   * @param types\n   */\n  public matches(types: string[]): boolean;\n  public matches(typesOrEntity: string[] | Entity): boolean {\n    let types: string[] = [];\n    if (typesOrEntity instanceof Entity) {\n      types = typesOrEntity.types;\n    } else {\n      types = typesOrEntity;\n    }\n\n    let matches = true;\n    for (const type of this.types) {\n      matches = matches && types.indexOf(type) > -1;\n      if (!matches) {\n        return false;\n      }\n    }\n    return matches;\n  }\n\n  public contain(type: string) {\n    return this.types.indexOf(type) > -1;\n  }\n}\n","import { Entity } from './Entity';\nimport { buildTypeKey } from './Util';\nimport { Query } from './Query';\nimport { Component } from './Component';\nimport { World } from './World';\n\n/**\n * The query manager is responsible for updating all queries when entities/components change\n */\nexport class QueryManager {\n  private _queries: { [entityComponentKey: string]: Query<any> } = {};\n\n  constructor(private _world: World<any>) {}\n\n  /**\n   * Adds a query to the manager and populates with any entities that match\n   * @param query\n   */\n  private _addQuery(query: Query<any>) {\n    this._queries[buildTypeKey(query.types)] = query;\n    for (const entity of this._world.entityManager.entities) {\n      query.addEntity(entity);\n    }\n  }\n\n  /**\n   * Removes the query if there are no observers left\n   * @param query\n   */\n  public maybeRemoveQuery(query: Query): void {\n    if (query.observers.length === 0) {\n      query.clear();\n      delete this._queries[buildTypeKey(query.types)];\n    }\n  }\n\n  /**\n   * Adds the entity to any matching query in the query manage\n   * @param entity\n   */\n  public addEntity(entity: Entity) {\n    for (const queryType in this._queries) {\n      if (this._queries[queryType]) {\n        this._queries[queryType].addEntity(entity);\n      }\n    }\n  }\n\n  /**\n   * Removes an entity from queries if the removed component disqualifies it\n   * @param entity\n   * @param component\n   */\n  public removeComponent(entity: Entity, component: Component) {\n    for (const queryType in this._queries) {\n      // If the component being removed from an entity is a part of a query,\n      // it is now disqualified from that query, remove it\n      if (this._queries[queryType].contain(component.type)) {\n        this._queries[queryType].removeEntity(entity);\n      }\n    }\n  }\n\n  /**\n   * Removes an entity from all queries it is currently a part of\n   * @param entity\n   */\n  public removeEntity(entity: Entity) {\n    for (const queryType in this._queries) {\n      this._queries[queryType].removeEntity(entity);\n    }\n  }\n\n  /**\n   * Creates a populated query and returns, if the query already exists that will be returned instead of a new instance\n   * @param types\n   */\n  public createQuery<T extends Component = Component>(types: readonly string[]): Query<T> {\n    const maybeExistingQuery = this.getQuery<T>(types);\n    if (maybeExistingQuery) {\n      return maybeExistingQuery;\n    }\n    const query = new Query<T>(types);\n    this._addQuery(query);\n    return query;\n  }\n\n  /**\n   * Retrieves an existing query by types if it exists otherwise returns null\n   * @param types\n   */\n  public getQuery<T extends Component = Component>(types: readonly string[]): Query<T> {\n    const key = buildTypeKey(types);\n    if (this._queries[key]) {\n      return this._queries[key] as Query<T>;\n    }\n    return null;\n  }\n}\n","import { System, SystemType } from './System';\nimport { Scene, Util } from '..';\nimport { World } from './World';\n\n/**\n * The SystemManager is responsible for keeping track of all systems in a scene.\n * Systems are scene specific\n */\nexport class SystemManager<ContextType> {\n  /**\n   * List of systems, to add a new system call [[SystemManager.addSystem]]\n   */\n  public systems: System<any, ContextType>[] = [];\n  public _keyToSystem: { [key: string]: System<any, ContextType> };\n  constructor(private _world: World<ContextType>) {}\n\n  /**\n   * Adds a system to the manager, it will now be updated every frame\n   * @param system\n   */\n  public addSystem(system: System<any, ContextType>): void {\n    // validate system has types\n    if (!system.types || system.types.length === 0) {\n      throw new Error(`Attempted to add a System without any types`);\n    }\n\n    const query = this._world.queryManager.createQuery(system.types);\n    this.systems.push(system);\n    this.systems.sort((a, b) => a.priority - b.priority);\n    query.register(system);\n    if (system.initialize) {\n      system.initialize(this._world.context);\n    }\n  }\n\n  /**\n   * Removes a system from the manager, it will no longer be updated\n   * @param system\n   */\n  public removeSystem(system: System<any, ContextType>) {\n    Util.removeItemFromArray(system, this.systems);\n    const query = this._world.queryManager.getQuery(system.types);\n    if (query) {\n      query.unregister(system);\n      this._world.queryManager.maybeRemoveQuery(query);\n    }\n  }\n\n  /**\n   * Updates all systems\n   * @param type whether this is an update or draw system\n   * @param context context reference\n   * @param delta time in milliseconds\n   */\n  public updateSystems(type: SystemType, context: ContextType, delta: number) {\n    const systems = this.systems.filter((s) => s.systemType === type);\n    for (const s of systems) {\n      if (s.preupdate) {\n        s.preupdate(context, delta);\n      }\n    }\n\n    for (const s of systems) {\n      // Get entities that match the system types, pre-sort\n      const entities = this._world.queryManager.getQuery(s.types).getEntities(s.sort);\n      // Initialize entities if needed\n      if (context instanceof Scene) {\n        for (const entity of entities) {\n          entity._initialize(context?.engine);\n        }\n      }\n      s.update(entities, delta);\n    }\n\n    for (const s of systems) {\n      if (s.postupdate) {\n        s.postupdate(context, delta);\n      }\n    }\n  }\n\n  public clear(): void {\n    for (const system of this.systems) {\n      this.removeSystem(system);\n    }\n  }\n}\n","import { Entity } from './Entity';\nimport { EntityManager } from './EntityManager';\nimport { QueryManager } from './QueryManager';\nimport { System, SystemType } from './System';\nimport { SystemManager } from './SystemManager';\n\n/**\n * The World is a self-contained entity component system for a particular context.\n */\nexport class World<ContextType> {\n  public queryManager: QueryManager = new QueryManager(this);\n  public entityManager: EntityManager = new EntityManager(this);\n  public systemManager: SystemManager<ContextType> = new SystemManager<ContextType>(this);\n\n  /**\n   * The context type is passed to the system updates\n   * @param context\n   */\n  constructor(public context: ContextType) {}\n\n  /**\n   * Update systems by type and time elapsed in milliseconds\n   */\n  update(type: SystemType, delta: number) {\n    this.systemManager.updateSystems(type, this.context, delta);\n    this.entityManager.processComponentRemovals();\n  }\n\n  /**\n   * Add an entity to the ECS world\n   * @param entity\n   */\n  add(entity: Entity): void;\n  /**\n   * Add a system to the ECS world\n   * @param system\n   */\n  add(system: System<any, ContextType>): void;\n  add(entityOrSystem: Entity | System<any, ContextType>): void {\n    if (entityOrSystem instanceof Entity) {\n      this.entityManager.addEntity(entityOrSystem);\n    }\n\n    if (entityOrSystem instanceof System) {\n      this.systemManager.addSystem(entityOrSystem);\n    }\n  }\n\n  /**\n   * Remove an entity from the ECS world\n   * @param entity\n   */\n  remove(entity: Entity): void;\n  /**\n   * Remove a system from the ECS world\n   * @param system\n   */\n  remove(system: System<any, ContextType>): void;\n  remove(entityOrSystem: Entity | System<any, ContextType>): void {\n    if (entityOrSystem instanceof Entity) {\n      this.entityManager.removeEntity(entityOrSystem);\n    }\n\n    if (entityOrSystem instanceof System) {\n      this.systemManager.removeSystem(entityOrSystem);\n    }\n  }\n\n  clearEntities(): void {\n    this.entityManager.clear();\n  }\n\n  clearSystems(): void {\n    this.systemManager.clear();\n  }\n}\n","export * from './Component';\nexport * from './Entity';\nexport * from './EntityManager';\nexport * from './Query';\nexport * from './QueryManager';\nexport * from './System';\nexport * from './SystemManager';\nexport * from './World';\n\nexport * from './Components/TransformComponent';\n","import { CullingBox } from './../Util/CullingBox';\nimport { Trait } from '../Interfaces/Trait';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\nimport { ExitViewPortEvent, EnterViewPortEvent } from '../Events';\nimport { TagComponent } from '../EntityComponentSystem';\n\nexport class OffscreenCulling implements Trait {\n  public cullingBox: CullingBox = new CullingBox();\n\n  public update(actor: Actor, engine: Engine) {\n    const events = actor.eventDispatcher;\n\n    let isSpriteOffScreen = true;\n    if (actor.currentDrawing != null) {\n      isSpriteOffScreen = this.cullingBox.isSpriteOffScreen(actor, engine);\n    }\n\n    let actorBoundsOffscreen = false;\n    if (engine && engine.currentScene && engine.currentScene.camera && engine.currentScene.camera.viewport && !actor.parent) {\n      actorBoundsOffscreen = !engine.currentScene.camera.viewport.intersect(actor.body.collider.bounds);\n    }\n\n    if (!actor.isOffScreen) {\n      if (actorBoundsOffscreen && isSpriteOffScreen) {\n        events.emit('exitviewport', new ExitViewPortEvent(actor));\n        actor.addComponent(new TagComponent('offscreen'));\n      }\n    } else {\n      if (!actorBoundsOffscreen || !isSpriteOffScreen) {\n        events.emit('enterviewport', new EnterViewPortEvent(actor));\n        actor.removeComponent('offscreen');\n      }\n    }\n  }\n}\n","import { Trait } from '../Interfaces/Trait';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\nimport { Vector } from '../Algebra';\nimport { Side } from '../Collision/Side';\nimport { PreCollisionEvent, PostCollisionEvent } from '../Events';\nimport { CollisionType } from '../Collision/CollisionType';\nimport { BoundingBox } from '../Collision/Index';\n\nexport class TileMapCollisionDetection implements Trait {\n  public update(actor: Actor, engine: Engine) {\n    const eventDispatcher = actor.eventDispatcher;\n    if (actor.body.collider.type !== CollisionType.PreventCollision && engine.currentScene && engine.currentScene.tileMaps) {\n      for (let j = 0; j < engine.currentScene.tileMaps.length; j++) {\n        const map = engine.currentScene.tileMaps[j];\n        let intersectMap: Vector;\n        let side = Side.None;\n        let max = 2;\n        while ((intersectMap = map.collides(actor))) {\n          if (max-- < 0) {\n            break;\n          }\n          side = BoundingBox.getSideFromIntersection(intersectMap);\n          eventDispatcher.emit('precollision', new PreCollisionEvent(actor, null, side, intersectMap));\n          if (actor.body.collider.type === CollisionType.Active) {\n            actor.pos = actor.pos.add(intersectMap);\n            eventDispatcher.emit('postcollision', new PostCollisionEvent(actor, null, side, intersectMap));\n          }\n        }\n      }\n    }\n  }\n}\n","export * from './CapturePointer';\nexport * from './OffscreenCulling';\nexport * from './TileMapCollisionDetection';\n","import { Component } from '../EntityComponentSystem';\n\nexport class CanvasDrawComponent extends Component<'canvas'> {\n  public readonly type = 'canvas';\n\n  constructor(public draw?: (ctx: CanvasRenderingContext2D, delta: number) => void) {\n    super();\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.draw = this.draw ?? (() => {});\n  }\n}\n","import { Vector, vec } from '../Algebra';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { BoundingBox } from '../Collision/BoundingBox';\n\nexport interface GraphicOptions {\n  /**\n   * The width of the graphic\n   */\n  width?: number;\n  /**\n   * The height of the graphic\n   */\n  height?: number;\n  /**\n   * SHould the graphic be flipped horizontally\n   */\n  flipHorizontal?: boolean;\n  /**\n   * Should the graphic be flipped vertically\n   */\n  flipVertical?: boolean;\n  /**\n   * The rotation of the graphic\n   */\n  rotation?: number;\n  /**\n   * The scale of the graphic\n   */\n  scale?: Vector;\n  /**\n   * The opacity of the graphic\n   */\n  opacity?: number;\n  /**\n   * The origin of the drawing in pixels to use when applying transforms, by default it will be the center of the image\n   */\n  origin?: Vector;\n}\n\n/**\n * A Graphic is the base Excalibur primitive for something that can be drawn to the [[ExcaliburGraphicsContext]].\n * [[Sprite]], [[Animation]], [[GraphicsGroup]], [[Canvas]], [[Rectangle]], [[Circle]], and [[Polygon]] all derive from the\n * [[Graphic]] abstract class.\n *\n * Implementors of a Graphic must override the abstract [[Graphic._drawImage]] method to render an image to the graphics context. Graphic\n * handles all the position, rotation, and scale transformations in [[Graphic._preDraw]] and [[Graphic._postDraw]]\n */\nexport abstract class Graphic {\n  private static _ID: number = 0;\n  readonly id = Graphic._ID++;\n\n  /**\n   * Gets or sets wether to show debug information about the graphic\n   */\n  public showDebug: boolean = false;\n\n  /**\n   * Gets or sets the flipHorizontal, which will flip the graphic horizontally (across the y axis)\n   */\n  public flipHorizontal: boolean = false;\n\n  /**\n   * Gets or sets the flipVertical, which will flip the graphic vertically (across the x axis)\n   */\n  public flipVertical: boolean = false;\n\n  /**\n   * Gets or sets the rotation of the graphic\n   */\n  public rotation: number = 0;\n\n  /**\n   * Gets or sets the opacity of the graphic, 0 is transparent, 1 is solid (opaque).\n   */\n  public opacity: number = 1;\n\n  /**\n   * Gets or sets the scale of the graphic, this affects the width and\n   */\n  public scale = Vector.One;\n\n  /**\n   * Gets or sets the origin of the graphic, if not set the center of the graphic is the origin\n   */\n  public origin: Vector | null = null;\n\n  constructor(options?: GraphicOptions) {\n    if (options) {\n      this.origin = options.origin ?? this.origin;\n      this.flipHorizontal = options.flipHorizontal ?? this.flipHorizontal;\n      this.flipVertical = options.flipVertical ?? this.flipVertical;\n      this.rotation = options.rotation ?? this.rotation;\n      this.opacity = options.opacity ?? this.opacity;\n      this.scale = options.scale ?? this.scale;\n    }\n  }\n\n  public cloneGraphicOptions(): GraphicOptions {\n    return {\n      origin: this.origin ? this.origin.clone() : null,\n      flipHorizontal: this.flipHorizontal,\n      flipVertical: this.flipVertical,\n      rotation: this.rotation,\n      opacity: this.opacity,\n      scale: this.scale ? this.scale.clone() : null\n    };\n  }\n\n  private _width: number = 0;\n\n  /**\n   * Gets or sets the width of the graphic (always positive)\n   */\n  public get width() {\n    return Math.abs(this._width * this.scale.x);\n  }\n\n  private _height: number = 0;\n\n  /**\n   * Gets or sets the height of the graphic (always positive)\n   */\n  public get height() {\n    return Math.abs(this._height * this.scale.y);\n  }\n\n  public set width(value: number) {\n    this._width = value;\n  }\n\n  public set height(value: number) {\n    this._height = value;\n  }\n\n  /**\n   * Gets a copy of the bounds in pixels occupied by the graphic on the the screen. This includes scale.\n   */\n  public get localBounds(): BoundingBox {\n    return BoundingBox.fromDimension(this.width, this.height, Vector.Zero);\n  }\n\n  /**\n   * Draw the whole graphic to the context including transform\n   * @param ex The excalibur graphics context\n   * @param x\n   * @param y\n   */\n  public draw(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    this._preDraw(ex, x, y);\n    this._drawImage(ex, 0, 0);\n    this._postDraw(ex);\n  }\n\n  /**\n   * Meant to be overriden by the graphic implementation to draw the underlying image (HTMLCanvasElement or HTMLImageElement)\n   * to the graphics context without transform. Transformations like position, rotation, and scale are handled by [[Graphic._preDraw]]\n   * and [[Graphic._postDraw]]\n   * @param ex The excalibur graphics context\n   * @param x\n   * @param y\n   */\n  protected abstract _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number): void;\n\n  /**\n   * Apply affine transformations to the graphics context to manipulate the graphic before [[Graphic._drawImage]]\n   * @param ex\n   * @param x\n   * @param y\n   */\n  protected _preDraw(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    ex.save();\n    ex.translate(x, y);\n    ex.scale(this.scale.x, this.scale.y);\n    this._rotate(ex);\n    this._flip(ex);\n    // it is important to multiply alphas so graphics respect the current context\n    ex.opacity = ex.opacity * this.opacity;\n  }\n\n  protected _rotate(ex: ExcaliburGraphicsContext) {\n    const scaleDirX = this.scale.x > 0 ? 1 : -1;\n    const scaleDirY = this.scale.y > 0 ? 1 : -1;\n    const origin = this.origin ?? vec(this.width / 2, this.height / 2);\n    ex.translate(origin.x, origin.y);\n    ex.rotate(this.rotation);\n    // This is for handling direction changes 1 or -1, that way we don't have mismatched translates()\n    ex.scale(scaleDirX, scaleDirY);\n    ex.translate(-origin.x, -origin.y);\n  }\n\n  protected _flip(ex: ExcaliburGraphicsContext) {\n    if (this.flipHorizontal) {\n      ex.translate(this.width / this.scale.x, 0);\n      ex.scale(-1, 1);\n    }\n\n    if (this.flipVertical) {\n      ex.translate(0, this.height / this.scale.y);\n      ex.scale(1, -1);\n    }\n  }\n\n  /**\n   * Apply any addtional work after [[Graphic._drawImage]] and restore the context state.\n   * @param ex\n   */\n  protected _postDraw(ex: ExcaliburGraphicsContext): void {\n    if (this.showDebug) {\n      ex.debug.drawRect(0, 0, this.width, this.height);\n    }\n    ex.restore();\n  }\n\n  /**\n   * Returns a new instance of the graphic that has the same properties\n   */\n  abstract clone(): Graphic;\n}\n","import { Graphic, GraphicOptions } from './Graphic';\nimport { clamp } from '../Util/Util';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { EventDispatcher } from '../EventDispatcher';\nimport { SpriteSheet } from './SpriteSheet';\n\nexport interface HasTick {\n  /**\n   *\n   * @param elapsedMilliseconds The amount of real world time in milliseconds that has elapsed that must be updated in the animation\n   * @param idempotencyToken Optional idempotencyToken prevents a ticking animation from updating twice per frame\n   */\n  tick(elapsedMilliseconds: number, idempotencyToken?: number): void;\n}\n\nexport enum AnimationStrategy {\n  /**\n   * Animation ends without displaying anything\n   */\n  End = 'end',\n  /**\n   * Animation loops to the first frame after the last frame\n   */\n  Loop = 'loop',\n  /**\n   * Animation plays to the last frame, then backwards to the first frame, then repeats\n   */\n  PingPong = 'pingpong',\n\n  /**\n   * Animation ends stopping on the last frame\n   */\n  Freeze = 'freeze'\n}\n\nexport interface Frame {\n  graphic?: Graphic;\n  duration?: number; // number of ms the frame should be visible, overrides the animation duration\n}\n\nexport interface AnimationOptions {\n  frames: Frame[];\n  frameDuration?: number;\n  strategy?: AnimationStrategy;\n}\n\n// TODO wire up to new Emitter\nexport type AnimationEvents = {\n  frame: Frame;\n  loop: Animation;\n  ended: Animation;\n};\n\nexport class Animation extends Graphic implements HasTick {\n  public events = new EventDispatcher<any>(this); // TODO replace with new Emitter\n  public frames: Frame[] = [];\n  public strategy: AnimationStrategy = AnimationStrategy.Loop;\n  public frameDuration: number = 100;\n  public timeScale: number = 1;\n\n  private _idempotencyToken = -1;\n\n  private _firstTick = true;\n  private _currentFrame = 0;\n  private _timeLeftInFrame = 0;\n  private _direction = 1;\n  private _done = false;\n  private _playing = true;\n\n  constructor(options: GraphicOptions & AnimationOptions) {\n    super(options);\n    this.frames = options.frames;\n    this.strategy = options.strategy ?? this.strategy;\n    this.frameDuration = options.frameDuration ?? this.frameDuration;\n\n    this.goToFrame(0);\n  }\n\n  public clone(): Animation {\n    return new Animation({\n      frames: this.frames.map((f) => ({ ...f })),\n      frameDuration: this.frameDuration,\n      strategy: this.strategy,\n      ...this.cloneGraphicOptions()\n    });\n  }\n\n  public static fromSpriteSheet(\n    spriteSheet: SpriteSheet,\n    frameIndices: number[],\n    duration: number,\n    strategy: AnimationStrategy = AnimationStrategy.Loop\n  ): Animation {\n    return new Animation({\n      frames: spriteSheet.sprites\n        .filter((_, index) => frameIndices.indexOf(index) > -1)\n        .map((f) => ({\n          graphic: f,\n          duration: duration\n        })),\n      strategy: strategy\n    });\n  }\n\n  public get currentFrame(): Frame | null {\n    if (this._currentFrame >= 0 && this._currentFrame < this.frames.length) {\n      return this.frames[this._currentFrame];\n    }\n    return null;\n  }\n\n  public get isPlaying(): boolean {\n    return this._playing;\n  }\n\n  public play(): void {\n    this._playing = true;\n  }\n\n  public pause(): void {\n    this._playing = false;\n    this._firstTick = true;\n  }\n\n  public reset(): void {\n    this._done = false;\n    this._firstTick = true;\n    this._currentFrame = 0;\n  }\n\n  public get canFinish(): boolean {\n    switch (this.strategy) {\n      case AnimationStrategy.End:\n      case AnimationStrategy.Freeze: {\n        return true;\n      }\n      default: {\n        return false;\n      }\n    }\n  }\n\n  public get done(): boolean {\n    return this._done;\n  }\n\n  public goToFrame(frameNumber: number) {\n    this._currentFrame = frameNumber;\n    this._timeLeftInFrame = this.frameDuration;\n    const maybeFrame = this.frames[this._currentFrame];\n    if (maybeFrame && !this._done) {\n      this._timeLeftInFrame = maybeFrame?.duration || this.frameDuration;\n      this.width = maybeFrame.graphic?.width;\n      this.height = maybeFrame.graphic?.height;\n      this.events.emit('frame', maybeFrame as any);\n    }\n  }\n\n  private _nextFrame(): number {\n    const currentFrame = this._currentFrame;\n    if (this._done) {\n      return currentFrame;\n    }\n    let next = -1;\n\n    switch (this.strategy) {\n      case AnimationStrategy.Loop: {\n        next = (currentFrame + 1) % this.frames.length;\n        if (next === 0) {\n          this.events.emit('loop', this as any);\n        }\n        break;\n      }\n      case AnimationStrategy.End: {\n        next = currentFrame + 1;\n        if (next >= this.frames.length) {\n          this._done = true;\n          this._currentFrame = this.frames.length;\n          this.events.emit('end', this as any);\n        }\n        break;\n      }\n      case AnimationStrategy.Freeze: {\n        next = clamp(currentFrame + 1, 0, this.frames.length - 1);\n        if (next >= this.frames.length - 1) {\n          this._done = true;\n          this.events.emit('end', this as any);\n        }\n        break;\n      }\n      case AnimationStrategy.PingPong: {\n        if (currentFrame + this._direction >= this.frames.length) {\n          this._direction = -1;\n          this.events.emit('loop', this as any);\n        }\n\n        if (currentFrame + this._direction < 0) {\n          this._direction = 1;\n          this.events.emit('loop', this as any);\n        }\n\n        next = currentFrame + (this._direction % this.frames.length);\n        break;\n      }\n    }\n    return next;\n  }\n\n  public tick(elapsedMilliseconds: number, idempotencyToken: number = 0) {\n    if (this._idempotencyToken === idempotencyToken) {\n      return;\n    }\n    this._idempotencyToken = idempotencyToken;\n    if (!this._playing) {\n      return;\n    }\n\n    // if it's the first frame emit frame event\n    if (this._firstTick) {\n      this._firstTick = false;\n      this.events.emit('frame', this.currentFrame as any);\n    }\n\n    this._timeLeftInFrame -= elapsedMilliseconds * this.timeScale;\n    if (this._timeLeftInFrame <= 0) {\n      this.goToFrame(this._nextFrame());\n    }\n    this._updateDimensions();\n  }\n\n  private _updateDimensions() {\n    if (this.currentFrame) {\n      this.width = this.currentFrame.graphic?.width;\n      this.height = this.currentFrame.graphic?.height;\n    }\n  }\n\n  protected _drawImage(ctx: ExcaliburGraphicsContext, x: number, y: number) {\n    if (this.currentFrame) {\n      this.currentFrame.graphic.draw(ctx, x, y);\n    }\n  }\n}\n","import { Vector } from '../Algebra';\nimport { Graphic, GraphicOptions } from './Graphic';\nimport { Animation, HasTick } from './Animation';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { BoundingBox } from '../Collision/Index';\n\nexport interface GraphicsGroupingOptions {\n  members: GraphicsGrouping[];\n}\n\nexport interface GraphicsGrouping {\n  pos: Vector;\n  graphic: Graphic;\n}\n\nexport class GraphicsGroup extends Graphic implements HasTick {\n  public members: GraphicsGrouping[] = [];\n\n  constructor(options: GraphicsGroupingOptions & GraphicOptions) {\n    super(options);\n    this.members = options.members;\n    this._updateDimensions();\n  }\n\n  public clone(): GraphicsGroup {\n    return new GraphicsGroup({\n      members: [...this.members],\n      ...this.cloneGraphicOptions()\n    });\n  }\n\n  private _updateDimensions(): BoundingBox {\n    let bb = new BoundingBox();\n    for (const { graphic, pos } of this.members) {\n      bb = graphic.localBounds.translate(pos).combine(bb);\n    }\n\n    this.width = bb.width;\n    this.height = bb.height;\n\n    return bb;\n  }\n\n  public get localBounds(): BoundingBox {\n    let bb = new BoundingBox();\n    for (const { graphic, pos } of this.members) {\n      bb = graphic.localBounds.translate(pos).combine(bb);\n    }\n    return bb;\n  }\n\n  private _isAnimationOrGroup(graphic: Graphic): graphic is Animation | GraphicsGroup {\n    return graphic instanceof Animation || graphic instanceof GraphicsGroup;\n  }\n\n  public tick(elapsedMilliseconds: number, idempotencyToken?: number) {\n    for (const member of this.members) {\n      const maybeAnimation = member.graphic;\n      if (this._isAnimationOrGroup(maybeAnimation)) {\n        maybeAnimation.tick(elapsedMilliseconds, idempotencyToken);\n      }\n    }\n  }\n\n  public reset() {\n    for (const member of this.members) {\n      const maybeAnimation = member.graphic;\n      if (this._isAnimationOrGroup(maybeAnimation)) {\n        maybeAnimation.reset();\n      }\n    }\n  }\n\n  protected _preDraw(ex: ExcaliburGraphicsContext, x: number, y: number) {\n    this._updateDimensions();\n    super._preDraw(ex, x, y);\n  }\n\n  protected _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number) {\n    for (const member of this.members) {\n      ex.save();\n      ex.translate(x, y);\n      member.graphic.draw(ex, member.pos.x, member.pos.y);\n      if (this.showDebug) {\n        /* istanbul ignore next */\n        ex.debug.drawRect(0, 0, this.width, this.height);\n      }\n      ex.restore();\n    }\n  }\n}\n","import { Vector, vec } from '../Algebra';\nimport { Graphic } from './Graphic';\nimport { Animation } from './Animation';\nimport { GraphicsGroup } from './GraphicsGroup';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { Logger } from '../Util/Log';\nimport { BoundingBox } from '../Collision/Index';\nimport { Component } from '../EntityComponentSystem/Component';\n\nexport interface GraphicsShowOptions {\n  offset?: Vector;\n  anchor?: Vector;\n}\n\nexport interface GraphicsComponentOptions {\n  onPostDraw?: (ex: ExcaliburGraphicsContext, elapsed: number) => void;\n  onPreDraw?: (ex: ExcaliburGraphicsContext, elapsed: number) => void;\n\n  /**\n   * Name of current graphic to use\n   */\n  current?: string;\n\n  /**\n   * Optionally copy instances of graphics by calling .clone(), you may set this to false to avoid sharing graphics when added to the\n   * component for performance reasons. By default graphics are not copied and are shared when added to the component.\n   */\n  copyGraphics?: boolean;\n\n  /**\n   * Optional visible flag, if the graphics component is not visible it will not be displayed\n   */\n  visible?: boolean;\n\n  /**\n   * Optional opacity\n   */\n  opacity?: number;\n\n  /**\n   * List of graphics\n   */\n  graphics?: { [graphicName: string]: Graphic };\n\n  /**\n   * Optional offset in absolute pixels to shift all graphics in this component from each graphic's anchor (default is top left corner)\n   */\n  offset?: Vector;\n\n  /**\n   * Optional anchor\n   */\n  anchor?: Vector;\n}\n\nexport interface GraphicsLayerOptions {\n  /**\n   * Name of the layer required, for example 'background'\n   */\n  name: string;\n  /**\n   * Order of the layer, a layer with order -1 will be below a layer with order of 1\n   */\n  order: number;\n  /**\n   * Offset to shift the entire layer\n   */\n  offset?: Vector;\n}\nexport class GraphicsLayer {\n  public graphics: { graphic: Graphic; options: GraphicsShowOptions }[] = [];\n  constructor(private _options: GraphicsLayerOptions, private _graphics: GraphicsComponent) {}\n  public get name(): string {\n    return this._options.name;\n  }\n\n  /**\n   * Remove any instance(s) of a graphic currently being shown in this layer\n   */\n  public hide(nameOrGraphic: string | Graphic): void;\n  /**\n   * Remove all currently shown graphics in this layer\n   */\n  public hide(): void;\n  public hide(nameOrGraphic?: string | Graphic): void {\n    if (!nameOrGraphic) {\n      this.graphics.length = 0;\n    } else {\n      let gfx: Graphic = null;\n      if (nameOrGraphic instanceof Graphic) {\n        gfx = nameOrGraphic;\n      } else {\n        gfx = this._graphics.getGraphic(nameOrGraphic);\n      }\n      this.graphics = this.graphics.filter((g) => g.graphic !== gfx);\n    }\n  }\n\n  /**\n   * Show a graphic by name or instance at an offset, graphics are shown in the order in which `show()` is called.\n   *\n   * If `show()` is called multiple times for the same graphic it will be shown multiple times.\n   * @param nameOrGraphic\n   * @param options\n   */\n  public show<T extends Graphic = Graphic>(nameOrGraphic: string | T, options?: GraphicsShowOptions): T {\n    options = { offset: this._graphics.offset.clone(), anchor: this._graphics.anchor.clone(), ...options };\n    let gfx: Graphic;\n    if (nameOrGraphic instanceof Graphic) {\n      gfx = this._graphics.copyGraphics ? nameOrGraphic.clone() : nameOrGraphic;\n    } else {\n      gfx = this._graphics.getGraphic(nameOrGraphic);\n      if (!gfx) {\n        Logger.getInstance().error(\n          `No such graphic added to component named ${nameOrGraphic}. These named graphics are available: `,\n          this._graphics.getNames()\n        );\n      }\n    }\n    if (gfx) {\n      this.graphics.push({ graphic: gfx, options });\n      return gfx as T;\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Use a specific graphic, swap out any current graphics being shown\n   * @param nameOrGraphic\n   * @param options\n   */\n  public use<T extends Graphic = Graphic>(nameOrGraphic: string | T, options?: GraphicsShowOptions): T {\n    options = { offset: this._graphics.offset.clone(), anchor: this._graphics.anchor.clone(), ...options };\n    this.hide();\n    return this.show<T>(nameOrGraphic, options);\n  }\n\n  /**\n   * Current order of the layer, higher numbers are on top, lower numbers are on the bottom.\n   *\n   * For example a layer with `order = -1` would be under a layer of `order = 1`\n   */\n  public get order(): number {\n    return this._options.order;\n  }\n\n  /**\n   * Set the order of the layer, higher numbers are on top, lower numbers are on the bottom.\n   *\n   * For example a layer with `order = -1` would be under a layer of `order = 1`\n   */\n  public set order(order: number) {\n    this._options.order = order;\n  }\n\n  /**\n   * Get or set the pixel offset from the layer anchor for all graphics in the layer\n   */\n  public get offset(): Vector {\n    return this._options.offset ?? Vector.Zero;\n  }\n\n  public set offset(value: Vector) {\n    this._options.offset = value;\n  }\n}\n\nexport class GraphicsLayers {\n  private _layers: GraphicsLayer[] = [];\n  private _layerMap: { [layerName: string]: GraphicsLayer } = {};\n  public default: GraphicsLayer;\n  constructor(private _component: GraphicsComponent) {\n    this.default = new GraphicsLayer({ name: 'default', order: 0 }, _component);\n    this._maybeAddLayer(this.default);\n  }\n  public create(options: GraphicsLayerOptions): GraphicsLayer {\n    const layer = new GraphicsLayer(options, this._component);\n    return this._maybeAddLayer(layer);\n  }\n\n  /**\n   * Retrieve a single layer by name\n   * @param name\n   */\n  public get(name: string): GraphicsLayer;\n  /**\n   * Retrieve all layers\n   */\n  public get(): readonly GraphicsLayer[];\n  public get(name?: string): GraphicsLayer | readonly GraphicsLayer[] {\n    if (name) {\n      return this._getLayer(name);\n    }\n    return this._layers;\n  }\n\n  public has(name: string): boolean {\n    return name in this._layerMap;\n  }\n\n  private _maybeAddLayer(layer: GraphicsLayer) {\n    if (this._layerMap[layer.name]) {\n      // todo log warning\n      return this._layerMap[layer.name];\n    }\n    this._layerMap[layer.name] = layer;\n    this._layers.push(layer);\n    this._layers.sort((a, b) => a.order - b.order);\n    return layer;\n  }\n\n  private _getLayer(name: string): GraphicsLayer | undefined {\n    return this._layerMap[name];\n  }\n}\n\n/**\n * Component to manage drawings, using with the position component\n */\nexport class GraphicsComponent extends Component<'graphics'> {\n  static type: 'graphics';\n  readonly type = 'graphics';\n\n  private _graphics: { [graphicName: string]: Graphic } = {};\n\n  public layers: GraphicsLayers;\n\n  public getGraphic(name: string): Graphic | undefined {\n    return this._graphics[name];\n  }\n\n  /**\n   * Get registered graphics names\n   */\n  public getNames(): string[] {\n    return Object.keys(this._graphics);\n  }\n\n  public onPreDraw: (ctx: ExcaliburGraphicsContext, elapsedMilliseconds: number) => void;\n  public onPostDraw: (ctx: ExcaliburGraphicsContext, elapsedMilliseconds: number) => void;\n\n  /**\n   * Sets or gets wether any drawing should be visible in this component\n   */\n  public visible: boolean = true;\n\n  /**\n   * Sets or gets wither all drawings should have an opacity applied\n   */\n  public opacity: number = 1;\n\n  /**\n   * Offset to apply to graphics by default\n   */\n  public offset: Vector = Vector.Zero;\n\n  /**\n   * Anchor to apply to graphics by default\n   */\n  public anchor: Vector = Vector.Half;\n\n  /**\n   * If set to true graphics added to the component will be copied. This can affect performance\n   */\n  public copyGraphics: boolean = false;\n\n  constructor(options?: GraphicsComponentOptions) {\n    super();\n    // Defaults\n    options = {\n      visible: this.visible,\n      ...options\n    };\n\n    const { current, anchor, opacity, visible, graphics, offset, copyGraphics, onPreDraw, onPostDraw } = options;\n\n    this._graphics = graphics || {};\n    this.offset = offset ?? this.offset;\n    this.opacity = opacity ?? this.opacity;\n    this.anchor = anchor ?? this.anchor;\n    this.copyGraphics = copyGraphics ?? this.copyGraphics;\n    this.onPreDraw = onPreDraw ?? this.onPreDraw;\n    this.onPostDraw = onPostDraw ?? this.onPostDraw;\n    this.visible = !!visible;\n\n    this.layers = new GraphicsLayers(this);\n    if (current && this._graphics[current]) {\n      this.show(this._graphics[current]);\n    }\n  }\n\n  /**\n   * Returns the currently displayed graphics and their offsets, empty array if hidden\n   */\n  public get current(): { graphic: Graphic; options: GraphicsShowOptions }[] {\n    return this.layers.default.graphics;\n  }\n\n  /**\n   * Returns all graphics associated with this component\n   */\n  public get graphics(): { [graphicName: string]: Graphic } {\n    return this._graphics;\n  }\n\n  /**\n   * Adds a named graphic to this component, if the name is \"default\" or not specified, it will be shown by default without needing to call\n   * `show(\"default\")`\n   * @param graphic\n   */\n  public add(graphic: Graphic): Graphic;\n  public add(name: string, graphic: Graphic): Graphic;\n  public add(nameOrGraphic: string | Graphic, graphic?: Graphic): Graphic {\n    let name = 'default';\n    let graphicToSet: Graphic = null;\n    if (typeof nameOrGraphic === 'string') {\n      name = nameOrGraphic;\n      graphicToSet = graphic;\n    } else {\n      graphicToSet = nameOrGraphic;\n    }\n\n    this._graphics[name] = this.copyGraphics ? graphicToSet.clone() : graphicToSet;\n    if (name === 'default') {\n      this.show('default');\n    }\n    return graphicToSet;\n  }\n\n  /**\n   * Show a graphic by name on the **default** layer, returns the new [[Graphic]]\n   */\n  public show<T extends Graphic = Graphic>(nameOrGraphic: string | T, options?: GraphicsShowOptions): T {\n    return this.layers.default.show<T>(nameOrGraphic, options);\n  }\n\n  /**\n   * Use a graphic only, swap out any graphics on the **default** layer, returns the new [[Graphic]]\n   * @param nameOrGraphic\n   * @param options\n   */\n  public use<T extends Graphic = Graphic>(nameOrGraphic: string | T, options?: GraphicsShowOptions): T {\n    return this.layers.default.use<T>(nameOrGraphic, options);\n  }\n\n  /**\n   * Remove any instance(s) of a graphic currently being shown in the **default** layer\n   */\n  public hide(nameOrGraphic: string | Graphic): void;\n  /**\n   * Remove all currently shown graphics in the **default** layer\n   */\n  public hide(): void;\n  public hide(nameOrGraphic?: string | Graphic): void {\n    this.layers.default.hide(nameOrGraphic);\n  }\n\n  private _isAnimationOrGroup(graphic: Graphic): graphic is Animation | GraphicsGroup {\n    return graphic instanceof Animation || graphic instanceof GraphicsGroup;\n  }\n\n  private _bounds: BoundingBox = null;\n  public set localBounds(bounds: BoundingBox) {\n    this._bounds = bounds;\n  }\n\n  public get localBounds(): BoundingBox {\n    if (this._bounds) {\n      return this._bounds;\n    }\n    let bb = new BoundingBox();\n    for (const layer of this.layers.get()) {\n      for (const {\n        graphic,\n        options: { offset, anchor }\n      } of layer.graphics) {\n        const bounds = graphic.localBounds;\n        const offsetX = -bounds.width * graphic.scale.x * anchor.x + offset.x;\n        const offsetY = -bounds.height * graphic.scale.y * anchor.y + offset.y;\n        bb = graphic?.localBounds.translate(vec(offsetX + layer.offset.x, offsetY + layer.offset.y)).combine(bb);\n      }\n    }\n    return bb;\n  }\n\n  /**\n   * Update underlying graphics if necesary, called internally\n   * @param elapsed\n   * @internal\n   */\n  public update(elapsed: number, idempotencyToken: number = 0) {\n    for (const layer of this.layers.get()) {\n      for (const { graphic } of layer.graphics) {\n        if (this._isAnimationOrGroup(graphic)) {\n          graphic?.tick(elapsed, idempotencyToken);\n        }\n      }\n    }\n  }\n\n}\n","/**\n * Checks if the current number is a power of two\n */\nexport function isPowerOfTwo(x: number): boolean {\n  return (x & (x - 1)) === 0;\n}\n\n/**\n * Returns the next highest power of two\n */\nexport function nextHighestPowerOfTwo(x: number): number {\n  --x;\n  for (let i = 1; i < 32; i <<= 1) {\n    x = x | (x >> i);\n  }\n  return x + 1;\n}\n\n/**\n * Returns the input number if a power of two, otherwise the next highest power of two\n */\nexport function ensurePowerOfTwo(x: number): number {\n  if (!isPowerOfTwo(x)) {\n    return nextHighestPowerOfTwo(x);\n  }\n  return x;\n}\n","/**\n * Watch an object with a proxy\n */\nexport function watch<T extends object>(type: T, change: (type: T) => any): T {\n  if (!type) {\n    return type;\n  }\n  if ((type as any).__isProxy === undefined) {\n    // expando hack to mark a proxy\n    return new Proxy(type, {\n      set: (obj, prop, value) => {\n        // The default behavior to store the value\n        if ((obj as any)[prop] !== value) {\n          (obj as any)[prop] = value;\n          // Avoid watching private junk\n          if (typeof prop === 'string') {\n            if (prop[0] !== '_') {\n              change(obj);\n            }\n          }\n        }\n        // Indicate success\n        return true;\n      },\n      get: (obj, prop) => {\n        if (prop !== '__isProxy') {\n          return (obj as any)[prop];\n        }\n        return true;\n      }\n    });\n  }\n  return type;\n}\n","import { HTMLImageSource } from './ExcaliburGraphicsContext';\nimport { ensurePowerOfTwo, isPowerOfTwo } from './webgl-util';\n\n/**\n * Manages loading image sources into webgl textures, a unique id is associated with all sources\n */\nexport class TextureLoader {\n  private static _POT_CANVAS = document.createElement('canvas');\n  private static _POT_CTX = TextureLoader._POT_CANVAS.getContext('2d');\n\n  private static _GL: WebGLRenderingContext;\n\n  private static _TEXTURE_MAP = new Map<HTMLImageSource, WebGLTexture>();\n\n  public static registerContext(context: WebGLRenderingContext): void {\n    TextureLoader._GL = context;\n  }\n\n  /**\n   * Get [[WebGLTexture]] from a source image\n   * @param image\n   */\n  public static get(image: HTMLImageSource): WebGLTexture {\n    return TextureLoader._TEXTURE_MAP.get(image);\n  }\n\n  /**\n   * Returns whether a source image has been loaded as a texture\n   * @param image\n   */\n  public static has(image: HTMLImageSource): boolean {\n    return TextureLoader._TEXTURE_MAP.has(image);\n  }\n\n  /**\n   * Loads a graphic into webgl and returns it's texture info, a webgl context must be previously registered\n   * @param image Source graphic\n   * @param forceUpdate Optionally force a texture to be reloaded, useful if the source graphic has changed\n   */\n  public static load(image: HTMLImageSource, forceUpdate = false): WebGLTexture {\n    // Ignore loading if webgl is not registered\n    const gl = TextureLoader._GL;\n    if (!gl) {\n      return null;\n    }\n\n    let tex: WebGLTexture = null;\n    // If reuse the texture if it's from the same source\n    if (TextureLoader.has(image)) {\n      tex = TextureLoader.get(image);\n    }\n\n    // Update existing webgl texture and return early\n    if (tex) {\n      if (forceUpdate) {\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        const source = TextureLoader.toPowerOfTwoImage(image);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n      }\n      return tex;\n    }\n\n    // No texture exists create a new one\n    tex = gl.createTexture();\n    const source = TextureLoader.toPowerOfTwoImage(image);\n\n    gl.bindTexture(gl.TEXTURE_2D, tex);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n    // NEAREST for pixels\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n\n    TextureLoader._TEXTURE_MAP.set(image, tex);\n    return tex;\n  }\n\n  /**\n   * Converts source images into power of two images, WebGL only supports POT images\n   * https://www.khronos.org/webgl/wiki/WebGL_and_OpenGL_Differences#Non-Power_of_Two_Texture_Support\n   * @param image\n   */\n  public static toPowerOfTwoImage(image: HTMLImageSource): HTMLImageSource {\n    const potCanvas = TextureLoader._POT_CANVAS;\n    const potCtx = TextureLoader._POT_CTX;\n    if (!isPowerOfTwo(image.width) || !isPowerOfTwo(image.height)) {\n      // Scale up the texture to the next highest power of two dimensions.\n\n      potCanvas.width = ensurePowerOfTwo(image.width);\n      potCanvas.height = ensurePowerOfTwo(image.height);\n      potCtx.imageSmoothingEnabled = false;\n      potCtx.clearRect(0, 0, potCanvas.width, potCanvas.height);\n      potCtx.drawImage(image, 0, 0, image.width, image.height);\n      image = potCanvas;\n    }\n    return image;\n  }\n}\n","import { Graphic, GraphicOptions } from './Graphic';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { Color } from '../Drawing/Color';\nimport { ensurePowerOfTwo } from './Context/webgl-util';\nimport { Vector } from '../Algebra';\nimport { BoundingBox } from '../Collision/BoundingBox';\nimport { watch } from '../Util/Watch';\nimport { TextureLoader } from './Context/texture-loader';\n\nexport interface RasterOptions {\n  smoothing?: boolean;\n  color?: Color;\n  strokeColor?: Color;\n  lineWidth?: number;\n  lineDash?: number[];\n  padding?: number;\n}\n\n/**\n * A Raster is a Graphic that needs to be first painted to a HTMLCanvasElement before it can be drawn to the\n * [[ExcaliburGraphicsContext]]. This is useful for generating custom images using the 2D canvas api.\n *\n * Implementors must implemenet the [[Raster.execute]] method to rasterize their drawing.\n */\nexport abstract class Raster extends Graphic {\n  public _bitmap: HTMLCanvasElement;\n  protected _ctx: CanvasRenderingContext2D;\n  private _dirty: boolean = true;\n\n  constructor(options?: GraphicOptions & RasterOptions) {\n    super(options);\n    if (options) {\n      this.color = options.color ?? Color.Black;\n      this.strokeColor = options?.strokeColor;\n      this.smoothing = options.smoothing ?? this.smoothing;\n      this.lineWidth = options.lineWidth ?? this.lineWidth;\n      this.lineDash = options.lineDash ?? this.lineDash;\n      this.padding = options.padding ?? this.padding;\n    }\n\n    this._bitmap = document.createElement('canvas');\n    const bitmapWidth = options?.width ?? this._bitmap.width;\n    const bitmapHeight = options?.height ?? this._bitmap.height;\n    // Rasters use power of two images as an optimization for webgl\n    this._bitmap.width = ensurePowerOfTwo(bitmapWidth);\n    this._bitmap.height = ensurePowerOfTwo(bitmapHeight);\n    const maybeCtx = this._bitmap.getContext('2d');\n    if (!maybeCtx) {\n      /* istanbul ignore next */\n      throw new Error('Browser does not support 2d canvas drawing, cannot create Raster graphic');\n    } else {\n      this._ctx = maybeCtx;\n    }\n  }\n\n  public cloneRasterOptions(): RasterOptions {\n    return {\n      color: this.color ? this.color.clone() : null,\n      strokeColor: this.strokeColor ? this.strokeColor.clone() : null,\n      smoothing: this.smoothing,\n      lineWidth: this.lineWidth,\n      lineDash: this.lineDash,\n      padding: this.padding\n    };\n  }\n\n  /**\n   * Gets whether the graphic is dirty, this means there are changes that haven't been re-rasterized\n   */\n  public get dirty() {\n    return this._dirty;\n  }\n\n  /**\n   * Flags the graphic as dirty, meaning it must be re-rasterized before draw.\n   * This should be called any time the graphics state changes such that it affects the outputed drawing\n   */\n  public flagDirty() {\n    this._dirty = true;\n  }\n\n  /**\n   * Gets or sets the current width of the Raster graphic. Setting the width will cause the raster\n   * to be flagged dirty causing a re-raster on the next draw.\n   */\n  public get width() {\n    return this._bitmap.width;\n  }\n  public set width(value: number) {\n    this._bitmap.width = value;\n    this.flagDirty();\n  }\n\n  /**\n   * Gets or sets the current height of the Raster graphic. Setting the height will cause the raster\n   * to be flagged dirty causing a re-raster on the next draw.\n   */\n  public get height() {\n    return this._bitmap.height;\n  }\n  public set height(value: number) {\n    this._bitmap.height = value;\n    this.flagDirty();\n  }\n\n  public get localBounds() {\n    return BoundingBox.fromDimension(this.width * this.scale.x, this.height * this.scale.y, Vector.Zero);\n  }\n\n  private _smoothing: boolean = false;\n  /**\n   * Gets or sets the smoothing (anti-aliasing of the graphic). Setting the height will cause the raster\n   * to be flagged dirty causing a re-raster on the next draw.\n   */\n  public get smoothing() {\n    return this._smoothing;\n  }\n  public set smoothing(value: boolean) {\n    this._smoothing = value;\n    this.flagDirty();\n  }\n\n  private _color: Color = watch(Color.Black, () => this.flagDirty());\n  /**\n   * Gets or sets the fillStyle of the Raster graphic. Setting the fillStyle will cause the raster to be\n   * flagged dirty causing a re-raster on the next draw.\n   */\n  public get color() {\n    return this._color;\n  }\n  public set color(value) {\n    if (!this._color?.equal(value)) {\n      this.flagDirty();\n    }\n    this._color = watch(value, () => this.flagDirty());\n  }\n\n  private _strokeColor: Color;\n  /**\n   * Gets or sets the strokeStyle of the Raster graphic. Setting the strokeStyle will cause the raster to be\n   * flagged dirty causing a re-raster on the next draw.\n   */\n  public get strokeColor() {\n    return this._strokeColor;\n  }\n  public set strokeColor(value) {\n    if (!this._strokeColor?.equal(value)) {\n      this.flagDirty();\n    }\n    this._strokeColor = watch(value, () => this.flagDirty());\n  }\n\n  private _lineWidth: number = 1;\n  /**\n   * Gets or sets the line width of the Raster graphic. Setting the lineWidth will cause the raster to be\n   * flagged dirty causing a re-raster on the next draw.\n   */\n  public get lineWidth() {\n    return this._lineWidth;\n  }\n  public set lineWidth(value) {\n    this._lineWidth = value;\n    this.flagDirty();\n  }\n\n  private _lineDash: number[] = [];\n  public get lineDash() {\n    return this._lineDash;\n  }\n\n  public set lineDash(value) {\n    this._lineDash = value;\n    this.flagDirty();\n  }\n\n  private _padding: number = 0;\n  public get padding() {\n    return this._padding;\n  }\n\n  public set padding(value: number) {\n    this._padding = value;\n    this.flagDirty();\n  }\n\n  /**\n   * Rasterize the graphic to a bitmap making it usuable as in excalibur. Rasterize is called automatically if\n   * the graphic is [[Raster.dirty]] on the next [[Graphic.draw]] call\n   */\n  public rasterize(): void {\n    this._dirty = false;\n    this._ctx.clearRect(0, 0, this.width, this.height);\n    this._ctx.save();\n    this._applyRasterProperites(this._ctx);\n    this.execute(this._ctx);\n    this._ctx.restore();\n    // The webgl texture needs to be updated if it exists after a raster cycle\n    TextureLoader.load(this._bitmap, true);\n  }\n\n  protected _applyRasterProperites(ctx: CanvasRenderingContext2D) {\n    this._bitmap.width = this._bitmap.width + this.padding * 2;\n    this._bitmap.height = this._bitmap.height + this.padding * 2;\n    ctx.translate(this.padding, this.padding);\n    ctx.imageSmoothingEnabled = this.smoothing;\n    ctx.lineWidth = this.lineWidth;\n    ctx.setLineDash(this.lineDash ?? ctx.getLineDash());\n    ctx.strokeStyle = this.strokeColor?.toString();\n    ctx.fillStyle = this.color?.toString();\n  }\n\n  protected _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number) {\n    if (this._dirty) {\n      this.rasterize();\n    }\n\n    ex.drawImage(this._bitmap, x, y);\n  }\n\n  /**\n   * Executes drawing implemenation of the graphic, this is where the specific drawing code for the graphic\n   * should be implemented. Once `rasterize()` the graphic can be drawn to the [[ExcaliburGraphicsContext]] via `draw(...)`\n   * @param ctx Canvas to draw the graphic to\n   */\n  abstract execute(ctx: CanvasRenderingContext2D): void;\n}\n","import { Raster, RasterOptions } from './Raster';\n\nexport interface RectangleOptions {\n  width: number;\n  height: number;\n}\n\n/**\n * A Rectangle [[Graphic]] for drawing rectangles to the [[ExcaliburGraphicsContext]]\n */\nexport class Rectangle extends Raster {\n  constructor(options: RasterOptions & RectangleOptions) {\n    super(options);\n    this.width = options.width;\n    this.height = options.height;\n    this.rasterize();\n  }\n\n  public clone(): Rectangle {\n    return new Rectangle({\n      width: this.width,\n      height: this.height,\n      ...this.cloneGraphicOptions(),\n      ...this.cloneRasterOptions()\n    });\n  }\n\n  execute(ctx: CanvasRenderingContext2D): void {\n    if (this.color) {\n      ctx.fillRect(0, 0, this.width, this.height);\n    }\n    if (this.strokeColor) {\n      ctx.strokeRect(0, 0, this.width, this.height);\n    }\n  }\n}\n","import { Texture } from './Resources/Texture';\nimport {\n  InitializeEvent,\n  KillEvent,\n  PreUpdateEvent,\n  PostUpdateEvent,\n  PreDrawEvent,\n  PostDrawEvent,\n  PreDebugDrawEvent,\n  PostDebugDrawEvent,\n  PostCollisionEvent,\n  PreCollisionEvent,\n  CollisionStartEvent,\n  CollisionEndEvent,\n  PostKillEvent,\n  PreKillEvent,\n  GameEvent,\n  ExitTriggerEvent,\n  EnterTriggerEvent,\n  EnterViewPortEvent,\n  ExitViewPortEvent\n} from './Events';\nimport { PointerEvent, WheelEvent, PointerDragEvent, PointerEventName } from './Input/PointerEvents';\nimport { Engine } from './Engine';\nimport { Color } from './Drawing/Color';\nimport { Sprite } from './Drawing/Sprite';\nimport { Animation } from './Drawing/Animation';\nimport { Trait } from './Interfaces/Trait';\nimport { Drawable } from './Interfaces/Drawable';\nimport { CanInitialize, CanUpdate, CanDraw, CanBeKilled } from './Interfaces/LifecycleEvents';\nimport { Scene } from './Scene';\nimport { Logger } from './Util/Log';\nimport { ActionContext } from './Actions/ActionContext';\nimport { ActionQueue } from './Actions/Action';\nimport { vec, Vector } from './Algebra';\nimport { Body } from './Collision/Body';\nimport { Eventable } from './Interfaces/Evented';\nimport { Actionable } from './Actions/Actionable';\nimport { Configurable } from './Configurable';\nimport * as Traits from './Traits/Index';\nimport * as Events from './Events';\nimport { PointerEvents } from './Interfaces/PointerEventHandlers';\nimport { CollisionType } from './Collision/CollisionType';\nimport { obsolete } from './Util/Decorators';\nimport { Collider } from './Collision/Collider';\nimport { Shape } from './Collision/Shape';\n\nimport { Entity } from './EntityComponentSystem/Entity';\nimport { CanvasDrawComponent } from './Drawing/CanvasDrawComponent';\nimport { TransformComponent } from './EntityComponentSystem/Components/TransformComponent';\nimport { GraphicsComponent } from './Graphics/GraphicsComponent';\nimport { Rectangle } from './Graphics/Rectangle';\nimport { Flags, Legacy } from './Flags';\n\n/**\n * Type guard for checking if something is an Actor\n * @param x\n */\nexport function isActor(x: any): x is Actor {\n  return x instanceof Actor;\n}\n\nexport interface ActorArgs extends Partial<ActorImpl> {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n  pos?: Vector;\n  vel?: Vector;\n  acc?: Vector;\n  rotation?: number;\n  rx?: number;\n  z?: number;\n  color?: Color;\n  visible?: boolean;\n  body?: Body;\n  collisionType?: CollisionType;\n}\n\nexport interface ActorDefaults {\n  anchor: Vector;\n}\n\n/**\n * @hidden\n */\n\nexport class ActorImpl\n  extends Entity\n  implements Actionable, Eventable, PointerEvents, CanInitialize, CanUpdate, CanDraw, CanBeKilled {\n  // #region Properties\n\n  /**\n   * Indicates the next id to be set\n   */\n  public static defaults: ActorDefaults = {\n    anchor: Vector.Half\n  };\n\n  /**\n   * The physics body the is associated with this actor. The body is the container for all physical properties, like position, velocity,\n   * acceleration, mass, inertia, etc.\n   */\n  public get body(): Body {\n    return this._body;\n  }\n\n  public set body(body: Body) {\n    this._body = body;\n    this._body.actor = this;\n  }\n\n  private _body: Body;\n\n  /**\n   * Gets the position vector of the actor in pixels\n   */\n  public get pos(): Vector {\n    return this.body.pos;\n  }\n\n  /**\n   * Sets the position vector of the actor in pixels\n   */\n  public set pos(thePos: Vector) {\n    this.body.pos = thePos;\n  }\n\n  /**\n   * Gets the position vector of the actor from the last frame\n   */\n  public get oldPos(): Vector {\n    return this.body.oldPos;\n  }\n\n  /**\n   * Sets the position vector of the actor in the last frame\n   */\n  public set oldPos(thePos: Vector) {\n    this.body.oldPos.setTo(thePos.x, thePos.y);\n  }\n\n  /**\n   * Gets the velocity vector of the actor in pixels/sec\n   */\n  public get vel(): Vector {\n    return this.body.vel;\n  }\n\n  /**\n   * Sets the velocity vector of the actor in pixels/sec\n   */\n  public set vel(theVel: Vector) {\n    this.body.vel.setTo(theVel.x, theVel.y);\n  }\n\n  /**\n   * Gets the velocity vector of the actor from the last frame\n   */\n  public get oldVel(): Vector {\n    return this.body.oldVel;\n  }\n\n  /**\n   * Sets the velocity vector of the actor from the last frame\n   */\n  public set oldVel(theVel: Vector) {\n    this.body.oldVel.setTo(theVel.x, theVel.y);\n  }\n\n  /**\n   * Gets the acceleration vector of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may be\n   * useful to simulate a gravitational effect.\n   */\n  public get acc(): Vector {\n    return this.body.acc;\n  }\n\n  /**\n   * Sets the acceleration vector of teh actor in pixels/second/second\n   */\n  public set acc(theAcc: Vector) {\n    this.body.acc.setTo(theAcc.x, theAcc.y);\n  }\n\n  /**\n   * Sets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\n   */\n  public set oldAcc(theAcc: Vector) {\n    this.body.oldAcc.setTo(theAcc.x, theAcc.y);\n  }\n\n  /**\n   * Gets the acceleration of the actor from the last frame. This does not include the global acc [[Physics.acc]].\n   */\n  public get oldAcc(): Vector {\n    return this.body.oldAcc;\n  }\n\n  /**\n   * Gets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n   */\n  public get rotation(): number {\n    return this.body.rotation;\n  }\n\n  /**\n   * Sets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n   */\n  public set rotation(theAngle: number) {\n    this.body.rotation = theAngle;\n  }\n\n  /**\n   * Gets the rotational velocity of the actor in radians/second\n   */\n  public get rx(): number {\n    return this.body.rx;\n  }\n\n  /**\n   * Sets the rotational velocity of the actor in radians/sec\n   */\n  public set rx(angularVelocity: number) {\n    this.body.rx = angularVelocity;\n  }\n\n  /**\n   * The anchor to apply all actor related transformations like rotation,\n   * translation, and scaling. By default the anchor is in the center of\n   * the actor. By default it is set to the center of the actor (.5, .5)\n   *\n   * An anchor of (.5, .5) will ensure that drawings are centered.\n   *\n   * Use `anchor.setTo` to set the anchor to a different point using\n   * values between 0 and 1. For example, anchoring to the top-left would be\n   * `Actor.anchor.setTo(0, 0)` and top-right would be `Actor.anchor.setTo(0, 1)`.\n   */\n  public anchor: Vector;\n\n  private _height: number = 0;\n  private _width: number = 0;\n\n  /**\n   * Gets the scale vector of the actor\n   * @obsolete ex.Actor.scale will be removed in v0.25.0, set width and height directly in constructor\n   */\n  public get scale(): Vector {\n    return this.get(TransformComponent).scale;\n  }\n\n  /**\n   * Sets the scale vector of the actor for\n   * @obsolete ex.Actor.scale will be removed in v0.25.0, set width and height directly in constructor\n   */\n  public set scale(scale: Vector) {\n    this.get(TransformComponent).scale = scale;\n  }\n\n  /**\n   * Gets the old scale of the actor last frame\n   * @obsolete ex.Actor.scale will be removed in v0.25.0, set width and height directly in constructor\n   */\n  public get oldScale(): Vector {\n    return this.body.oldScale;\n  }\n\n  /**\n   * Sets the the old scale of the actor last frame\n   * @obsolete ex.Actor.scale will be removed in v0.25.0, set width and height directly in constructor\n   */\n  public set oldScale(scale: Vector) {\n    this.body.oldScale = scale;\n  }\n\n  /**\n   * Gets the x scalar velocity of the actor in scale/second\n   * @obsolete ex.Actor.sx will be removed in v0.25.0, set width and height directly in constructor\n   */\n  public get sx(): number {\n    return this.body.sx;\n  }\n\n  /**\n   * Sets the x scalar velocity of the actor in scale/second\n   * @obsolete ex.Actor.sx will be removed in v0.25.0, set width and height directly in constructor\n   */\n  @obsolete({ message: 'ex.Actor.sx will be removed in v0.25.0', alternateMethod: 'Set width and height directly in constructor' })\n  public set sx(scalePerSecondX: number) {\n    this.body.sx = scalePerSecondX;\n  }\n\n  /**\n   * Gets the y scalar velocity of the actor in scale/second\n   * @obsolete ex.Actor.sy will be removed in v0.25.0, set width and height directly in constructor\n   */\n  public get sy(): number {\n    return this.body.sy;\n  }\n\n  /**\n   * Sets the y scale velocity of the actor in scale/second\n   * @obsolete ex.Actor.sy will be removed in v0.25.0, set width and height directly in constructor\n   */\n  @obsolete({ message: 'ex.Actor.sy will be removed in v0.25.0', alternateMethod: 'Set width and height directly in constructor' })\n  public set sy(scalePerSecondY: number) {\n    this.body.sy = scalePerSecondY;\n  }\n\n  /**\n   * Indicates whether the actor is physically in the viewport\n   */\n  public get isOffScreen(): boolean {\n    return this.hasTag('offscreen');\n  }\n  /**\n   * The visibility of an actor\n   * @deprecated Use [[GraphicsComponent.visible|Actor.graphics.visible]]\n   */\n  @obsolete({ message: 'Actor.visible will be removed in v0.26.0', alternateMethod: 'Use Actor.graphics.visible' })\n  public get visible(): boolean {\n    return this.graphics.visible;\n  }\n\n  public set visible(isVisible: boolean) {\n    this.graphics.visible = isVisible;\n  }\n\n  /**\n   * The opacity of an actor. Passing in a color in the [[constructor]] will use the\n   * color's opacity.\n   */\n  public opacity: number = 1;\n  public previousOpacity: number = 1;\n\n  /**\n   * Direct access to the actor's [[ActionQueue]]. Useful if you are building custom actions.\n   */\n  public actionQueue: ActionQueue;\n\n  /**\n   * [[ActionContext|Action context]] of the actor. Useful for scripting actor behavior.\n   */\n  public actions: ActionContext;\n\n  /**\n   * Convenience reference to the global logger\n   */\n  public logger: Logger = Logger.getInstance();\n\n  /**\n   * The scene that the actor is in\n   */\n  public scene: Scene = null;\n\n  public frames: { [key: string]: Drawable } = {};\n\n  /**\n   * Access to the current drawing for the actor, this can be\n   * an [[Animation]], [[Sprite]], or [[Polygon]].\n   * Set drawings with [[setDrawing]].\n   */\n  public currentDrawing: Drawable = null;\n\n  /**\n   * Draggable helper\n   */\n\n  private _draggable: boolean = false;\n  private _dragging: boolean = false;\n\n  private _pointerDragStartHandler = () => {\n    this._dragging = true;\n  };\n\n  private _pointerDragEndHandler = () => {\n    this._dragging = false;\n  };\n\n  private _pointerDragMoveHandler = (pe: PointerEvent) => {\n    if (this._dragging) {\n      this.pos = pe.pointer.lastWorldPos;\n    }\n  };\n\n  private _pointerDragLeaveHandler = (pe: PointerEvent) => {\n    if (this._dragging) {\n      this.pos = pe.pointer.lastWorldPos;\n    }\n  };\n\n  public get draggable(): boolean {\n    return this._draggable;\n  }\n\n  public set draggable(isDraggable: boolean) {\n    if (isDraggable) {\n      if (isDraggable && !this._draggable) {\n        this.on('pointerdragstart', this._pointerDragStartHandler);\n        this.on('pointerdragend', this._pointerDragEndHandler);\n        this.on('pointerdragmove', this._pointerDragMoveHandler);\n        this.on('pointerdragleave', this._pointerDragLeaveHandler);\n      } else if (!isDraggable && this._draggable) {\n        this.off('pointerdragstart', this._pointerDragStartHandler);\n        this.off('pointerdragend', this._pointerDragEndHandler);\n        this.off('pointerdragmove', this._pointerDragMoveHandler);\n        this.off('pointerdragleave', this._pointerDragLeaveHandler);\n      }\n\n      this._draggable = isDraggable;\n    }\n  }\n\n  /**\n   * Modify the current actor update pipeline.\n   */\n  public traits: Trait[] = [];\n\n  /**\n   * Sets the color of the actor. A rectangle of this color will be\n   * drawn if no [[Drawable]] is specified as the actors drawing.\n   *\n   * The default is `null` which prevents a rectangle from being drawn.\n   */\n  public get color(): Color {\n    return this._color;\n  }\n  public set color(v: Color) {\n    this._color = v.clone();\n  }\n  private _color: Color;\n\n  /**\n   * Whether or not to enable the [[CapturePointer]] trait that propagates\n   * pointer events to this actor\n   */\n  public enableCapturePointer: boolean = false;\n\n  /**\n   * Configuration for [[CapturePointer]] trait\n   */\n  public capturePointer: Traits.CapturePointerConfig = {\n    captureMoveEvents: false,\n    captureDragEvents: false\n  };\n\n  private _isKilled: boolean = false;\n\n  // #endregion\n\n  public transform: TransformComponent;\n  public graphics: GraphicsComponent;\n\n  /**\n   * @param xOrConfig The starting x coordinate of the actor, or an option bag of [[ActorArgs]]\n   * @param y         The starting y coordinate of the actor\n   * @param width     The starting width of the actor\n   * @param height    The starting height of the actor\n   * @param color     The starting color of the actor. Leave null to draw a transparent actor. The opacity of the color will be used as the\n   * initial [[opacity]].\n   */\n  constructor(xOrConfig?: number | ActorArgs, y?: number, width?: number, height?: number, color?: Color) {\n    super([\n      new TransformComponent(),\n      new GraphicsComponent(),\n      new CanvasDrawComponent((ctx, delta) => this.draw(ctx, delta))\n    ]);\n\n    this.transform = this.get(TransformComponent);\n    this.graphics = this.get(GraphicsComponent);\n\n    // initialize default options\n    this._initDefaults();\n\n    let shouldInitializeBody = true;\n    let collisionType = CollisionType.Passive;\n    if (xOrConfig && typeof xOrConfig === 'object') {\n      const config = xOrConfig;\n      if (config.pos) {\n        xOrConfig = config.pos ? config.pos.x : 0;\n        y = config.pos ? config.pos.y : 0;\n      } else {\n        xOrConfig = config.x || 0;\n        y = config.y || 0;\n      }\n      width = config.width;\n      height = config.height;\n      color = config.color;\n\n      if (config.body) {\n        shouldInitializeBody = false;\n        this.body = config.body;\n      }\n\n      if (config.anchor) {\n        this.anchor = config.anchor;\n      }\n\n      if (config.collisionType) {\n        collisionType = config.collisionType;\n      }\n    }\n\n    // Body and collider bounds are still determined by actor width/height\n    this._width = width || 0;\n    this._height = height || 0;\n\n    // Initialize default collider to be a box\n    if (shouldInitializeBody) {\n      this.body = new Body({\n        collider: new Collider({\n          type: collisionType,\n          shape: Shape.Box(this._width, this._height, this.anchor)\n        })\n      });\n    }\n\n    // Position uses body to store values must be initialized after body\n    this.pos = vec((xOrConfig as number) ?? 0, y ?? 0);\n\n    if (color) {\n      this.color = color;\n      // set default opacity of an actor to the color\n      this.opacity = color.a;\n    }\n\n    if (color) {\n      this.graphics.add(\n        new Rectangle({\n          color: color,\n          width: this._width,\n          height: this._height\n        })\n      );\n    }\n\n    // Build default pipeline\n    this.traits.push(new Traits.TileMapCollisionDetection());\n    if (Flags.isEnabled(Legacy.LegacyDrawing)) {\n      // TODO remove offscreen trait after legacy drawing removed\n      this.traits.push(new Traits.OffscreenCulling());\n    }\n    this.traits.push(new Traits.CapturePointer());\n\n    // Build the action queue\n    this.actionQueue = new ActionQueue(this);\n    this.actions = new ActionContext(this);\n  }\n\n  /**\n   * `onInitialize` is called before the first update of the actor. This method is meant to be\n   * overridden. This is where initialization of child actors should take place.\n   *\n   * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n   */\n  public onInitialize(_engine: Engine): void {\n    // Override me\n  }\n\n  /**\n   * Initializes this actor and all it's child actors, meant to be called by the Scene before first update not by users of Excalibur.\n   *\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * @internal\n   */\n  public _initialize(engine: Engine) {\n    super._initialize(engine);\n    for (const child of this.children) {\n      child._initialize(engine);\n    }\n  }\n\n  private _initDefaults() {\n    this.anchor = Actor.defaults.anchor.clone();\n  }\n\n  // #region Events\n\n  private _capturePointerEvents: PointerEventName[] = [\n    'pointerup',\n    'pointerdown',\n    'pointermove',\n    'pointerenter',\n    'pointerleave',\n    'pointerdragstart',\n    'pointerdragend',\n    'pointerdragmove',\n    'pointerdragenter',\n    'pointerdragleave'\n  ];\n\n  private _captureMoveEvents: PointerEventName[] = [\n    'pointermove',\n    'pointerenter',\n    'pointerleave',\n    'pointerdragmove',\n    'pointerdragenter',\n    'pointerdragleave'\n  ];\n\n  private _captureDragEvents: PointerEventName[] = [\n    'pointerdragstart',\n    'pointerdragend',\n    'pointerdragmove',\n    'pointerdragenter',\n    'pointerdragleave'\n  ];\n\n  private _checkForPointerOptIn(eventName: string) {\n    if (eventName) {\n      const normalized = <PointerEventName>eventName.toLowerCase();\n\n      if (this._capturePointerEvents.indexOf(normalized) !== -1) {\n        this.enableCapturePointer = true;\n\n        if (this._captureMoveEvents.indexOf(normalized) !== -1) {\n          this.capturePointer.captureMoveEvents = true;\n        }\n\n        if (this._captureDragEvents.indexOf(normalized) !== -1) {\n          this.capturePointer.captureDragEvents = true;\n        }\n      }\n    }\n  }\n\n  public on(eventName: Events.exittrigger, handler: (event: ExitTriggerEvent) => void): void;\n  public on(eventName: Events.entertrigger, handler: (event: EnterTriggerEvent) => void): void;\n  /**\n   * The **collisionstart** event is fired when a [[Body|physics body]], usually attached to an actor,\n   *  first starts colliding with another [[Body|body]], and will not fire again while in contact until\n   *  the the pair separates and collides again.\n   * Use cases for the **collisionstart** event may be detecting when an actor has touched a surface\n   * (like landing) or if a item has been touched and needs to be picked up.\n   */\n  public on(eventName: Events.collisionstart, handler: (event: CollisionStartEvent) => void): void;\n  /**\n   * The **collisionend** event is fired when two [[Body|physics bodies]] are no longer in contact.\n   * This event will not fire again until another collision and separation.\n   *\n   * Use cases for the **collisionend** event might be to detect when an actor has left a surface\n   * (like jumping) or has left an area.\n   */\n  public on(eventName: Events.collisionend, handler: (event: CollisionEndEvent) => void): void;\n  /**\n   * The **precollision** event is fired **every frame** where a collision pair is found and two\n   * bodies are intersecting.\n   *\n   * This event is useful for building in custom collision resolution logic in Passive-Passive or\n   * Active-Passive scenarios. For example in a breakout game you may want to tweak the angle of\n   * ricochet of the ball depending on which side of the paddle you hit.\n   */\n  public on(eventName: Events.precollision, handler: (event: PreCollisionEvent) => void): void;\n  /**\n   * The **postcollision** event is fired for **every frame** where collision resolution was performed.\n   * Collision resolution is when two bodies influence each other and cause a response like bouncing\n   * off one another. It is only possible to have *postcollision* event in Active-Active and Active-Fixed\n   * type collision pairs.\n   *\n   * Post collision would be useful if you need to know that collision resolution is happening or need to\n   * tweak the default resolution.\n   */\n  public on(eventName: Events.postcollision, handler: (event: PostCollisionEvent) => void): void;\n  public on(eventName: Events.kill, handler: (event: KillEvent) => void): void;\n  public on(eventName: Events.prekill, handler: (event: PreKillEvent) => void): void;\n  public on(eventName: Events.postkill, handler: (event: PostKillEvent) => void): void;\n  public on(eventName: Events.initialize, handler: (event: InitializeEvent<Actor>) => void): void;\n  public on(eventName: Events.preupdate, handler: (event: PreUpdateEvent<Actor>) => void): void;\n  public on(eventName: Events.postupdate, handler: (event: PostUpdateEvent<Actor>) => void): void;\n  public on(eventName: Events.predraw, handler: (event: PreDrawEvent) => void): void;\n  public on(eventName: Events.postdraw, handler: (event: PostDrawEvent) => void): void;\n  public on(eventName: Events.predebugdraw, handler: (event: PreDebugDrawEvent) => void): void;\n  public on(eventName: Events.postdebugdraw, handler: (event: PostDebugDrawEvent) => void): void;\n  public on(eventName: Events.pointerup, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.pointerdown, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.pointerenter, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.pointerleave, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.pointermove, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.pointercancel, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.pointerwheel, handler: (event: WheelEvent) => void): void;\n  public on(eventName: Events.pointerdragstart, handler: (event: PointerDragEvent) => void): void;\n  public on(eventName: Events.pointerdragend, handler: (event: PointerDragEvent) => void): void;\n  public on(eventName: Events.pointerdragenter, handler: (event: PointerDragEvent) => void): void;\n  public on(eventName: Events.pointerdragleave, handler: (event: PointerDragEvent) => void): void;\n  public on(eventName: Events.pointerdragmove, handler: (event: PointerDragEvent) => void): void;\n  public on(eventName: Events.enterviewport, handler: (event: EnterViewPortEvent) => void): void;\n  public on(eventName: Events.exitviewport, handler: (event: ExitViewPortEvent) => void): void;\n  public on(eventName: string, handler: (event: GameEvent<Actor>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    this._checkForPointerOptIn(eventName);\n    super.on(eventName, handler);\n  }\n\n  public once(eventName: Events.exittrigger, handler: (event: ExitTriggerEvent) => void): void;\n  public once(eventName: Events.entertrigger, handler: (event: EnterTriggerEvent) => void): void;\n  /**\n   * The **collisionstart** event is fired when a [[Body|physics body]], usually attached to an actor,\n   *  first starts colliding with another [[Body|body]], and will not fire again while in contact until\n   *  the the pair separates and collides again.\n   * Use cases for the **collisionstart** event may be detecting when an actor has touch a surface\n   * (like landing) or if a item has been touched and needs to be picked up.\n   */\n  public once(eventName: Events.collisionstart, handler: (event: CollisionStartEvent) => void): void;\n  /**\n   * The **collisionend** event is fired when two [[Body|physics bodies]] are no longer in contact.\n   * This event will not fire again until another collision and separation.\n   *\n   * Use cases for the **collisionend** event might be to detect when an actor has left a surface\n   * (like jumping) or has left an area.\n   */\n  public once(eventName: Events.collisionend, handler: (event: CollisionEndEvent) => void): void;\n  /**\n   * The **precollision** event is fired **every frame** where a collision pair is found and two\n   * bodies are intersecting.\n   *\n   * This event is useful for building in custom collision resolution logic in Passive-Passive or\n   * Active-Passive scenarios. For example in a breakout game you may want to tweak the angle of\n   * ricochet of the ball depending on which side of the paddle you hit.\n   */\n  public once(eventName: Events.precollision, handler: (event: PreCollisionEvent) => void): void;\n  /**\n   * The **postcollision** event is fired for **every frame** where collision resolution was performed.\n   * Collision resolution is when two bodies influence each other and cause a response like bouncing\n   * off one another. It is only possible to have *postcollision* event in Active-Active and Active-Fixed\n   * type collision pairs.\n   *\n   * Post collision would be useful if you need to know that collision resolution is happening or need to\n   * tweak the default resolution.\n   */\n  public once(eventName: Events.postcollision, handler: (event: PostCollisionEvent) => void): void;\n  public once(eventName: Events.kill, handler: (event: KillEvent) => void): void;\n  public once(eventName: Events.postkill, handler: (event: PostKillEvent) => void): void;\n  public once(eventName: Events.prekill, handler: (event: PreKillEvent) => void): void;\n  public once(eventName: Events.initialize, handler: (event: InitializeEvent<Actor>) => void): void;\n  public once(eventName: Events.preupdate, handler: (event: PreUpdateEvent<Actor>) => void): void;\n  public once(eventName: Events.postupdate, handler: (event: PostUpdateEvent<Actor>) => void): void;\n  public once(eventName: Events.predraw, handler: (event: PreDrawEvent) => void): void;\n  public once(eventName: Events.postdraw, handler: (event: PostDrawEvent) => void): void;\n  public once(eventName: Events.predebugdraw, handler: (event: PreDebugDrawEvent) => void): void;\n  public once(eventName: Events.postdebugdraw, handler: (event: PostDebugDrawEvent) => void): void;\n  public once(eventName: Events.pointerup, handler: (event: PointerEvent) => void): void;\n  public once(eventName: Events.pointerdown, handler: (event: PointerEvent) => void): void;\n  public once(eventName: Events.pointerenter, handler: (event: PointerEvent) => void): void;\n  public once(eventName: Events.pointerleave, handler: (event: PointerEvent) => void): void;\n  public once(eventName: Events.pointermove, handler: (event: PointerEvent) => void): void;\n  public once(eventName: Events.pointercancel, handler: (event: PointerEvent) => void): void;\n  public once(eventName: Events.pointerwheel, handler: (event: WheelEvent) => void): void;\n  public once(eventName: Events.pointerdragstart, handler: (event: PointerDragEvent) => void): void;\n  public once(eventName: Events.pointerdragend, handler: (event: PointerDragEvent) => void): void;\n  public once(eventName: Events.pointerdragenter, handler: (event: PointerDragEvent) => void): void;\n  public once(eventName: Events.pointerdragleave, handler: (event: PointerDragEvent) => void): void;\n  public once(eventName: Events.pointerdragmove, handler: (event: PointerDragEvent) => void): void;\n  public once(eventName: Events.enterviewport, handler: (event: EnterViewPortEvent) => void): void;\n  public once(eventName: Events.exitviewport, handler: (event: ExitViewPortEvent) => void): void;\n  public once(eventName: string, handler: (event: GameEvent<Actor>) => void): void;\n  public once(eventName: string, handler: (event: any) => void): void {\n    this._checkForPointerOptIn(eventName);\n    super.once(eventName, handler);\n  }\n\n  public off(eventName: Events.exittrigger, handler?: (event: ExitTriggerEvent) => void): void;\n  public off(eventName: Events.entertrigger, handler?: (event: EnterTriggerEvent) => void): void;\n  /**\n   * The **collisionstart** event is fired when a [[Body|physics body]], usually attached to an actor,\n   *  first starts colliding with another [[Body|body]], and will not fire again while in contact until\n   *  the the pair separates and collides again.\n   * Use cases for the **collisionstart** event may be detecting when an actor has touch a surface\n   * (like landing) or if a item has been touched and needs to be picked up.\n   */\n  public off(eventName: Events.collisionstart, handler?: (event: CollisionStartEvent) => void): void;\n  /**\n   * The **collisionend** event is fired when two [[Body|physics bodies]] are no longer in contact.\n   * This event will not fire again until another collision and separation.\n   *\n   * Use cases for the **collisionend** event might be to detect when an actor has left a surface\n   * (like jumping) or has left an area.\n   */\n  public off(eventName: Events.collisionend, handler?: (event: CollisionEndEvent) => void): void;\n  /**\n   * The **precollision** event is fired **every frame** where a collision pair is found and two\n   * bodies are intersecting.\n   *\n   * This event is useful for building in custom collision resolution logic in Passive-Passive or\n   * Active-Passive scenarios. For example in a breakout game you may want to tweak the angle of\n   * ricochet of the ball depending on which side of the paddle you hit.\n   */\n  public off(eventName: Events.precollision, handler?: (event: PreCollisionEvent) => void): void;\n  /**\n   * The **postcollision** event is fired for **every frame** where collision resolution was performed.\n   * Collision resolution is when two bodies influence each other and cause a response like bouncing\n   * off one another. It is only possible to have *postcollision* event in Active-Active and Active-Fixed\n   * type collision pairs.\n   *\n   * Post collision would be useful if you need to know that collision resolution is happening or need to\n   * tweak the default resolution.\n   */\n  public off(eventName: Events.postcollision, handler: (event: PostCollisionEvent) => void): void;\n  public off(eventName: Events.pointerup, handler?: (event: PointerEvent) => void): void;\n  public off(eventName: Events.pointerdown, handler?: (event: PointerEvent) => void): void;\n  public off(eventName: Events.pointerenter, handler?: (event: PointerEvent) => void): void;\n  public off(eventName: Events.pointerleave, handler?: (event: PointerEvent) => void): void;\n  public off(eventName: Events.pointermove, handler?: (event: PointerEvent) => void): void;\n  public off(eventName: Events.pointercancel, handler?: (event: PointerEvent) => void): void;\n  public off(eventName: Events.pointerwheel, handler?: (event: WheelEvent) => void): void;\n  public off(eventName: Events.pointerdragstart, handler?: (event: PointerDragEvent) => void): void;\n  public off(eventName: Events.pointerdragend, handler?: (event: PointerDragEvent) => void): void;\n  public off(eventName: Events.pointerdragenter, handler?: (event: PointerDragEvent) => void): void;\n  public off(eventName: Events.pointerdragleave, handler?: (event: PointerDragEvent) => void): void;\n  public off(eventName: Events.pointerdragmove, handler?: (event: PointerDragEvent) => void): void;\n  public off(eventName: Events.prekill, handler?: (event: PreKillEvent) => void): void;\n  public off(eventName: Events.postkill, handler?: (event: PostKillEvent) => void): void;\n  public off(eventName: Events.initialize, handler?: (event: Events.InitializeEvent<Actor>) => void): void;\n  public off(eventName: Events.postupdate, handler?: (event: Events.PostUpdateEvent<Actor>) => void): void;\n  public off(eventName: Events.preupdate, handler?: (event: Events.PreUpdateEvent<Actor>) => void): void;\n  public off(eventName: Events.postdraw, handler?: (event: Events.PostDrawEvent) => void): void;\n  public off(eventName: Events.predraw, handler?: (event: Events.PreDrawEvent) => void): void;\n  public off(eventName: Events.enterviewport, handler?: (event: EnterViewPortEvent) => void): void;\n  public off(eventName: Events.exitviewport, handler?: (event: ExitViewPortEvent) => void): void;\n  public off(eventName: string, handler?: (event: GameEvent<Actor>) => void): void;\n  public off(eventName: string, handler?: (event: any) => void): void {\n    super.off(eventName, handler);\n  }\n\n  // #endregion\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _prekill handler for [[onPreKill]] lifecycle event\n   * @internal\n   */\n  public _prekill(_scene: Scene) {\n    super.emit('prekill', new PreKillEvent(this));\n    this.onPreKill(_scene);\n  }\n\n  /**\n   * Safe to override onPreKill lifecycle event handler. Synonymous with `.on('prekill', (evt) =>{...})`\n   *\n   * `onPreKill` is called directly before an actor is killed and removed from its current [[Scene]].\n   */\n  public onPreKill(_scene: Scene) {\n    // Override me\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _prekill handler for [[onPostKill]] lifecycle event\n   * @internal\n   */\n  public _postkill(_scene: Scene) {\n    super.emit('postkill', new PostKillEvent(this));\n    this.onPostKill(_scene);\n  }\n\n  /**\n   * Safe to override onPostKill lifecycle event handler. Synonymous with `.on('postkill', (evt) => {...})`\n   *\n   * `onPostKill` is called directly after an actor is killed and remove from its current [[Scene]].\n   */\n  public onPostKill(_scene: Scene) {\n    // Override me\n  }\n\n  /**\n   * If the current actor is a member of the scene, this will remove\n   * it from the scene graph. It will no longer be drawn or updated.\n   */\n  public kill() {\n    if (this.scene) {\n      this._prekill(this.scene);\n      this.emit('kill', new KillEvent(this));\n      this._isKilled = true;\n      this.scene.remove(this);\n      this._postkill(this.scene);\n    } else {\n      this.logger.warn('Cannot kill actor, it was never added to the Scene');\n    }\n  }\n\n  /**\n   * If the current actor is killed, it will now not be killed.\n   */\n  public unkill() {\n    this._isKilled = false;\n  }\n\n  /**\n   * Indicates wether the actor has been killed.\n   */\n  public isKilled(): boolean {\n    return this._isKilled;\n  }\n\n  /**\n   * Sets the current drawing of the actor to the drawing corresponding to\n   * the key.\n   * @param key The key of the drawing\n   * @deprecated Use [[GraphicsComponent.show|Actor.graphics.show]] or [[GraphicsComponent.swap|Actor.graphics.swap]]\n   */\n  public setDrawing(key: string): void;\n  /**\n   * Sets the current drawing of the actor to the drawing corresponding to\n   * an `enum` key (e.g. `Animations.Left`)\n   * @param key The `enum` key of the drawing\n   * @deprecated Use [[GraphicsComponent.show|Actor.graphics.show]] or [[GraphicsComponent.swap|Actor.graphics.swap]]\n   */\n  public setDrawing(key: number): void;\n  @obsolete({\n    message: 'Actor.setDrawing will be removed in v0.26.0',\n    alternateMethod: 'Use Actor.graphics.show() or Actor.graphics.swap()'\n  })\n  public setDrawing(key: any): void {\n    key = key.toString();\n    if (this.currentDrawing !== this.frames[<string>key]) {\n      if (this.frames[key] != null) {\n        this.frames[key].reset();\n        this.currentDrawing = this.frames[key];\n      } else {\n        Logger.getInstance().error(`the specified drawing key ${key} does not exist`);\n      }\n    }\n    if (this.currentDrawing && this.currentDrawing instanceof Animation) {\n      this.currentDrawing.tick(0);\n    }\n  }\n\n  /**\n   * Adds a whole texture as the \"default\" drawing. Set a drawing using [[setDrawing]].\n   * @deprecated Use [[GraphicsComponent.add|Actor.graphics.add]]\n   */\n  public addDrawing(texture: Texture): void;\n  /**\n   * Adds a whole sprite as the \"default\" drawing. Set a drawing using [[setDrawing]].\n   * @deprecated Use [[GraphicsComponent.add|Actor.graphics.add]]\n   */\n  public addDrawing(sprite: Sprite): void;\n  /**\n   * Adds a drawing to the list of available drawings for an actor. Set a drawing using [[setDrawing]].\n   * @param key     The key to associate with a drawing for this actor\n   * @param drawing This can be an [[Animation]], [[Sprite]], or [[Polygon]].\n   * @deprecated Use [[GraphicsComponent.add|Actor.graphics.add]]\n   */\n  public addDrawing(key: any, drawing: Drawable): void;\n  @obsolete({\n    message: 'Actor.addDrawing will be removed in v0.26.0',\n    alternateMethod: 'Use Actor.graphics.add()'\n  })\n  public addDrawing(): void {\n    if (arguments.length === 2) {\n      this.frames[<string>arguments[0]] = arguments[1];\n      if (!this.currentDrawing) {\n        this.currentDrawing = arguments[1];\n      }\n    } else {\n      if (arguments[0] instanceof Sprite) {\n        this.addDrawing('default', arguments[0]);\n      }\n      if (arguments[0] instanceof Texture) {\n        this.addDrawing('default', arguments[0].asSprite());\n      }\n    }\n  }\n\n  public get z(): number {\n    return this.getZIndex();\n  }\n\n  public set z(newZ: number) {\n    this.setZIndex(newZ);\n  }\n\n  /**\n   * Gets the z-index of an actor. The z-index determines the relative order an actor is drawn in.\n   * Actors with a higher z-index are drawn on top of actors with a lower z-index\n   * @deprecated Use [[Actor.z]]\n   */\n  @obsolete({\n    message: 'Actor.getZIndex will be removed in v0.26.0',\n    alternateMethod: 'Use Actor.transform.z or Actor.z'\n  })\n  public getZIndex(): number {\n    return this.get(TransformComponent).z;\n  }\n\n  /**\n   * Sets the z-index of an actor and updates it in the drawing list for the scene.\n   * The z-index determines the relative order an actor is drawn in.\n   * Actors with a higher z-index are drawn on top of actors with a lower z-index\n   * @param newIndex new z-index to assign\n   * @deprecated Use [[Actor.z]]\n   */\n  @obsolete({\n    message: 'Actor.setZIndex will be removed in v0.26.0',\n    alternateMethod: 'Use Actor.transform.z or Actor.z'\n  })\n  public setZIndex(newIndex: number) {\n    this.get(TransformComponent).z = newIndex;\n  }\n\n  /**\n   * Get the center point of an actor\n   */\n  public get center(): Vector {\n    return new Vector(this.pos.x + this.width / 2 - this.anchor.x * this.width, this.pos.y + this.height / 2 - this.anchor.y * this.height);\n  }\n\n  public get width() {\n    return this._width * this.getGlobalScale().x;\n  }\n\n  public set width(width: number) {\n    this._width = width / this.scale.x;\n    this.body.collider.shape = Shape.Box(this._width, this._height, this.anchor);\n    this.body.markCollisionShapeDirty();\n  }\n\n  public get height() {\n    return this._height * this.getGlobalScale().y;\n  }\n\n  public set height(height: number) {\n    this._height = height / this.scale.y;\n    this.body.collider.shape = Shape.Box(this._width, this._height, this.anchor);\n    this.body.markCollisionShapeDirty();\n  }\n\n  /**\n   * Gets this actor's rotation taking into account any parent relationships\n   *\n   * @returns Rotation angle in radians\n   */\n  public getGlobalRotation(): number {\n    return this.get(TransformComponent).globalRotation;\n  }\n\n  /**\n   * Gets an actor's world position taking into account parent relationships, scaling, rotation, and translation\n   *\n   * @returns Position in world coordinates\n   */\n  public getGlobalPos(): Vector {\n    return this.get(TransformComponent).globalPos;\n  }\n\n  /**\n   * Gets the global scale of the Actor\n   */\n  public getGlobalScale(): Vector {\n    return this.get(TransformComponent).globalScale;\n  }\n\n  // #region Collision\n\n  /**\n   * Tests whether the x/y specified are contained in the actor\n   * @param x  X coordinate to test (in world coordinates)\n   * @param y  Y coordinate to test (in world coordinates)\n   * @param recurse checks whether the x/y are contained in any child actors (if they exist).\n   */\n  public contains(x: number, y: number, recurse: boolean = false): boolean {\n    // These shenanigans are to handle child actor containment,\n    // the only time getWorldPos and pos are different is a child actor\n    const childShift = this.getGlobalPos().sub(this.pos);\n    const containment = this.body.collider.bounds.translate(childShift).contains(new Vector(x, y));\n\n    if (recurse) {\n      return (\n        containment ||\n        this.children.some((child: Actor) => {\n          return child.contains(x, y, true);\n        })\n      );\n    }\n\n    return containment;\n  }\n\n  /**\n   * Returns true if the two actor.body.collider.shape's surfaces are less than or equal to the distance specified from each other\n   * @param actor     Actor to test\n   * @param distance  Distance in pixels to test\n   */\n  public within(actor: Actor, distance: number): boolean {\n    return this.body.collider.shape.getClosestLineBetween(actor.body.collider.shape).getLength() <= distance;\n  }\n\n  // #endregion\n\n  // #region Update\n\n  /**\n   * Called by the Engine, updates the state of the actor\n   * @internal\n   * @param engine The reference to the current game engine\n   * @param delta  The time elapsed since the last update in milliseconds\n   */\n  public update(engine: Engine, delta: number) {\n    this._initialize(engine);\n    this._preupdate(engine, delta);\n\n    // Tick animations\n    const drawing = this.currentDrawing;\n    if (drawing && drawing instanceof Animation) {\n      drawing.tick(delta, engine.stats.currFrame.id);\n    }\n\n    // Update action queue\n    this.actionQueue.update(delta);\n\n    // Update color only opacity\n    if (this.color) {\n      this.color.a = this.opacity;\n    }\n\n    if (this.opacity === 0) {\n      this.visible = false;\n    }\n\n    // capture old transform\n    this.body.captureOldTransform();\n\n    // Run Euler integration\n    this.body.integrate(delta);\n\n    // Update actor pipeline (movement, collision detection, event propagation, offscreen culling)\n    for (const trait of this.traits) {\n      trait.update(this, engine, delta);\n    }\n\n    // Update child actors\n    // for (let i = 0; i < this.children.length; i++) {\n    //   this.children[i].update(engine, delta);\n    // }\n\n    this._postupdate(engine, delta);\n  }\n\n  /**\n   * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPreUpdate` is called directly before an actor is updated.\n   */\n  public onPreUpdate(_engine: Engine, _delta: number): void {\n    // Override me\n  }\n\n  /**\n   * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n   *\n   * `onPostUpdate` is called directly after an actor is updated.\n   */\n  public onPostUpdate(_engine: Engine, _delta: number): void {\n    // Override me\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n   * @internal\n   */\n  public _preupdate(engine: Engine, delta: number): void {\n    this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n    this.onPreUpdate(engine, delta);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n   * @internal\n   */\n  public _postupdate(engine: Engine, delta: number): void {\n    this.emit('postupdate', new PreUpdateEvent(engine, delta, this));\n    this.onPostUpdate(engine, delta);\n  }\n\n  // endregion\n\n  // #region Drawing\n  /**\n   * Called by the Engine, draws the actor to the screen\n   * @param ctx   The rendering context\n   * @param delta The time since the last draw in milliseconds\n   */\n  public draw(ctx: CanvasRenderingContext2D, delta: number) {\n    // translate canvas by anchor offset\n    ctx.save();\n    ctx.translate(-(this._width * this.anchor.x), -(this._height * this.anchor.y));\n\n    this._predraw(ctx, delta);\n\n    if (this.currentDrawing) {\n      const drawing = this.currentDrawing;\n      // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula\n      const offsetX = (this._width - drawing.drawWidth) * this.anchor.x;\n      const offsetY = (this._height - drawing.drawHeight) * this.anchor.y;\n\n      this.currentDrawing.draw({ ctx, x: offsetX, y: offsetY, opacity: this.opacity });\n    } else {\n      if (this.color && this.body && this.body.collider && this.body.collider.shape) {\n        this.body.collider.shape.draw(ctx, this.color, new Vector(0, 0));\n      }\n    }\n    ctx.restore();\n    this._postdraw(ctx, delta);\n  }\n\n  /**\n   * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('predraw', (evt) =>{...})`\n   *\n   * `onPreDraw` is called directly before an actor is drawn, but after local transforms are made.\n   */\n  public onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n    // Override me\n  }\n\n  /**\n   * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('postdraw', (evt) =>{...})`\n   *\n   * `onPostDraw` is called directly after an actor is drawn, and before local transforms are removed.\n   */\n  public onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n    // Override me\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _predraw handler for [[onPreDraw]] lifecycle event\n   * @internal\n   */\n  public _predraw(ctx: CanvasRenderingContext2D, delta: number): void {\n    this.emit('predraw', new PreDrawEvent(ctx, delta, this));\n    this.onPreDraw(ctx, delta);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _postdraw handler for [[onPostDraw]] lifecycle event\n   * @internal\n   */\n  public _postdraw(ctx: CanvasRenderingContext2D, delta: number): void {\n    this.emit('postdraw', new PreDrawEvent(ctx, delta, this));\n    this.onPostDraw(ctx, delta);\n  }\n\n  /**\n   * Called by the Engine, draws the actors debugging to the screen\n   * @param ctx The rendering context\n   */\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\n\n    this.body.collider.debugDraw(ctx);\n\n    // Draw actor bounding box\n    const bb = this.body.collider.localBounds.translate(this.getGlobalPos());\n    bb.debugDraw(ctx);\n\n    // Draw actor Id\n    ctx.fillText('id: ' + this.id, bb.left + 3, bb.top + 10);\n\n    // Draw actor anchor Vector\n    ctx.fillStyle = Color.Yellow.toString();\n    ctx.beginPath();\n    ctx.arc(this.getGlobalPos().x, this.getGlobalPos().y, 3, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.fill();\n\n    // Culling Box debug draw\n    for (let j = 0; j < this.traits.length; j++) {\n      if (this.traits[j] instanceof Traits.OffscreenCulling) {\n        (<Traits.OffscreenCulling>this.traits[j]).cullingBox.debugDraw(ctx); // eslint-disable-line\n      }\n    }\n\n    // Unit Circle debug draw\n    ctx.strokeStyle = Color.Yellow.toString();\n    ctx.beginPath();\n    const radius = Math.min(this.width, this.height);\n    ctx.arc(this.getGlobalPos().x, this.getGlobalPos().y, radius, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.stroke();\n    const ticks: { [key: string]: number } = {\n      '0 Pi': 0,\n      'Pi/2': Math.PI / 2,\n      Pi: Math.PI,\n      '3/2 Pi': (3 * Math.PI) / 2\n    };\n\n    const oldFont = ctx.font;\n    for (const tick in ticks) {\n      ctx.fillStyle = Color.Yellow.toString();\n      ctx.font = '14px';\n      ctx.textAlign = 'center';\n      ctx.fillText(\n        tick,\n        this.getGlobalPos().x + Math.cos(ticks[tick]) * (radius + 10),\n        this.getGlobalPos().y + Math.sin(ticks[tick]) * (radius + 10)\n      );\n    }\n\n    ctx.font = oldFont;\n\n    // Draw child actors\n    // for (let i = 0; i < this.children.length; i++) {\n    //   this.children[i].debugDraw(ctx);\n    // }\n\n    this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\n  }\n  // #endregion\n}\n\n/**\n * The most important primitive in Excalibur is an `Actor`. Anything that\n * can move on the screen, collide with another `Actor`, respond to events,\n * or interact with the current scene, must be an actor. An `Actor` **must**\n * be part of a [[Scene]] for it to be drawn to the screen.\n */\nexport class Actor extends Configurable(ActorImpl) {\n  constructor();\n  constructor(config?: ActorArgs);\n  constructor(x?: number, y?: number, width?: number, height?: number, color?: Color);\n  constructor(xOrConfig?: number | ActorArgs, y?: number, width?: number, height?: number, color?: Color) {\n    super(xOrConfig, y, width, height, color);\n  }\n}\n","/**\n * Internal class used to build instances of AudioContext\n */\n/* istanbul ignore next */\nexport class AudioContextFactory {\n  private static _INSTANCE: AudioContext = null;\n\n  public static create(): AudioContext {\n    if (!this._INSTANCE) {\n      if ((<any>window).AudioContext || (<any>window).webkitAudioContext) {\n        this._INSTANCE = new (<any>window).AudioContext();\n      }\n    }\n\n    return this._INSTANCE;\n  }\n}\n","import { AudioContextFactory } from '../Resources/Sound/AudioContext';\nimport { Logger } from './Log';\n\nexport interface LegacyWebAudioSource {\n  playbackState: string;\n  PLAYING_STATE: 'playing';\n  FINISHED_STATE: 'finished';\n}\n\n/**\n * Patch for detecting legacy web audio in browsers\n * @internal\n * @param source\n */\nfunction isLegacyWebAudioSource(source: any): source is LegacyWebAudioSource {\n  return !!source.playbackState;\n}\n\nexport class WebAudio {\n  private static _UNLOCKED: boolean = false;\n\n  /**\n   * Play an empty sound to unlock Safari WebAudio context. Call this function\n   * right after a user interaction event.\n   * @source https://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n   */\n  static unlock(): Promise<boolean> {\n    const promise = new Promise<boolean>((resolve, reject) => {\n      if (WebAudio._UNLOCKED || !AudioContextFactory.create()) {\n        return resolve(true);\n      }\n      const unlockTimeoutTimer = setTimeout(() => {\n        Logger.getInstance().warn('Excalibur was unable to unlock the audio context, audio probably will not play in this browser.');\n        resolve(false);\n      }, 200);\n\n      const audioContext = AudioContextFactory.create();\n      audioContext.resume().then(\n        () => {\n          // create empty buffer and play it\n          const buffer = audioContext.createBuffer(1, 1, 22050);\n          const source = audioContext.createBufferSource();\n          let ended = false;\n\n          source.buffer = buffer;\n          source.connect(audioContext.destination);\n          source.onended = () => (ended = true);\n\n          source.start(0);\n\n          // by checking the play state after some time, we know if we're really unlocked\n          setTimeout(() => {\n            if (isLegacyWebAudioSource(source)) {\n              if (source.playbackState === source.PLAYING_STATE || source.playbackState === source.FINISHED_STATE) {\n                WebAudio._UNLOCKED = true;\n              }\n            } else {\n              if (audioContext.currentTime > 0 || ended) {\n                WebAudio._UNLOCKED = true;\n              }\n            }\n          }, 0);\n\n          clearTimeout(unlockTimeoutTimer);\n          resolve(true);\n        },\n        () => {\n          reject();\n        }\n      );\n    });\n\n\n    return promise;\n  }\n\n  static isUnlocked() {\n    return this._UNLOCKED;\n  }\n}\n","import { GraphicOptions } from './Graphic';\nimport { Raster, RasterOptions } from './Raster';\n\nexport interface CanvasOptions {\n  draw?: (ctx: CanvasRenderingContext2D) => void;\n  cache?: boolean;\n}\n\n/**\n * A canvas [[Graphic]] to provide an adapter between the 2D Canvas API and the [[ExcaliburGraphicsContext]].\n *\n * The [[Canvas]] works by re-rastering a draw handler to a HTMLCanvasElement for every draw which is then passed\n * to the [[ExcaliburGraphicsContext]] implementation as a rendered image.\n *\n * **Low performance API**\n */\nexport class Canvas extends Raster {\n  /**\n   * Return the 2D graphics context of this canvas\n   */\n  public get ctx() {\n    return this._ctx;\n  }\n\n  constructor(private _options: GraphicOptions & RasterOptions & CanvasOptions) {\n    super(_options);\n  }\n\n  public clone(): Canvas {\n    return new Canvas({\n      ...this._options,\n      ...this.cloneGraphicOptions(),\n      ...this.cloneRasterOptions()\n    });\n  }\n\n  execute(ctx: CanvasRenderingContext2D): void {\n    if (this._options?.draw) {\n      this._options?.draw(ctx);\n    }\n    if (!this._options.cache) {\n      this.flagDirty();\n    }\n  }\n}\n","import { Color } from './Drawing/Color';\nimport { WebAudio } from './Util/WebAudio';\nimport { Engine } from './Engine';\nimport { Loadable } from './Interfaces/Loadable';\nimport { Class } from './Class';\nimport * as DrawUtil from './Util/DrawUtil';\n\nimport logoImg from './Loader.logo.png';\nimport loaderCss from './Loader.css';\nimport { Canvas } from './Graphics/Canvas';\nimport { Vector } from './Algebra';\nimport { clamp, delay } from './Util/Util';\n\n/**\n * Pre-loading assets\n *\n * The loader provides a mechanism to preload multiple resources at\n * one time. The loader must be passed to the engine in order to\n * trigger the loading progress bar.\n *\n * The [[Loader]] itself implements [[Loadable]] so you can load loaders.\n *\n * ## Example: Pre-loading resources for a game\n *\n * ```js\n * // create a loader\n * var loader = new ex.Loader();\n *\n * // create a resource dictionary (best practice is to keep a separate file)\n * var resources = {\n *   TextureGround: new ex.Texture(\"/images/textures/ground.png\"),\n *   SoundDeath: new ex.Sound(\"/sound/death.wav\", \"/sound/death.mp3\")\n * };\n *\n * // loop through dictionary and add to loader\n * for (var loadable in resources) {\n *   if (resources.hasOwnProperty(loadable)) {\n *     loader.addResource(resources[loadable]);\n *   }\n * }\n *\n * // start game\n * game.start(loader).then(function () {\n *   console.log(\"Game started!\");\n * });\n * ```\n *\n * ## Customize the Loader\n *\n * The loader can be customized to show different, text, logo, background color, and button.\n *\n * ```typescript\n * const loader = new ex.Loader([playerTexture]);\n *\n * // The loaders button text can simply modified using this\n * loader.playButtonText = 'Start the best game ever';\n *\n * // The logo can be changed by inserting a base64 image string here\n *\n * loader.logo = 'data:image/png;base64,iVBORw...';\n * loader.logoWidth = 15;\n * loader.logoHeight = 14;\n *\n * // The background color can be changed like so by supplying a valid CSS color string\n *\n * loader.backgroundColor = 'red'\n * loader.backgroundColor = '#176BAA'\n *\n * // To build a completely new button\n * loader.startButtonFactory = () => {\n *     let myButton = document.createElement('button');\n *     myButton.textContent = 'The best button';\n *     return myButton;\n * };\n *\n * engine.start(loader).then(() => {});\n * ```\n */\nexport class Loader extends Class implements Loadable<Loadable<any>[]> {\n  public canvas: Canvas = new Canvas({\n    smoothing: true,\n    draw: this.draw.bind(this)\n  });\n  private _resourceList: Loadable<any>[] = [];\n  private _index = 0;\n\n  private _playButtonShown: boolean = false;\n  private _resourceCount: number = 0;\n  private _numLoaded: number = 0;\n  private _progressCounts: { [key: string]: number } = {};\n  private _totalCounts: { [key: string]: number } = {};\n  private _engine: Engine;\n\n  // logo drawing stuff\n\n  // base64 string encoding of the excalibur logo (logo-white.png)\n  public logo = logoImg;\n  public logoWidth = 468;\n  public logoHeight = 118;\n  /**\n   * Positions the top left corner of the logo image\n   * If not set, the loader automatically positions the logo\n   */\n  public logoPosition: Vector | null;\n  /**\n   * Positions the top left corner of the play button.\n   * If not set, the loader automatically positions the play button\n   */\n  public playButtonPosition: Vector | null;\n  /**\n   * Positions the top left corner of the loading bar\n   * If not set, the loader automatically positions the loading bar\n   */\n  public loadingBarPosition: Vector | null;\n\n  /**\n   * Gets or sets the color of the loading bar, default is [[Color.White]]\n   */\n  public loadingBarColor: Color = Color.White;\n\n  /**\n   * Gets or sets the background color of the loader as a hex string\n   */\n  public backgroundColor: string = '#176BAA';\n\n  protected _imageElement: HTMLImageElement;\n  protected get _image() {\n    if (!this._imageElement) {\n      this._imageElement = new Image();\n      this._imageElement.src = this.logo;\n    }\n\n    return this._imageElement;\n  }\n\n  public suppressPlayButton: boolean = false;\n  public get playButtonRootElement(): HTMLElement | null {\n    return this._playButtonRootElement;\n  }\n  public get playButtonElement(): HTMLButtonElement | null {\n    return this._playButtonElement;\n  }\n  protected _playButtonRootElement: HTMLElement;\n  protected _playButtonElement: HTMLButtonElement;\n  protected _styleBlock: HTMLStyleElement;\n  /** Loads the css from Loader.css */\n  protected _playButtonStyles: string = loaderCss.toString();\n  protected get _playButton() {\n    const existingRoot = document.getElementById('excalibur-play-root');\n    if (existingRoot) {\n      this._playButtonRootElement = existingRoot;\n    }\n    if (!this._playButtonRootElement) {\n      this._playButtonRootElement = document.createElement('div');\n      this._playButtonRootElement.id = 'excalibur-play-root';\n      this._playButtonRootElement.style.position = 'absolute';\n      document.body.appendChild(this._playButtonRootElement);\n    }\n    if (!this._styleBlock) {\n      this._styleBlock = document.createElement('style');\n      this._styleBlock.textContent = this._playButtonStyles;\n      document.head.appendChild(this._styleBlock);\n    }\n    if (!this._playButtonElement) {\n      this._playButtonElement = this.startButtonFactory();\n      this._playButtonRootElement.appendChild(this._playButtonElement);\n    }\n    return this._playButtonElement;\n  }\n\n  /**\n   * Get/set play button text\n   */\n  public playButtonText: string = 'Play game';\n\n  /**\n   * Return a html button element for excalibur to use as a play button\n   */\n  public startButtonFactory = () => {\n    let buttonElement: HTMLButtonElement = document.getElementById('excalibur-play') as HTMLButtonElement;\n    if (!buttonElement) {\n      buttonElement = document.createElement('button');\n    }\n\n    buttonElement.id = 'excalibur-play';\n    buttonElement.textContent = this.playButtonText;\n    buttonElement.style.display = 'none';\n    return buttonElement;\n  };\n\n  /**\n   * @param loadables  Optionally provide the list of resources you want to load at constructor time\n   */\n  constructor(loadables?: Loadable<any>[]) {\n    super();\n\n    if (loadables) {\n      this.addResources(loadables);\n    }\n  }\n\n  public wireEngine(engine: Engine) {\n    this._engine = engine;\n    this.canvas.width = this._engine.canvas.width;\n    this.canvas.height = this._engine.canvas.height;\n  }\n\n  /**\n   * Add a resource to the loader to load\n   * @param loadable  Resource to add\n   */\n  public addResource(loadable: Loadable<any>) {\n    const key = this._index++;\n    this._resourceList.push(loadable);\n    this._progressCounts[key] = 0;\n    this._totalCounts[key] = 1;\n    this._resourceCount++;\n  }\n\n  /**\n   * Add a list of resources to the loader to load\n   * @param loadables  The list of resources to load\n   */\n  public addResources(loadables: Loadable<any>[]) {\n    let i = 0;\n    const len = loadables.length;\n\n    for (i; i < len; i++) {\n      this.addResource(loadables[i]);\n    }\n  }\n\n  /**\n   * Returns true if the loader has completely loaded all resources\n   */\n  public isLoaded() {\n    return this._numLoaded === this._resourceCount;\n  }\n\n  /**\n   * Shows the play button and returns a promise that resolves when clicked\n   */\n  public showPlayButton(): Promise<void> {\n    if (this.suppressPlayButton) {\n      return Promise.resolve();\n    } else {\n      this._playButtonShown = true;\n      this._playButton.style.display = 'block';\n      document.body.addEventListener('keyup', (evt: KeyboardEvent) => {\n        if (evt.key === 'Enter') {\n          this._playButton.click();\n        }\n      });\n      const promise = new Promise<void>((resolve) => {\n        this._playButton.addEventListener('click', () => resolve());\n        this._playButton.addEventListener('touchend', () => resolve());\n        this._playButton.addEventListener('pointerup', () => resolve());\n      });\n\n      return promise;\n    }\n  }\n\n  public hidePlayButton() {\n    this._playButtonShown = false;\n    this._playButton.style.display = 'none';\n  }\n\n  /**\n   * Clean up generated elements for the loader\n   */\n  public dispose() {\n    if (this._playButtonRootElement.parentElement) {\n      this._playButtonRootElement.removeChild(this._playButtonElement);\n      document.body.removeChild(this._playButtonRootElement);\n      document.head.removeChild(this._styleBlock);\n      this._playButtonRootElement = null;\n      this._playButtonElement = null;\n      this._styleBlock = null;\n    }\n  }\n\n  update(_engine: Engine, _delta: number): void {\n    // override me\n  }\n\n  data: Loadable<any>[];\n\n  /**\n   * Begin loading all of the supplied resources, returning a promise\n   * that resolves when loading of all is complete\n   */\n  public async load(): Promise<Loadable<any>[]> {\n    await Promise.all(this._resourceList.map(r => r.load().finally(() => {\n      // capture progress\n      this._numLoaded++;\n    })));\n\n    // short delay in showing the button for aesthetics\n    await delay(200);\n    await this.showPlayButton();\n    // Unlock browser AudioContext in after user gesture\n    // See: https://github.com/excaliburjs/Excalibur/issues/262\n    // See: https://github.com/excaliburjs/Excalibur/issues/1031\n    await WebAudio.unlock();\n    this.hidePlayButton();\n\n    return this.data = this._resourceList;\n\n  }\n\n  public markResourceComplete(): void {\n    this._numLoaded++;\n  }\n\n  /**\n   * Returns the progess of the loader as a number between [0, 1] inclusive.\n   */\n  public get progress(): number {\n    return this._resourceCount > 0 ? clamp(this._numLoaded, 0, this._resourceCount) / this._resourceCount : 1;\n  }\n\n  /**\n   * Loader draw function. Draws the default Excalibur loading screen.\n   * Override `logo`, `logoWidth`, `logoHeight` and `backgroundColor` properties\n   * to customize the drawing, or just override entire method.\n   */\n  public draw(ctx: CanvasRenderingContext2D) {\n    const canvasHeight = this._engine.canvasHeight / this._engine.pixelRatio;\n    const canvasWidth = this._engine.canvasWidth / this._engine.pixelRatio;\n\n    if (this._playButtonRootElement) {\n      const left = this._engine.canvas.offsetLeft;\n      const top = this._engine.canvas.offsetTop;\n      const buttonWidth = this._playButton.clientWidth;\n      const buttonHeight = this._playButton.clientHeight;\n      if (this.playButtonPosition) {\n        this._playButtonRootElement.style.left = `${this.playButtonPosition.x}px`;\n        this._playButtonRootElement.style.top = `${this.playButtonPosition.y}px`;\n      } else {\n        this._playButtonRootElement.style.left = `${left + canvasWidth / 2 - buttonWidth / 2}px`;\n        this._playButtonRootElement.style.top = `${top + canvasHeight / 2 - buttonHeight / 2 + 100}px`;\n      }\n    }\n\n    ctx.fillStyle = this.backgroundColor;\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n\n    let logoY = canvasHeight / 2;\n    const width = Math.min(this.logoWidth, canvasWidth * 0.75);\n    let logoX = canvasWidth / 2 - width / 2;\n\n    if (this.logoPosition) {\n      logoX = this.logoPosition.x;\n      logoY = this.logoPosition.y;\n    }\n\n    const imageHeight = Math.floor(width * (this.logoHeight / this.logoWidth)); // OG height/width factor\n    const oldAntialias = this._engine.getAntialiasing();\n    this._engine.setAntialiasing(true);\n    if (!this.logoPosition) {\n      ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY - imageHeight - 20, width, imageHeight);\n    } else {\n      ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY, width, imageHeight);\n    }\n\n    // loading box\n    if (!this.suppressPlayButton && this._playButtonShown) {\n      this._engine.setAntialiasing(oldAntialias);\n      return;\n    }\n\n    let loadingX = logoX;\n    let loadingY = logoY;\n    if (this.loadingBarPosition) {\n      loadingX = this.loadingBarPosition.x;\n      loadingY = this.loadingBarPosition.y;\n    }\n\n    ctx.lineWidth = 2;\n    DrawUtil.roundRect(ctx, loadingX, loadingY, width, 20, 10, this.loadingBarColor);\n    const progress = width * this.progress;\n    const margin = 5;\n    const progressWidth = progress - margin * 2;\n    const height = 20 - margin * 2;\n    DrawUtil.roundRect(\n      ctx,\n      loadingX + margin,\n      loadingY + margin,\n      progressWidth > 10 ? progressWidth : 10,\n      height,\n      5,\n      null,\n      this.loadingBarColor\n    );\n    this._engine.setAntialiasing(oldAntialias);\n  }\n}\n","import { Logger } from './Log';\n/**\n * This is the list of features that will be used to log the supported\n * features to the console when Detector.logBrowserFeatures() is called.\n */\n\nconst REPORTED_FEATURES: { [key: string]: string } = {\n  webgl: 'WebGL',\n  webaudio: 'WebAudio',\n  gamepadapi: 'Gamepad API'\n};\n\n/**\n * Interface for detected browser features matrix\n */\nexport interface DetectedFeatures {\n  readonly canvas: boolean;\n  readonly arraybuffer: boolean;\n  readonly dataurl: boolean;\n  readonly objecturl: boolean;\n  readonly rgba: boolean;\n  readonly webaudio: boolean;\n  readonly webgl: boolean;\n  readonly gamepadapi: boolean;\n}\n\ninterface CriticalTests {\n  canvasSupport(): boolean;\n  arrayBufferSupport(): boolean;\n  dataUrlSupport(): boolean;\n  objectUrlSupport(): boolean;\n  rgbaSupport(): boolean;\n}\n\ninterface WarningTests {\n  webAudioSupport(): boolean;\n  webglSupport(): boolean;\n}\n\n/**\n * Excalibur internal feature detection helper class\n */\nexport class Detector {\n  private _features: DetectedFeatures = null;\n\n  public failedTests: string[] = [];\n\n  public constructor() {\n    this._features = this._loadBrowserFeatures();\n  }\n\n  /**\n   * Returns a map of currently supported browser features. This method\n   * treats the features as a singleton and will only calculate feature\n   * support if it has not previously been done.\n   */\n  public getBrowserFeatures(): DetectedFeatures {\n    if (this._features === null) {\n      this._features = this._loadBrowserFeatures();\n    }\n    return this._features;\n  }\n\n  /**\n   * Report on non-critical browser support for debugging purposes.\n   * Use native browser console colors for visibility.\n   */\n  public logBrowserFeatures(): void {\n    let msg = '%cSUPPORTED BROWSER FEATURES\\n==========================%c\\n';\n    const args = ['font-weight: bold; color: navy', 'font-weight: normal; color: inherit'];\n\n    const supported: any = this.getBrowserFeatures();\n    for (const feature of Object.keys(REPORTED_FEATURES)) {\n      if (supported[feature]) {\n        msg += '(%c\\u2713%c)'; // (✓)\n        args.push('font-weight: bold; color: green');\n        args.push('font-weight: normal; color: inherit');\n      } else {\n        msg += '(%c\\u2717%c)'; // (✗)\n        args.push('font-weight: bold; color: red');\n        args.push('font-weight: normal; color: inherit');\n      }\n\n      msg += ' ' + REPORTED_FEATURES[feature] + '\\n';\n    }\n\n    args.unshift(msg);\n    // eslint-disable-next-line no-console\n    console.log.apply(console, args);\n  }\n\n  /**\n   * Executes several IIFE's to get a constant reference to supported\n   * features within the current execution context.\n   */\n  private _loadBrowserFeatures(): DetectedFeatures {\n    return {\n      // IIFE to check canvas support\n      canvas: (() => {\n        return this._criticalTests.canvasSupport();\n      })(),\n\n      // IIFE to check arraybuffer support\n      arraybuffer: (() => {\n        return this._criticalTests.arrayBufferSupport();\n      })(),\n\n      // IIFE to check dataurl support\n      dataurl: (() => {\n        return this._criticalTests.dataUrlSupport();\n      })(),\n\n      // IIFE to check objecturl support\n      objecturl: (() => {\n        return this._criticalTests.objectUrlSupport();\n      })(),\n\n      // IIFE to check rgba support\n      rgba: (() => {\n        return this._criticalTests.rgbaSupport();\n      })(),\n\n      // IIFE to check webaudio support\n      webaudio: (() => {\n        return this._warningTest.webAudioSupport();\n      })(),\n\n      // IIFE to check webgl support\n      webgl: (() => {\n        return this._warningTest.webglSupport();\n      })(),\n\n      // IIFE to check gamepadapi support\n      gamepadapi: (() => {\n        return !!(<any>navigator).getGamepads;\n      })()\n    };\n  }\n\n  // critical browser features required for ex to run\n  private _criticalTests: CriticalTests = {\n    // Test canvas/2d context support\n    canvasSupport: function() {\n      const elem = document.createElement('canvas');\n      return !!(elem.getContext && elem.getContext('2d'));\n    },\n\n    // Test array buffer support ex uses for downloading binary data\n    arrayBufferSupport: function() {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', '/');\n      try {\n        xhr.responseType = 'arraybuffer';\n      } catch (e) {\n        return false;\n      }\n      return xhr.responseType === 'arraybuffer';\n    },\n\n    // Test data urls ex uses for sprites\n    dataUrlSupport: function() {\n      const canvas = document.createElement('canvas');\n      return canvas.toDataURL('image/png').indexOf('data:image/png') === 0;\n    },\n\n    // Test object url support for loading\n    objectUrlSupport: function() {\n      return 'URL' in window && 'revokeObjectURL' in URL && 'createObjectURL' in URL;\n    },\n\n    // RGBA support for colors\n    rgbaSupport: function() {\n      const style = document.createElement('a').style;\n      style.cssText = 'background-color:rgba(150,255,150,.5)';\n      return ('' + style.backgroundColor).indexOf('rgba') > -1;\n    }\n  };\n\n  // warnings excalibur performance will be degraded\n  private _warningTest: WarningTests = {\n    webAudioSupport: function() {\n      return !!(\n        (<any>window).AudioContext ||\n        (<any>window).webkitAudioContext ||\n        (<any>window).mozAudioContext ||\n        (<any>window).msAudioContext ||\n        (<any>window).oAudioContext\n      );\n    },\n    webglSupport: function() {\n      const elem = document.createElement('canvas');\n      return !!(elem.getContext && elem.getContext('webgl'));\n    }\n  };\n\n  public test(): boolean {\n    // Critical test will for ex not to run\n    let failedCritical = false;\n    for (const test in this._criticalTests) {\n      if (!this._criticalTests[<keyof CriticalTests>test].call(this)) {\n        this.failedTests.push(test);\n        Logger.getInstance().error('Critical browser feature missing, Excalibur requires:', test);\n        failedCritical = true;\n      }\n    }\n    if (failedCritical) {\n      return false;\n    }\n\n    // Warning tests do not for ex to return false to compatibility\n    for (const warning in this._warningTest) {\n      if (!this._warningTest[<keyof WarningTests>warning]()) {\n        Logger.getInstance().warn('Warning browser feature missing, Excalibur will have reduced performance:', warning);\n      }\n    }\n\n    return true;\n  }\n}\n","import { Vector } from './Algebra';\nimport { Engine } from './Engine';\nimport { Actor, ActorArgs } from './Actor';\nimport * as Traits from './Traits/Index';\nimport { CollisionType } from './Collision/CollisionType';\nimport { Shape } from './Collision/Shape';\nimport { CoordPlane, TransformComponent } from './EntityComponentSystem/Components/TransformComponent';\n\n/**\n * Helper [[Actor]] primitive for drawing UI's, optimized for UI drawing. Does\n * not participate in collisions. Drawn on top of all other actors.\n */\nexport class ScreenElement extends Actor {\n  protected _engine: Engine;\n\n  constructor();\n  constructor(xOrConfig?: number, y?: number, width?: number, height?: number);\n  constructor(config?: ActorArgs);\n  /**\n   * @param xOrConfig  The starting x coordinate of the actor or the actor option bag\n   * @param y       The starting y coordinate of the actor\n   * @param width   The starting width of the actor\n   * @param height  The starting height of the actor\n   */\n  constructor(xOrConfig?: number | ActorArgs, y?: number, width?: number, height?: number) {\n    if (typeof xOrConfig !== 'object') {\n      super(<number>xOrConfig, y, width, height);\n    } else {\n      super(<ActorArgs>xOrConfig);\n    }\n    this.get(TransformComponent).coordPlane = CoordPlane.Screen;\n    this.traits = [];\n    this.traits.push(new Traits.CapturePointer());\n    this.anchor = Vector.Zero;\n    this.body.collider.type = CollisionType.PreventCollision;\n    this.body.collider.shape = Shape.Box(this.width, this.height, this.anchor);\n    this.enableCapturePointer = true;\n  }\n\n  public _initialize(engine: Engine) {\n    this._engine = engine;\n    super._initialize(engine);\n  }\n\n  public contains(x: number, y: number, useWorld: boolean = true) {\n    if (useWorld) {\n      return super.contains(x, y);\n    }\n\n    const coords = this._engine.worldToScreenCoordinates(new Vector(x, y));\n    return super.contains(coords.x, coords.y);\n  }\n}\n","import { Scene } from './Scene';\n\nexport interface TimerOptions {\n  repeats?: boolean;\n  numberOfRepeats?: number;\n  fcn?: () => void;\n  interval: number;\n}\n\n/**\n * The Excalibur timer hooks into the internal timer and fires callbacks,\n * after a certain interval, optionally repeating.\n */\nexport class Timer {\n  public static id: number = 0;\n  public id: number = 0;\n  public interval: number = 10;\n  public repeats: boolean = false;\n  public maxNumberOfRepeats: number = -1;\n  private _elapsedTime: number = 0;\n  private _totalTimeAlive: number = 0;\n  private _paused: boolean = false;\n  private _numberOfTicks: number = 0;\n  private _callbacks: Array<() => void>;\n  public complete: boolean = false;\n  public scene: Scene = null;\n\n  /**\n   * @param options    Options - repeats, numberOfRepeats, fcn, interval\n   * @param repeats    Indicates whether this call back should be fired only once, or repeat after every interval as completed.\n   * @param numberOfRepeats Specifies a maximum number of times that this timer will execute.\n   * @param fcn        The callback to be fired after the interval is complete.\n   */\n  constructor(options: TimerOptions);\n  constructor(fcn: TimerOptions | (() => void), interval?: number, repeats?: boolean, numberOfRepeats?: number) {\n    if (typeof fcn !== 'function') {\n      const options = fcn;\n      fcn = options.fcn;\n      interval = options.interval;\n      repeats = options.repeats;\n      numberOfRepeats = options.numberOfRepeats;\n    }\n\n    if (!!numberOfRepeats && numberOfRepeats >= 0) {\n      this.maxNumberOfRepeats = numberOfRepeats;\n      if (!repeats) {\n        throw new Error('repeats must be set to true if numberOfRepeats is set');\n      }\n    }\n\n    this.id = Timer.id++;\n    this.interval = interval || this.interval;\n    this.repeats = repeats || this.repeats;\n\n    this._callbacks = [];\n\n    if (fcn) {\n      this.on(fcn);\n    }\n  }\n\n  /**\n   * Adds a new callback to be fired after the interval is complete\n   * @param fcn The callback to be added to the callback list, to be fired after the interval is complete.\n   */\n  public on(fcn: () => void) {\n    this._callbacks.push(fcn);\n  }\n\n  /**\n   * Removes a callback from the callback list to be fired after the interval is complete.\n   * @param fcn The callback to be removed from the callback list, to be fired after the interval is complete.\n   */\n  public off(fcn: () => void) {\n    const index = this._callbacks.indexOf(fcn);\n    this._callbacks.splice(index, 1);\n  }\n\n  /**\n   * Updates the timer after a certain number of milliseconds have elapsed. This is used internally by the engine.\n   * @param delta  Number of elapsed milliseconds since the last update.\n   */\n  public update(delta: number) {\n    if (!this._paused) {\n      this._totalTimeAlive += delta;\n      this._elapsedTime += delta;\n\n      if (this.maxNumberOfRepeats > -1 && this._numberOfTicks >= this.maxNumberOfRepeats) {\n        this.complete = true;\n      }\n\n      if (!this.complete && this._elapsedTime >= this.interval) {\n        this._callbacks.forEach((c) => {\n          c.call(this);\n        });\n\n        this._numberOfTicks++;\n        if (this.repeats) {\n          this._elapsedTime = 0;\n        } else {\n          this.complete = true;\n        }\n      }\n    }\n  }\n\n  /**\n   * Resets the timer so that it can be reused, and optionally reconfigure the timers interval.\n   * @param newInterval If specified, sets a new non-negative interval in milliseconds to refire the callback\n   * @param newNumberOfRepeats If specified, sets a new non-negative upper limit to the number of time this timer executes\n   */\n  public reset(newInterval?: number, newNumberOfRepeats?: number) {\n    if (!!newInterval && newInterval >= 0) {\n      this.interval = newInterval;\n    }\n\n    if (!!this.maxNumberOfRepeats && this.maxNumberOfRepeats >= 0) {\n      this.maxNumberOfRepeats = newNumberOfRepeats;\n      if (!this.repeats) {\n        throw new Error('repeats must be set to true if numberOfRepeats is set');\n      }\n    }\n\n    this.complete = false;\n    this._elapsedTime = 0;\n    this._numberOfTicks = 0;\n  }\n\n  public get timesRepeated(): number {\n    return this._numberOfTicks;\n  }\n\n  public getTimeRunning(): number {\n    return this._totalTimeAlive;\n  }\n\n  /**\n   * Pauses the timer so that no more time will be incremented towards the next call\n   */\n  public pause() {\n    this._paused = true;\n  }\n\n  /**\n   * Unpauses the timer. Time will now increment towards the next call\n   */\n  public unpause() {\n    this._paused = false;\n  }\n\n  /**\n   * Cancels the timer, preventing any further executions.\n   */\n  public cancel() {\n    if (this.scene) {\n      this.scene.cancelTimer(this);\n    }\n  }\n}\n","import { Resource } from '../Resources/Resource';\nimport { Texture } from '../Resources/Texture';\nimport { Sprite } from './Sprite';\nimport { Loadable } from '../Interfaces/Index';\n\nexport class ImageSource implements Loadable<HTMLImageElement> {\n  private _resource: Resource<Blob>;\n\n  /**\n   * The original size of the source image in pixels\n   */\n  public get width() {\n    return this.image.naturalWidth;\n  }\n\n  /**\n   * The original height of the source image in pixels\n   */\n  public get height() {\n    return this.image.naturalHeight;\n  }\n\n  /**\n   * Returns true if the Texture is completely loaded and is ready\n   * to be drawn.\n   */\n  public isLoaded(): boolean {\n    return !!this.data.src;\n  }\n\n  /**\n   * Access to the underlying html image elmeent\n   */\n  public data: HTMLImageElement = new Image();\n  public get image(): HTMLImageElement {\n    return this.data;\n  }\n\n  /**\n   * Promise the resolves when the image is loaded and ready for use, does not initiate loading\n   */\n  public ready: Promise<HTMLImageElement>;\n  private _loadedResolve: (value?: HTMLImageElement | PromiseLike<HTMLImageElement>) => void;\n\n  /**\n   * The path to the image, can also be a data url like 'data:image/'\n   * @param path\n   */\n  constructor(public readonly path: string, bustCache: boolean = false) {\n    this._resource = new Resource(path, 'blob', bustCache);\n    this.ready = new Promise<HTMLImageElement>((resolve) => {\n      this._loadedResolve = resolve;\n    });\n  }\n\n  /**\n   * Begins loading the image and returns a promise that resolves when the image is loaded\n   */\n  async load(): Promise<HTMLImageElement> {\n    if (this.isLoaded()) {\n      return this.data;\n    }\n    try {\n      // Load base64 or blob if needed\n      let url: string;\n      if (!this.path.includes('data:image/')) {\n        const blob = await this._resource.load();\n        url = URL.createObjectURL(blob);\n      } else {\n        url = this.path;\n      }\n\n      // Decode the image\n      const image = new Image();\n      image.src = url;\n      await image.decode();\n\n      // Set results\n      this.data = image;\n    } catch {\n      await Promise.reject('Error loading texture');\n    }\n    // todo emit complete\n    this._loadedResolve(this.data);\n    return this.data;\n  }\n\n  /**\n   * Build a sprite from this ImageSource\n   */\n  public toSprite(): Sprite {\n    return Sprite.from(this);\n  }\n\n  /**\n   * Create a ImageSource from legacy texture\n   * @param tex\n   */\n  public static fromLegacyTexture(tex: Texture): ImageSource {\n    const image = new ImageSource(tex.path);\n    if (tex.isLoaded()) {\n      image.data = tex.data;\n    } else {\n      tex.loaded.then(() => {\n        image.data = tex.data;\n      });\n    }\n    return image;\n  }\n\n  /**\n   * Unload images from memory\n   */\n  unload(): void {\n    this.data = new Image();\n  }\n}\n","import { Graphic, GraphicOptions } from './Graphic';\nimport { ImageSource } from './ImageSource';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\n\nimport { Sprite as LegacySprite } from '../Drawing/Sprite';\nimport { Texture } from '../Resources/Texture';\n\nexport type SourceView = { x: number; y: number; width: number; height: number };\nexport type DestinationSize = { width: number; height: number };\n\nexport interface SpriteOptions {\n  /**\n   * Image to create a sprite from\n   */\n  image: ImageSource;\n  /**\n   * By default the source is the entire dimension of the [[ImageSource]]\n   */\n  sourceView?: { x: number; y: number; width: number; height: number };\n  /**\n   * By default the size of the final sprite is the size of the [[ImageSource]]\n   */\n  destSize?: { width: number; height: number };\n}\n\nexport class Sprite extends Graphic {\n  public image: ImageSource;\n  public sourceView: SourceView;\n  public destSize: DestinationSize;\n\n  public static from(image: ImageSource): Sprite {\n    return new Sprite({\n      image: image\n    });\n  }\n\n  constructor(options: GraphicOptions & SpriteOptions) {\n    super(options);\n    this.image = options.image;\n    this.sourceView = options.sourceView ?? { x: 0, y: 0, width: 0, height: 0 };\n    this.destSize = options.destSize ?? { width: 0, height: 0 };\n    this._updateSpriteDimensions();\n    this.image.ready.then(() => {\n      this._updateSpriteDimensions();\n    });\n  }\n\n  private _updateSpriteDimensions() {\n    const { width: nativeWidth, height: nativeHeight } = this.image;\n    // This code uses || to avoid 0's\n    // If the source is not specified, use the native dimension\n    this.sourceView.width = this.sourceView?.width || nativeWidth;\n    this.sourceView.height = this.sourceView?.height || nativeHeight;\n\n    // If the destination is not specified, use the source if specified, then native\n    this.destSize.width = this.destSize?.width || this.sourceView?.width || nativeWidth;\n    this.destSize.height = this.destSize?.height || this.sourceView?.height || nativeHeight;\n\n    this.width = Math.ceil(this.destSize.width);\n    this.height = Math.ceil(this.destSize.height);\n  }\n\n  protected _preDraw(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    if (this.image.isLoaded()) {\n      this._updateSpriteDimensions();\n    }\n    super._preDraw(ex, x, y);\n  }\n\n  public _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    if (this.image.isLoaded()) {\n      this._updateSpriteDimensions();\n      ex.drawImage(\n        this.image.image,\n        this.sourceView.x,\n        this.sourceView.y,\n        this.sourceView.width,\n        this.sourceView.height,\n        x,\n        y,\n        this.destSize.width,\n        this.destSize.height\n      );\n    }\n  }\n\n  /**\n   * Create a ImageSource from legacy texture\n   * @param sprite\n   */\n  public static fromLegacySprite(sprite: LegacySprite): Sprite {\n    const tex = sprite.texture;\n    const image = ImageSource.fromLegacyTexture(tex);\n    return new Sprite({\n      image,\n      sourceView: {\n        x: sprite.x,\n        y: sprite.y,\n        width: sprite.width,\n        height: sprite.height\n      }\n    });\n  }\n\n  public static toLegacySprite(sprite: Sprite): LegacySprite {\n    const image = sprite.image;\n    const tex = new Texture(image.path);\n    tex.data = image.image;\n\n    return new LegacySprite(tex, sprite.sourceView.x, sprite.sourceView.y, sprite.sourceView.width, sprite.sourceView.height);\n  }\n\n  public clone(): Sprite {\n    return new Sprite({\n      image: this.image,\n      sourceView: { ...this.sourceView },\n      destSize: { ...this.destSize },\n      ...this.cloneGraphicOptions()\n    });\n  }\n}\n","import { ImageSource } from './ImageSource';\nimport { Sprite } from './Sprite';\nimport { SpriteSheet as LegacySpriteSheet } from '../Drawing/SpriteSheet';\n\n\n/**\n * Specify sprite sheet spacing options, useful if your sprites are not tightly packed\n * and have space between them.\n */\nexport interface SpriteSheetSpacingDimensions {\n  /**\n   * The starting point to offset and start slicing the sprite sheet from the top left of the image.\n   * Default is (0, 0)\n   */\n  originOffset?: { x?: number, y?: number };\n\n  /**\n   * The margin between sprites.\n   * Default is (0, 0)\n   */\n  margin?: {x?: number, y?: number};\n}\n\n/**\n * Sprite sheet options for slicing up images\n */\nexport interface SpriteSheetGridOptions {\n  /**\n   * Source image to use for each sprite\n   */\n  image: ImageSource;\n  /**\n   * Grid definition for the sprite sheet\n   */\n  grid: {\n    /**\n     * Number of rows in the sprite sheet\n     */\n    rows: number;\n    /**\n     * Number of columns in the sprite sheet\n     */\n    columns: number;\n    /**\n     * Width of each individual sprite\n     */\n    spriteWidth: number;\n    /**\n     * Height of each individual sprite\n     */\n    spriteHeight: number;\n  };\n  /**\n   * Optionally specifiy any spacing information between sprites\n   */\n  spacing?: SpriteSheetSpacingDimensions;\n}\n\nexport interface SpriteSheetOptions {\n  sprites: Sprite[];\n}\n\n/**\n * Represents a collection of sprites from a source image\n */\nexport class SpriteSheet {\n  public readonly sprites: Sprite[] = [];\n\n  /**\n   * Build a new sprite sheet from a list of sprites\n   * @param options\n   */\n  constructor(options: SpriteSheetOptions) {\n    const { sprites } = options;\n    this.sprites = sprites;\n  }\n\n  /**\n   * To a graphics sprite sheet from a legacy sprite sheet\n   */\n  public static fromLegacySpriteSheet(legacySpriteSheet: LegacySpriteSheet): SpriteSheet {\n    const sprites = legacySpriteSheet.sprites.map(oldSprite => Sprite.fromLegacySprite(oldSprite));\n    return new SpriteSheet({\n      sprites\n    });\n  }\n\n  /**\n   * Parse a sprite sheet from grid options\n   * @param options\n   */\n  public static fromGrid(options: SpriteSheetGridOptions): SpriteSheet {\n    const sprites: Sprite[] = [];\n    options.spacing = options.spacing ?? {};\n    const {\n      image,\n      grid: { rows, columns: cols, spriteWidth, spriteHeight },\n      spacing: { originOffset, margin }\n    } = options;\n    const offsetDefaults = { x: 0, y: 0, ...originOffset};\n    const marginDefaults = { x: 0, y: 0, ...margin};\n    for (let x = 0; x < cols; x++) {\n      for (let y = 0; y < rows; y++) {\n        sprites[x + y * cols] = new Sprite({\n          image: image,\n          sourceView: {\n            x: x * spriteWidth + marginDefaults.x * x + offsetDefaults.x,\n            y: y * spriteHeight + marginDefaults.y * y + offsetDefaults.y,\n            width: spriteWidth,\n            height: spriteHeight\n          },\n          destSize: { height: spriteHeight, width: spriteWidth }\n        });\n      }\n    }\n    return new SpriteSheet({\n      sprites: sprites\n    });\n  }\n}\n","export class GraphicsDiagnostics {\n  public static DrawCallCount: number = 0;\n  public static DrawnImagesCount: number = 0;\n  public static clear(): void {\n    GraphicsDiagnostics.DrawCallCount = 0;\n    GraphicsDiagnostics.DrawnImagesCount = 0;\n  }\n}\n","import { isActor } from '../Actor';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { Scene } from '../Scene';\nimport { GraphicsComponent } from './GraphicsComponent';\nimport { vec, Vector } from '../Algebra';\nimport { Color } from '../Drawing/Color';\nimport { CoordPlane, TransformComponent } from '../EntityComponentSystem/Components/TransformComponent';\nimport { Entity } from '../EntityComponentSystem/Entity';\nimport { Camera } from '../Camera';\nimport { System, SystemType, TagComponent } from '../EntityComponentSystem';\nimport { Engine } from '../Engine';\nimport { GraphicsDiagnostics } from './GraphicsDiagnostics';\nimport { EnterViewPortEvent, ExitViewPortEvent } from '../Events';\n\nexport class GraphicsSystem extends System<TransformComponent | GraphicsComponent> {\n  public readonly types = ['transform', 'graphics'] as const;\n  public readonly systemType = SystemType.Draw;\n  public priority = 0;\n  private _token = 0;\n  private _graphicsContext: ExcaliburGraphicsContext;\n  private _camera: Camera;\n  private _engine: Engine;\n\n  public initialize(scene: Scene): void {\n    this._graphicsContext = scene.engine.graphicsContext;\n    this._camera = scene.camera;\n    this._engine = scene.engine;\n  }\n\n  public sort(a: Entity, b: Entity) {\n    return a.get(TransformComponent).z - b.get(TransformComponent).z;\n  }\n\n  public update(entities: Entity[], delta: number): void {\n    this._clearScreen();\n    this._token++;\n    let transform: TransformComponent;\n    let graphics: GraphicsComponent;\n\n    for (const entity of entities) {\n      transform = entity.get(TransformComponent);\n      graphics = entity.get(GraphicsComponent);\n\n      // Figure out if entities are offscreen\n      const entityOffscreen = this._isOffscreen(transform, graphics);\n      if (entityOffscreen && !entity.hasTag('offscreen')) {\n        entity.eventDispatcher.emit('exitviewport', new ExitViewPortEvent(entity));\n        entity.addComponent(new TagComponent('offscreen'));\n      }\n\n      if (!entityOffscreen && entity.hasTag('offscreen')) {\n        entity.eventDispatcher.emit('enterviewport', new EnterViewPortEvent(entity));\n        entity.removeComponent('offscreen');\n      }\n      // Skip entities that have graphics offscreen\n      if (entityOffscreen) {\n        continue;\n      }\n\n      // This optionally sets our camera based on the entity coord plan (world vs. screen)\n      this._pushCameraTransform(transform);\n\n      this._graphicsContext.save();\n\n      // Optionally run the onPreDraw graphics lifecycle draw\n      if (graphics.onPreDraw) {\n        graphics.onPreDraw(this._graphicsContext, delta);\n      }\n\n      // Tick any graphics state (but only once) for animations and graphics groups\n      graphics.update(delta, this._token);\n\n      // Position the entity\n      this._applyTransform(entity);\n\n      this._graphicsPositionDebugDraw();\n\n      this._graphicsContext.opacity = graphics.opacity * ((entity as any).opacity ?? 1);\n\n      // Draw the graphics component\n      this._drawGraphicsComponent(graphics);\n\n      // Optionally run the onPostDraw graphics lifecycle draw\n      if (graphics.onPostDraw) {\n        graphics.onPostDraw(this._graphicsContext, delta);\n      }\n\n      this._graphicsContext.restore();\n\n      // Draw the graphics bounds\n      this._graphicsBoundsDebugDraw(entity, transform, graphics);\n\n      // Reset the transform back to the original\n      this._popCameraTransform(transform);\n    }\n\n    this._graphicsContext.flush();\n    this._engine.stats.currFrame.graphics.drawnImages = GraphicsDiagnostics.DrawnImagesCount;\n    this._engine.stats.currFrame.graphics.drawCalls = GraphicsDiagnostics.DrawCallCount;\n  }\n\n  private _clearScreen(): void {\n    this._graphicsContext.clear();\n  }\n\n  private _isOffscreen(transform: TransformComponent, graphics: GraphicsComponent) {\n    if (transform.coordPlane === CoordPlane.World) {\n      const graphicsOffscreen = !this._camera.viewport.intersect(graphics.localBounds.transform(transform.getGlobalMatrix()));\n      return graphicsOffscreen;\n    } else {\n      // TODO sceen coordinates\n      return false;\n    }\n  }\n\n  private _drawGraphicsComponent(graphicsComponent: GraphicsComponent) {\n    if (graphicsComponent.visible) {\n      // this should be moved to the graphics system\n      for (const layer of graphicsComponent.layers.get()) {\n        for (const {\n          graphic,\n          options: { offset, anchor }\n        } of layer.graphics) {\n          // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula\n          const offsetX = -graphic.width * anchor.x + offset.x;\n          const offsetY = -graphic.height * anchor.y + offset.y;\n\n          graphic?.draw(this._graphicsContext, offsetX + layer.offset.x, offsetY + layer.offset.y);\n\n          if (this._engine?.isDebug) {\n            /* istanbul ignore next */\n            graphic?.localBounds.translate(vec(offsetX + layer.offset.x, offsetY + layer.offset.y)).draw(this._graphicsContext, Color.Red);\n          }\n        }\n      }\n      if (this._engine?.isDebug) {\n        /* istanbul ignore next */\n        graphicsComponent.localBounds.draw(this._graphicsContext, Color.Red);\n      }\n    }\n  }\n\n  /**\n   * This applies the current entity transform to the graphics context\n   * @param entity\n   */\n  private _applyTransform(entity: Entity): void {\n    const ancestors = entity.getAncestors();\n    for (const ancestor of ancestors) {\n      const transform = ancestor?.get(TransformComponent);\n      if (transform) {\n        this._graphicsContext.translate(transform.pos.x, transform.pos.y);\n        this._graphicsContext.scale(transform.scale.x, transform.scale.y);\n        this._graphicsContext.rotate(transform.rotation);\n      }\n    }\n  }\n\n  /**\n   * Applies the current camera transform if in world coordinates\n   * @param transform\n   */\n  private _pushCameraTransform(transform: TransformComponent) {\n    // Establish camera offset per entity\n    if (transform.coordPlane === CoordPlane.World) {\n      this._graphicsContext.save();\n      if (this._camera) {\n        this._camera.draw(this._graphicsContext);\n      }\n    }\n  }\n\n  /**\n   * Resets the current camera transform if in world coordinates\n   * @param transform\n   */\n  private _popCameraTransform(transform: TransformComponent) {\n    if (transform.coordPlane === CoordPlane.World) {\n      // Apply camera world offset\n      this._graphicsContext.restore();\n    }\n  }\n\n  /* istanbul ignore next */\n  private _graphicsPositionDebugDraw() {\n    if (this._engine?.isDebug) {\n      this._graphicsContext.debug.drawPoint(Vector.Zero, { color: Color.Yellow, size: 5 });\n    }\n  }\n\n  /* istanbul ignore next */\n  private _graphicsBoundsDebugDraw(\n    entity: Entity,\n    _transform: TransformComponent,\n    _graphics: GraphicsComponent\n  ) {\n    if (this._engine?.isDebug) {\n      if (isActor(entity)) {\n        const bb = entity.body.collider.localBounds.translate(entity.getGlobalPos());\n        bb.draw(this._graphicsContext);\n      }\n    }\n  }\n}\n","import { Raster, RasterOptions } from './Raster';\n\nexport interface CircleOptions {\n  radius: number;\n}\n\n/**\n * A circle [[Graphic]] for drawing circles to the [[ExcaliburGraphicsContext]]\n */\nexport class Circle extends Raster {\n  private _radius: number = 0;\n  public get radius() {\n    return this._radius;\n  }\n  public set radius(value: number) {\n    this._radius = value;\n    this.width = this._radius * 2;\n    this.height = this._radius * 2;\n    this.flagDirty();\n  }\n  constructor(options: RasterOptions & CircleOptions) {\n    super(options);\n    this.radius = options.radius;\n    this.rasterize();\n  }\n\n  public clone(): Circle {\n    return new Circle({\n      radius: this.radius,\n      ...this.cloneGraphicOptions(),\n      ...this.cloneRasterOptions()\n    });\n  }\n\n  execute(ctx: CanvasRenderingContext2D): void {\n    if (this.radius > 0) {\n      ctx.beginPath();\n      ctx.arc(this.radius, this.radius, this.radius, 0, Math.PI * 2);\n\n      if (this.color) {\n        ctx.fill();\n      }\n\n      if (this.strokeColor) {\n        ctx.stroke();\n      }\n    }\n  }\n}\n","import { Vector, vec } from '../Algebra';\nimport { Raster, RasterOptions } from './Raster';\n\nexport interface PolygonOptions {\n  points: Vector[];\n}\n\n/**\n * A polygon [[Graphic]] for drawing arbitrary polygons to the [[ExcaliburGraphicsContext]]\n */\nexport class Polygon extends Raster {\n  private _points: Vector[];\n  public get points(): Vector[] {\n    return this._points;\n  }\n  public set points(points: Vector[]) {\n    this._points = points;\n    const min = this.minPoint;\n    this.width = this._points.reduce((max, p) => Math.max(p.x, max), 0) - min.x;\n    this.height = this._points.reduce((max, p) => Math.max(p.y, max), 0) - min.y;\n    this.flagDirty();\n  }\n\n  public get minPoint() {\n    const minX = this._points.reduce((min, p) => Math.min(p.x, min), Infinity);\n    const minY = this._points.reduce((min, p) => Math.min(p.y, min), Infinity);\n    return vec(minX, minY);\n  }\n\n  constructor(options: RasterOptions & PolygonOptions) {\n    super(options);\n    this.points = options.points;\n    this.rasterize();\n  }\n\n  public clone(): Polygon {\n    return new Polygon({\n      points: this.points.map((p) => p.clone()),\n      ...this.cloneGraphicOptions(),\n      ...this.cloneRasterOptions()\n    });\n  }\n\n  execute(ctx: CanvasRenderingContext2D): void {\n    if (this.points && this.points.length) {\n      ctx.beginPath();\n      // Iterate through the supplied points and construct a 'polygon'\n      const min = this.minPoint.negate();\n      const firstPoint = this.points[0].add(min);\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      this.points.forEach((point) => {\n        ctx.lineTo(point.x + min.x, point.y + min.y);\n      });\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n      ctx.closePath();\n      if (this.color) {\n        ctx.fill();\n      }\n      if (this.strokeColor) {\n        ctx.stroke();\n      }\n    }\n  }\n}\n","import { Color } from '../Drawing/Color';\nimport { Vector } from '../Algebra';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\n\n/**\n * Enum representing the different font size units\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\n */\nexport enum FontUnit {\n  /**\n   * Em is a scalable unit, 1 em is equal to the current font size of the current element, parent elements can effect em values\n   */\n  Em = 'em',\n  /**\n   * Rem is similar to the Em, it is a scalable unit. 1 rem is equal to the font size of the root element\n   */\n  Rem = 'rem',\n  /**\n   * Pixel is a unit of length in screen pixels\n   */\n  Px = 'px',\n  /**\n   * Point is a physical unit length (1/72 of an inch)\n   */\n  Pt = 'pt',\n  /**\n   * Percent is a scalable unit similar to Em, the only difference is the Em units scale faster when Text-Size stuff\n   */\n  Percent = '%'\n}\n\n/**\n * Enum representing the different horizontal text alignments\n */\nexport enum TextAlign {\n  /**\n   * The text is left-aligned.\n   */\n  Left = 'left',\n  /**\n   * The text is right-aligned.\n   */\n  Right = 'right',\n  /**\n   * The text is centered.\n   */\n  Center = 'center',\n  /**\n   * The text is aligned at the normal start of the line (left-aligned for left-to-right locales,\n   * right-aligned for right-to-left locales).\n   */\n  Start = 'start',\n  /**\n   * The text is aligned at the normal end of the line (right-aligned for left-to-right locales,\n   * left-aligned for right-to-left locales).\n   */\n  End = 'end'\n}\n\n/**\n * Enum representing the different baseline text alignments\n */\nexport enum BaseAlign {\n  /**\n   * The text baseline is the top of the em square.\n   */\n  Top = 'top',\n  /**\n   * The text baseline is the hanging baseline.  Currently unsupported; this will act like\n   * alphabetic.\n   */\n  Hanging = 'hanging',\n  /**\n   * The text baseline is the middle of the em square.\n   */\n  Middle = 'middle',\n  /**\n   * The text baseline is the normal alphabetic baseline.\n   */\n  Alphabetic = 'alphabetic',\n  /**\n   * The text baseline is the ideographic baseline; this is the bottom of\n   * the body of the characters, if the main body of characters protrudes\n   * beneath the alphabetic baseline.  Currently unsupported; this will\n   * act like alphabetic.\n   */\n  Ideographic = 'ideographic',\n  /**\n   * The text baseline is the bottom of the bounding box.  This differs\n   * from the ideographic baseline in that the ideographic baseline\n   * doesn't consider descenders.\n   */\n  Bottom = 'bottom'\n}\n\n/**\n * Enum representing the different possible font styles\n */\nexport enum FontStyle {\n  Normal = 'normal',\n  Italic = 'italic',\n  Oblique = 'oblique'\n}\n\nexport enum Direction {\n  LeftToRight = 'ltr',\n  RightToLeft = 'rtl'\n}\n\nexport interface FontOptions {\n  size?: number;\n  unit?: FontUnit;\n  family?: string;\n  style?: FontStyle;\n  bold?: boolean;\n  textAlign?: TextAlign;\n  baseAlign?: BaseAlign;\n  direction?: Direction;\n  quality?: number;\n  shadow?: {\n    blur?: number;\n    offset?: Vector;\n    color?: Color;\n  };\n}\n\nexport interface FontRenderer {\n  render(ex: ExcaliburGraphicsContext, text: string, x: number, y: number): void;\n}","import { Vector } from '../Algebra';\nimport { BoundingBox } from '../Collision/Index';\nimport { Color } from '../Drawing/Color';\nimport { line } from '../Util/DrawUtil';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { BaseAlign, Direction, FontOptions, FontStyle, FontUnit, TextAlign, FontRenderer } from './FontCommon';\nimport { Raster, RasterOptions } from './Raster';\n\nexport class Font extends Raster implements FontRenderer {\n  constructor(options: FontOptions & RasterOptions = {}) {\n    super(options);\n    this.family = options?.family ?? this.family;\n    this.style = options?.style ?? this.style;\n    this.bold = options?.bold ?? this.bold;\n    this.size = options?.size ?? this.size;\n    this.unit = options?.unit ?? this.unit;\n    this.textAlign = options?.textAlign ?? this.textAlign;\n    this.baseAlign = options?.baseAlign ?? this.baseAlign;\n    this.direction = options?.direction ?? this.direction;\n    this.quality = options?.quality ?? this.quality;\n    if (options?.shadow) {\n      this.shadow = {};\n      this.shadow.blur = options.shadow.blur ?? this.shadow.blur;\n      this.shadow.offset = options.shadow.offset ?? this.shadow.offset;\n      this.shadow.color = options.shadow.color ?? this.shadow.color;\n    }\n    this.flagDirty();\n  }\n\n  public clone() {\n    return new Font({\n      ...this.cloneGraphicOptions(),\n      ...this.cloneRasterOptions(),\n      size: this.size,\n      unit: this.unit,\n      family: this.family,\n      style: this.style,\n      bold: this.bold,\n      textAlign: this.textAlign,\n      baseAlign: this.baseAlign,\n      direction: this.direction,\n      shadow: this.shadow\n        ? {\n          blur: this.shadow.blur,\n          offset: this.shadow.offset,\n          color: this.shadow.color\n        }\n        : null\n    });\n  }\n\n  /**\n   * Font quality determines the size of the underlying rastered text, higher quality means less jagged edges.\n   * If quality is set to 1, then just enough raster bitmap is generated to render the text.\n   *\n   * You can think of quality as how zoomed in to the text you can get before seeing jagged edges.\n   *\n   * (Default 4)\n   */\n  public quality = 2;\n\n  public family: string = 'sans-serif';\n  public style: FontStyle = FontStyle.Normal;\n  public bold: boolean = false;\n  public unit: FontUnit = FontUnit.Px;\n  public textAlign: TextAlign = TextAlign.Left;\n  public baseAlign: BaseAlign = BaseAlign.Alphabetic;\n  public direction: Direction = Direction.LeftToRight;\n  public size: number = 10;\n  public shadow: { blur?: number; offset?: Vector; color?: Color } = null;\n\n  public get fontString() {\n    return `${this.style} ${this.bold ? 'bold' : ''} ${this.size}${this.unit} ${this.family}`;\n  }\n\n  private _text: string;\n  private _textBounds: BoundingBox = new BoundingBox();\n  private _textWidth: number = 0;\n  private _textHeight: number = 0;\n\n  public get width() {\n    return this._textWidth;\n  }\n\n  public set width(value: number) {\n    this._textWidth = value;\n  }\n\n  public get height() {\n    return this._textHeight;\n  }\n\n  public set height(value: number) {\n    this._textHeight = value;\n  }\n\n  private get _rasterWidth() {\n    return this._bitmap.width;\n  }\n\n  private get _rasterHeight() {\n    return this._bitmap.height;\n  }\n\n  private get _halfRasterWidth() {\n    return Math.floor(this._bitmap.width / 2);\n  }\n\n  private get _halfRasterHeight() {\n    return Math.floor(this._bitmap.height / 2);\n  }\n\n  public get localBounds(): BoundingBox {\n    return this._textBounds;\n  }\n\n  protected _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number) {\n    if (this.dirty) {\n      this.rasterize();\n    }\n\n    ex.drawImage(\n      this._bitmap,\n      0,\n      0,\n      this._rasterWidth,\n      this._rasterHeight,\n      x - (this._rasterWidth / this.quality) / 2,\n      y - (this._rasterHeight / this.quality) / 2,\n      this._rasterWidth / this.quality,\n      this._rasterHeight / this.quality\n    );\n  }\n\n  protected _rotate(ex: ExcaliburGraphicsContext) {\n    // TODO this needs to change depending on the bounding box...\n    const origin = this.origin ?? this._textBounds.center;\n    ex.translate(origin.x, origin.y);\n    ex.rotate(this.rotation);\n    ex.translate(-origin.x, -origin.y);\n  }\n\n  protected _flip(ex: ExcaliburGraphicsContext) {\n    if (this.flipHorizontal) {\n      ex.translate(this._textBounds.width / this.scale.x, 0);\n      ex.scale(-1, 1);\n    }\n\n    if (this.flipVertical) {\n      ex.translate(0, -this._textBounds.height / 2 / this.scale.y);\n      ex.scale(1, -1);\n    }\n  }\n\n  public updateText(text: string) {\n    if (this._text !== text) {\n      this._text = text;\n      this._updateDimensions();\n      this.flagDirty();\n    }\n  }\n\n  private _updateDimensions() {\n    if (this._text) {\n      this._applyFont(this._ctx);\n      const metrics = this._ctx.measureText(this._text);\n      this._textWidth = Math.abs(metrics.actualBoundingBoxLeft) + Math.abs(metrics.actualBoundingBoxRight);\n      this._textHeight = Math.abs(metrics.actualBoundingBoxAscent) + Math.abs(metrics.actualBoundingBoxDescent);\n\n      // Changing the width and height clears the context properties\n      // We double the bitmap width to account for alignment\n      // We scale by \"quality\" so we render text without jaggies\n      this._bitmap.width = (this._textWidth + this.padding * 2) * 2 * this.quality;\n      this._bitmap.height = (this._textHeight + this.padding * 2) * 2 * this.quality;\n\n      // These bounds exist in raster bitmap space where the top left corner is the corder of the bitmap\n      // TODO need to account for padding\n      const x = 0;\n      const y = 0;\n      this._textBounds = new BoundingBox({\n        left: x - Math.abs(metrics.actualBoundingBoxLeft) - this.padding,\n        top: y - Math.abs(metrics.actualBoundingBoxAscent) - this.padding,\n        bottom: y + Math.abs(metrics.actualBoundingBoxDescent) + this.padding,\n        right: x + Math.abs(metrics.actualBoundingBoxRight) + this.padding\n      });\n    }\n  }\n\n  protected _preDraw(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    if (this.dirty) {\n      this._updateDimensions();\n    }\n    super._preDraw(ex, x, y);\n  }\n\n  protected _postDraw(ex: ExcaliburGraphicsContext): void {\n    if (this.showDebug) {\n      /* istanbul ignore next */\n      ex.debug.drawRect(-this._halfRasterWidth, -this._halfRasterHeight, this._rasterWidth, this._rasterHeight);\n    }\n    ex.restore();\n  }\n\n  private _applyFont(ctx: CanvasRenderingContext2D) {\n    ctx.translate(this.padding + this._halfRasterWidth, this.padding + this._halfRasterHeight);\n    ctx.scale(this.quality, this.quality);\n    ctx.textAlign = this.textAlign;\n    ctx.textBaseline = this.baseAlign;\n    ctx.font = this.fontString;\n    ctx.direction = this.direction;\n\n    if (this.shadow) {\n      ctx.shadowColor = this.shadow.color.toString();\n      ctx.shadowBlur = this.shadow.blur;\n      ctx.shadowOffsetX = this.shadow.offset.x;\n      ctx.shadowOffsetY = this.shadow.offset.y;\n    }\n  }\n\n  execute(ctx: CanvasRenderingContext2D): void {\n    if (this._text) {\n      // The reason we need to re-apply the font is setting raster properties (like width/height) can reset the context props\n      this._applyRasterProperites(ctx);\n      this._applyFont(ctx);\n      if (this.color) {\n        ctx.fillText(this._text, 0, 0);\n      }\n\n      if (this.strokeColor) {\n        ctx.strokeText(this._text, 0, 0);\n      }\n\n      if (this.showDebug) {\n        // Horizontal line\n        /* istanbul ignore next */\n        line(ctx, Color.Red, -this._halfRasterWidth, 0, this._halfRasterWidth, 0, 2);\n        // Vertical line\n        /* istanbul ignore next */\n        line(ctx, Color.Red, 0, -this._halfRasterHeight, 0, this._halfRasterHeight, 2);\n      }\n    }\n  }\n\n  public render(ex: ExcaliburGraphicsContext, text: string, x: number, y: number) {\n    this.updateText(text);\n    this.draw(ex, x, y);\n  }\n}\n","import { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { BoundingBox } from '../Collision/BoundingBox';\nimport { SpriteFont } from './SpriteFont';\nimport { Graphic, GraphicOptions } from './Graphic';\nimport { Color } from '../Drawing/Color';\nimport { Font } from './Font';\nimport { watch } from '../Util/Watch';\n\nexport interface TextOptions {\n  text: string;\n  color?: Color;\n  font?: Font | SpriteFont;\n}\n\nexport class Text extends Graphic {\n  constructor(options: TextOptions & GraphicOptions) {\n    super(options);\n    // This order is important font, color, then text\n    this.font = options.font ?? new Font();\n    this.color = options.color ?? this.color;\n    this.text = options.text;\n  }\n\n  public clone(): Text {\n    return new Text({\n      text: this.text.slice(),\n      color: this.color.clone(),\n      font: this.font.clone()\n    });\n  }\n\n  private _text: string = '';\n  public get text() {\n    return this._text;\n  }\n\n  public set text(value: string) {\n    this._text = value;\n    if (this.font instanceof Font) {\n      this.font.updateText(value);\n    }\n  }\n\n  // TODO SpriteFont doesn't support a color yet :(\n  public get color() {\n    if (this.font instanceof Font) {\n      return this.font.color;\n    }\n    return Color.Black;\n  }\n\n  public set color(color: Color) {\n    if (this.font instanceof Font) {\n      this.font.color = color;\n    }\n  }\n\n  private _font: Font | SpriteFont;\n  public get font(): Font | SpriteFont {\n    return this._font;\n  }\n  public set font(font: Font | SpriteFont) {\n    if (font instanceof Font) {\n      this._font = watch(font, (font) => font.flagDirty());\n    } else {\n      this._font = font;\n    }\n  }\n\n  public get width() {\n    return this.font.width;\n  }\n\n  public get height() {\n    return this.font.height;\n  }\n\n  public get localBounds(): BoundingBox {\n    return this.font.localBounds;\n  }\n\n  protected _rotate(_ex: ExcaliburGraphicsContext) {\n    // None this is delegated to font\n    // This override erases the default behavior\n  }\n\n  protected _flip(_ex: ExcaliburGraphicsContext) {\n    // None this is delegated to font\n    // This override erases the default behavior\n  }\n\n  protected _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number) {\n    if (this.font instanceof Font) {\n      this.font.color = this.color;\n    }\n    this.font.flipHorizontal = this.flipHorizontal;\n    this.font.flipVertical = this.flipVertical;\n    this.font.scale = this.scale;\n    this.font.rotation = this.rotation;\n    this.font.origin = this.origin;\n    this.font.opacity = this.opacity;\n    this.font.render(ex, this._text, x, y);\n  }\n}\n","import { Vector } from '../Algebra';\nimport { SpriteFont as LegacySpriteFont } from '../Drawing/Index';\nimport { Logger } from '../Util/Log';\nimport { ExcaliburGraphicsContext } from './Context/ExcaliburGraphicsContext';\nimport { FontRenderer } from './FontCommon';\nimport { Graphic, GraphicOptions } from './Graphic';\nimport { Sprite } from './Sprite';\nimport { SpriteSheet } from './SpriteSheet';\n\n\nexport interface SpriteFontOptions {\n  /**\n   * Alphabet string in spritsheet order (default is row column order)\n   * example: 'abcdefghijklmnopqrstuvwxyz'\n   */\n  alphabet: string;\n  /**\n   * [[SpriteSheet]] to source character sprites from\n   */\n  spriteSheet: SpriteSheet;\n  /**\n   * Optionally ignore case in the supplied text;\n   */\n  caseInsensitive?: boolean;\n  /**\n   * Optionally adjust the spacing between character sprites\n   */\n  spacing?: number;\n  /**\n   * Optionally specify a \"shadow\"\n   */\n  shadow?: { offset: Vector };\n}\n\nexport class SpriteFont extends Graphic implements FontRenderer {\n  private _text = '';\n  private _dirty = true;\n  public alphabet: string = '';\n  public spriteSheet: SpriteSheet;\n\n  public shadow: { offset: Vector } = null;\n  public caseInsensitive = false;\n  public spacing: number = 0;\n\n  private _logger = Logger.getInstance();\n\n  static fromLegacySpriteFont(spriteFont: LegacySpriteFont): SpriteFont {\n    const sprites = spriteFont.sprites.map(Sprite.fromLegacySprite);\n    return new SpriteFont({\n      alphabet: spriteFont.alphabet,\n      spacing: 0,\n      caseInsensitive: spriteFont.caseInsensitive,\n      spriteSheet: new SpriteSheet({\n        sprites\n      })\n    });\n  }\n\n  constructor(options: SpriteFontOptions & GraphicOptions) {\n    super(options);\n    const { alphabet, spriteSheet, caseInsensitive, spacing, shadow } = options;\n    this.alphabet = alphabet;\n    this.spriteSheet = spriteSheet;\n    this.caseInsensitive = caseInsensitive ?? this.caseInsensitive;\n    this.spacing = spacing ?? this.spacing;\n    this.shadow = shadow ?? this.shadow;\n\n    this.spriteSheet.sprites[0].image.ready.then(() => {\n      this._updateDimensions();\n    });\n  }\n\n  private _sprites: Sprite[] = [];\n  private _getCharacterSprites(text: string): Sprite[] {\n    if (!this._dirty) {\n      return this._sprites;\n    }\n\n    const results: Sprite[] = [];\n    // handle case insenstive\n    const textToRender = this.caseInsensitive ? text.toLocaleLowerCase() : text;\n    const alphabet = this.caseInsensitive ? this.alphabet.toLocaleLowerCase() : this.alphabet;\n\n    // for each letter in text\n    for (let letterIndex = 0; letterIndex < textToRender.length; letterIndex++) {\n      // find the sprite index in alphabet , if there is an error pick the first\n      const letter = textToRender[letterIndex];\n      let spriteIndex = alphabet.indexOf(letter);\n      if (spriteIndex === -1) {\n        spriteIndex = 0;\n        this._logger.warn(`SpriteFont - Cannot find letter '${letter}' in configured alphabet '${alphabet}'`);\n      }\n\n      const letterSprite = this.spriteSheet.sprites[spriteIndex];\n      if (letterSprite) {\n        results.push(letterSprite);\n      } else {\n        this._logger.warn(`SpriteFont - Cannot find sprite for '${letter}' at index '${spriteIndex}' in configured SpriteSheet`);\n      }\n    }\n    this._dirty = false;\n    return (this._sprites = results);\n  }\n\n  private _updateDimensions() {\n    const sprites = this._getCharacterSprites(this._text);\n    let width = 0;\n    let height = 0;\n    for (const sprite of sprites) {\n      width += sprite.width + this.spacing;\n      height = Math.max(height, sprite.height);\n    }\n    this.width = width;\n    this.height = height;\n  }\n\n  protected _preDraw(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    this._updateDimensions();\n    super._preDraw(ex, x, y);\n  }\n\n  protected _drawImage(ex: ExcaliburGraphicsContext, x: number, y: number): void {\n    let cursor = 0;\n    for (const sprite of this._getCharacterSprites(this._text)) {\n      // draw it in the right spot and incresase the cursor by sprite width\n      sprite.draw(ex, x + cursor, y);\n      cursor += sprite.width + this.spacing;\n    }\n  }\n\n  render(ex: ExcaliburGraphicsContext, text: string, x: number, y: number) {\n    if (this._text !== text) {\n      this._dirty = true;\n      this._text = text;\n    }\n\n    if (this.shadow) {\n      ex.save();\n      ex.translate(this.shadow.offset.x, this.shadow.offset.y);\n      this.draw(ex, x, y);\n      ex.restore();\n    }\n\n    this.draw(ex, x, y);\n  }\n\n  clone(): SpriteFont {\n    return new SpriteFont({\n      alphabet: this.alphabet,\n      spriteSheet: this.spriteSheet,\n      spacing: this.spacing\n    });\n  }\n}\n","import { ExcaliburGraphicsContextState } from './ExcaliburGraphicsContext';\n\nexport class StateStack {\n  private _states: ExcaliburGraphicsContextState[] = [];\n  private _currentState: ExcaliburGraphicsContextState = this._getDefaultState();\n\n  private _getDefaultState() {\n    return {\n      opacity: 1\n    };\n  }\n\n  private _cloneState() {\n    return {\n      opacity: this._currentState.opacity\n    };\n  }\n\n  public save(): void {\n    this._states.push(this._currentState);\n    this._currentState = this._cloneState();\n  }\n\n  public restore(): void {\n    this._currentState = this._states.pop();\n  }\n\n  public get current(): ExcaliburGraphicsContextState {\n    return this._currentState;\n  }\n}\n","import {\n  ExcaliburGraphicsContext,\n  LineGraphicsOptions,\n  PointGraphicsOptions,\n  ExcaliburGraphicsContextOptions,\n  DebugDraw,\n  HTMLImageSource\n} from './ExcaliburGraphicsContext';\nimport { Vector } from '../../Algebra';\nimport { Color } from '../../Drawing/Color';\nimport { StateStack } from './state-stack';\nimport { GraphicsDiagnostics } from '../GraphicsDiagnostics';\n\nclass ExcaliburGraphicsContext2DCanvasDebug implements DebugDraw {\n  constructor(private _ex: ExcaliburGraphicsContext2DCanvas) {}\n  /**\n   * Draw a debug rectangle to the context\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   */\n  drawRect(x: number, y: number, width: number, height: number): void {\n    this._ex.__ctx.save();\n    this._ex.__ctx.strokeStyle = 'red';\n    this._ex.__ctx.strokeRect(\n      this._ex.snapToPixel ? ~~x : x,\n      this._ex.snapToPixel ? ~~y : y,\n      this._ex.snapToPixel ? ~~width : width,\n      this._ex.snapToPixel ? ~~height : height\n    );\n    this._ex.__ctx.restore();\n  }\n\n  drawLine(start: Vector, end: Vector, lineOptions: LineGraphicsOptions = { color: Color.Black }): void {\n    this._ex.__ctx.save();\n    this._ex.__ctx.beginPath();\n    this._ex.__ctx.strokeStyle = lineOptions.color.toString();\n    this._ex.__ctx.moveTo(this._ex.snapToPixel ? ~~start.x : start.x, this._ex.snapToPixel ? ~~start.y : start.y);\n    this._ex.__ctx.lineTo(this._ex.snapToPixel ? ~~end.x : end.x, this._ex.snapToPixel ? ~~end.y : end.y);\n    this._ex.__ctx.lineWidth = 2;\n    this._ex.__ctx.stroke();\n    this._ex.__ctx.closePath();\n    this._ex.__ctx.restore();\n  }\n\n  drawPoint(point: Vector, pointOptions: PointGraphicsOptions = { color: Color.Black, size: 5 }): void {\n    this._ex.__ctx.save();\n    this._ex.__ctx.beginPath();\n    this._ex.__ctx.fillStyle = pointOptions.color.toString();\n    this._ex.__ctx.arc(\n      this._ex.snapToPixel ? ~~point.x : point.x,\n      this._ex.snapToPixel ? ~~point.y : point.y,\n      pointOptions.size,\n      0,\n      Math.PI * 2\n    );\n    this._ex.__ctx.fill();\n    this._ex.__ctx.closePath();\n    this._ex.__ctx.restore();\n  }\n}\n\nexport class ExcaliburGraphicsContext2DCanvas implements ExcaliburGraphicsContext {\n  /**\n   * Meant for internal use only. Access the internal context at your own risk and no guarantees this will exist in the future.\n   * @internal\n   */\n  public __ctx: CanvasRenderingContext2D;\n  public get width() {\n    return this.__ctx.canvas.width;\n  }\n\n  public get height() {\n    return this.__ctx.canvas.height;\n  }\n\n  public backgroundColor: Color = Color.ExcaliburBlue;\n\n  private _state = new StateStack();\n\n  public get opacity(): number {\n    return this._state.current.opacity;\n  }\n\n  public set opacity(value: number) {\n    this._state.current.opacity = value;\n  }\n\n  public snapToPixel: boolean = true;\n\n  public get smoothing(): boolean {\n    return this.__ctx.imageSmoothingEnabled;\n  }\n\n  public set smoothing(value: boolean) {\n    this.__ctx.imageSmoothingEnabled = value;\n  }\n\n  constructor(options: ExcaliburGraphicsContextOptions) {\n    const { canvasElement, enableTransparency, snapToPixel, smoothing, backgroundColor } = options;\n    this.__ctx = canvasElement.getContext('2d', {\n      alpha: enableTransparency ?? true\n    });\n    this.backgroundColor = backgroundColor ?? this.backgroundColor;\n    this.snapToPixel = snapToPixel ?? this.snapToPixel;\n    this.smoothing = smoothing ?? this.smoothing;\n  }\n\n  public resetTransform(): void {\n    this.__ctx.resetTransform();\n  }\n\n  public updateViewport(): void {\n    // pass\n  }\n\n  /**\n   * Draw an image to the Excalibur Graphics context at an x and y coordinate using the images width and height\n   */\n  drawImage(image: HTMLImageSource, x: number, y: number): void;\n  /**\n   *\n   * Draw an image to the Excalibur Graphics context at an x and y coordinate with a specific width and height\n   */\n  drawImage(image: HTMLImageSource, x: number, y: number, width: number, height: number): void;\n  /**\n   *\n   * Draw an image to the Excalibur Graphics context specifying the source image coordinates (sx, sy, swidth, sheight)\n   * and to a specific destination on the context (dx, dy, dwidth, dheight)\n   */\n  drawImage(\n    image: HTMLImageSource,\n    sx: number,\n    sy: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ): void;\n\n  drawImage(\n    image: HTMLImageSource,\n    sx: number,\n    sy: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ): void {\n    this.__ctx.globalAlpha = this.opacity;\n    const args = [image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight]\n      .filter((a) => a !== undefined)\n      .map((a) => (typeof a === 'number' && this.snapToPixel ? ~~a : a));\n    this.__ctx.drawImage.apply(this.__ctx, args);\n    GraphicsDiagnostics.DrawCallCount++;\n    GraphicsDiagnostics.DrawnImagesCount = 1;\n  }\n\n  debug = new ExcaliburGraphicsContext2DCanvasDebug(this);\n\n  /**\n   * Save the current state of the canvas to the stack (transforms and opacity)\n   */\n  save(): void {\n    this.__ctx.save();\n  }\n\n  /**\n   * Restore the state of the canvas from the stack\n   */\n  restore(): void {\n    this.__ctx.restore();\n  }\n\n  /**\n   * Translate the origin of the context by an x and y\n   * @param x\n   * @param y\n   */\n  translate(x: number, y: number): void {\n    this.__ctx.translate(this.snapToPixel ? ~~x : x, this.snapToPixel ? ~~y : y);\n  }\n\n  /**\n   * Rotate the context about the current origin\n   */\n  rotate(angle: number): void {\n    this.__ctx.rotate(angle);\n  }\n\n  /**\n   * Scale the context by an x and y factor\n   * @param x\n   * @param y\n   */\n  scale(x: number, y: number): void {\n    this.__ctx.scale(x, y);\n  }\n\n  clear(): void {\n    // Clear frame\n    this.__ctx.clearRect(0, 0, this.width, this.height);\n    this.__ctx.fillStyle = this.backgroundColor.toString();\n    this.__ctx.fillRect(0, 0, this.width, this.height);\n    GraphicsDiagnostics.clear();\n  }\n\n  /**\n   * Flushes the batched draw calls to the screen\n   */\n  flush(): void {\n    // pass\n  }\n}\n","import { Matrix } from '../../Math/matrix';\n\nexport class TransformStack {\n  private _transforms: Matrix[] = [];\n  private _currentTransform: Matrix = Matrix.identity();\n\n  public save(): void {\n    this._transforms.push(this._currentTransform);\n    this._currentTransform = this._currentTransform.clone();\n  }\n\n  public restore(): void {\n    this._currentTransform = this._transforms.pop();\n  }\n\n  public translate(x: number, y: number): Matrix {\n    return this._currentTransform.translate(x, y);\n  }\n\n  public rotate(angle: number): Matrix {\n    return this._currentTransform.rotate(angle);\n  }\n\n  public scale(x: number, y: number): Matrix {\n    return this._currentTransform.scale(x, y);\n  }\n\n  public set current(matrix: Matrix) {\n    this._currentTransform = matrix;\n  }\n\n  public get current(): Matrix {\n    return this._currentTransform;\n  }\n}\n","export interface VertexAttributeDefinition {\n  name: string;\n  size: number;\n  glType: number;\n  normalized: boolean;\n  location: number;\n}\n\nexport interface UniformDefinition {\n  name: string;\n  location: WebGLUniformLocation;\n  type: string;\n  data: any;\n}\n\n/**\n * Create a shader program for the Excalibur WebGL Graphics Context\n */\nexport class Shader {\n  public program: WebGLProgram | null = null;\n\n  public uniforms: { [variableName: string]: UniformDefinition } = {};\n  public attributes: { [variableName: string]: VertexAttributeDefinition } = {};\n  public layout: VertexAttributeDefinition[] = [];\n\n  /**\n   * Create a shader program in excalibur\n   * @param _gl WebGL graphics context\n   * @param _vertexSource Vertex shader source as a string\n   * @param _fragmentSource Fragment shader source as a string\n   */\n  constructor(private _gl: WebGLRenderingContext, private _vertexSource: string, private _fragmentSource: string) {\n    this.compile(_gl);\n  }\n\n  private _createProgram(gl: WebGLRenderingContext, vertexShader: WebGLShader, fragmentShader: WebGLShader): WebGLProgram {\n    const program = gl.createProgram();\n    if (program === null) {\n      throw Error('Could not create graphics shader program');\n    }\n\n    // attach the shaders.\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n\n    // link the program.\n    gl.linkProgram(program);\n\n    const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!success) {\n      throw Error(`Could not link the program: [${gl.getProgramInfoLog(program)}]`);\n    }\n\n    return program;\n  }\n\n  private _compileShader(gl: WebGLRenderingContext, source: string, type: number): WebGLShader {\n    const shader = gl.createShader(type);\n    if (shader === null) {\n      throw Error(`Could not build shader: [${source}]`);\n    }\n\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!success) {\n      throw Error(`Could not compile shader [${gl.getShaderInfoLog(shader)}]`);\n    }\n    return shader;\n  }\n\n  /**\n   * Compile the current shader against a webgl context\n   * @param gl WebGL context\n   */\n  compile(gl: WebGLRenderingContext): WebGLProgram {\n    const vertexShader = this._compileShader(gl, this._vertexSource, gl.VERTEX_SHADER);\n    const fragmentShader = this._compileShader(gl, this._fragmentSource, gl.FRAGMENT_SHADER);\n    const program = this._createProgram(gl, vertexShader, fragmentShader);\n    return (this.program = program);\n  }\n\n  /**\n   * Add a uniform [[Matrix]] to the shader\n   * @param name Name of the uniform in the shader source\n   * @param data (4x4) matrix in column major order\n   */\n  public addUniformMatrix(name: string, data: Float32Array) {\n    if (!data) {\n      throw Error(`Shader Uniform Matrix '${name}' was set to null or undefined`);\n    }\n    const gl = this._gl;\n    this.uniforms[name] = {\n      name,\n      type: 'matrix',\n      location: gl.getUniformLocation(this.program, name),\n      data: data\n    };\n  }\n\n  /**\n   * Add a uniform array of numbers to the shader\n   * @param name Name of the uniform in the shader source\n   * @param data List of numbers\n   */\n  public addUniformIntegerArray(name: string, data: number[]) {\n    if (!data) {\n      throw Error(`Shader Uniform Integery Array '${name}' was set to null or undefined`);\n    }\n    const gl = this._gl;\n    this.uniforms[name] = {\n      name,\n      type: 'numbers',\n      location: gl.getUniformLocation(this.program, name),\n      data: data\n    };\n  }\n\n  /**\n   * Add attributes in the order they appear in the VBO\n   * @param name Name of the attribute in the shader source\n   * @param size The size of the attribute in gl.Type units, for example `vec2 a_pos` would be 2 gl.FLOAT\n   * @param glType The gl.Type of the attribute\n   */\n  public addAttribute(name: string, size: number, glType: number, normalized = false) {\n    const gl = this._gl;\n    // TODO needs to be compiled first\n    const location = gl.getAttribLocation(this.program, name);\n    this.attributes[name] = {\n      name,\n      size,\n      glType,\n      normalized,\n      location\n    };\n    this.layout.push(this.attributes[name]);\n  }\n\n  /**\n   * Number of javascript floats a vertex will take up\n   */\n  public get vertexAttributeSize(): number {\n    let vertexSize = 0;\n    for (const vert of this.layout) {\n      vertexSize += vert.size;\n    }\n    return vertexSize;\n  }\n\n  /**\n   * Total number of bytes that the vertex will take up\n   */\n  public get totalVertexSizeBytes(): number {\n    let vertexSize = 0;\n    for (const vert of this.layout) {\n      let typeSize = 1;\n      switch (vert.glType) {\n        case this._gl.FLOAT: {\n          typeSize = 4;\n          break;\n        }\n        default: {\n          typeSize = 1;\n        }\n      }\n      vertexSize += typeSize * vert.size;\n    }\n\n    return vertexSize;\n  }\n\n  /**\n   * Get a previously defined attribute size in bytes\n   * @param name\n   */\n  public getAttributeSize(name: string) {\n    let typeSize = 1;\n    switch (this.attributes[name].glType) {\n      case this._gl.FLOAT: {\n        typeSize = 4;\n        break;\n      }\n      default: {\n        typeSize = 1;\n      }\n    }\n    return typeSize * this.attributes[name].size;\n  }\n\n  /**\n   * Sets this shader program as the current in the underlying webgl context\n   *\n   * **Must** specify all attributes and uniforms before calling this\n   */\n  public use() {\n    const gl = this._gl;\n    gl.useProgram(this.program);\n    let offset = 0;\n    for (const vert of this.layout) {\n      gl.vertexAttribPointer(vert.location, vert.size, vert.glType, vert.normalized, this.totalVertexSizeBytes, offset);\n      gl.enableVertexAttribArray(vert.location);\n      offset += this.getAttributeSize(vert.name);\n    }\n\n    for (const key in this.uniforms) {\n      const uniform = this.uniforms[key];\n      switch (uniform.type) {\n        case 'matrix': {\n          gl.uniformMatrix4fv(uniform.location, false, uniform.data);\n          break;\n        }\n        case 'numbers': {\n          gl.uniform1iv(uniform.location, uniform.data);\n          break;\n        }\n      }\n    }\n  }\n}\n","module.exports=\"#define GLSLIFY 1\\nattribute vec4 a_position;\\nattribute vec4 a_color;\\n\\nvarying lowp vec4 v_color;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n   // Set the vertex position using the ortho transform matrix\\n   gl_Position = u_matrix * a_position;\\n\\n   // Passthrough the color\\n   v_color = a_color;\\n}\";","module.exports=\"precision mediump float;\\n#define GLSLIFY 1\\n\\n// Color\\nvarying lowp vec4 v_color;\\n\\nvoid main() {\\n  gl_FragColor = v_color;\\n}\";","import { Pool, Poolable } from '../../Util/Pool';\n\nexport class BatchCommand<T> implements Poolable {\n  _pool: Pool<this> = undefined;\n  public commands: T[] = [];\n  constructor(public max: number) {}\n\n  isFull() {\n    if (this.commands.length >= this.max) {\n      return true;\n    }\n    return false;\n  }\n\n  canAdd() {\n    return !this.isFull();\n  }\n\n  add(cmd: T) {\n    this.commands.push(cmd);\n  }\n\n  dispose() {\n    this.commands.length = 0;\n    return this;\n  }\n}\n","export interface Poolable {\n  /**\n   * Any type that is a member of a an object pool will have a reference to teh pool\n   * @internal\n   */\n  _pool?: Pool<this>;\n  dispose(): this;\n}\n\nexport class Pool<Type extends Poolable> {\n  public totalAllocations = 0;\n  public index = 0;\n  public objects: Type[] = [];\n\n  constructor(\n    public builder: (...args: any[]) => Type,\n    public recycler: (instance: Type, ...args: any[]) => Type,\n    public maxObjects: number = 100\n  ) {}\n\n  /**\n   * Use many instances out of the in the context and return all to the pool.\n   *\n   * By returning values out of the contex they will be un-hooked from the pool and are free to be passed to consumers\n   * @param context\n   */\n  using(context: (pool: Pool<Type>) => Type[] | void) {\n    const result = context(this);\n    if (result) {\n      return this.done(...result);\n    }\n    return this.done();\n  }\n\n  /**\n   * Use a single instance out of th pool and immediately return it to the pool\n   * @param context\n   */\n  borrow(context: (object: Type) => void) {\n    const object = this.get();\n    context(object);\n    this.index--;\n  }\n\n  /**\n   * Retrieve a value from the pool, will allocate a new instance if necessary or recycle from the pool\n   * @param args\n   */\n  get(...args: any[]): Type {\n    if (this.index === this.maxObjects) {\n      // TODO implement hard or soft cap\n      throw new Error('Max pooled objects reached, possible memory leak?');\n    }\n\n    if (this.objects[this.index]) {\n      // Pool has an available object already constructed\n      return this.recycler(this.objects[this.index++], ...args);\n    } else {\n      // New allocation\n      this.totalAllocations++;\n      const object = (this.objects[this.index++] = this.builder(...args));\n      object._pool = this;\n      return object;\n    }\n  }\n\n  /**\n   * Signals we are done with the pool objects for now, Reclaims all objects in the pool.\n   *\n   * If a list of pooled objects is passed to done they are un-hooked from the pool and are free\n   * to be passed to consumers\n   * @param objects A list of object to separate from the pool\n   */\n  done(...objects: Type[]): Type[];\n  done(): void;\n  done(...objects: Type[]): Type[] | void {\n    // All objects in pool now considered \"free\"\n    this.index = 0;\n    for (const object of objects) {\n      const poolIndex = this.objects.indexOf(object);\n      // Build a new object to take the pool place\n      this.objects[poolIndex] = (this as any).builder(); // TODO problematic 0-arg only support\n      this.objects[poolIndex]._pool = this;\n      this.totalAllocations++;\n      // Unhook object from the pool\n      object._pool = undefined;\n    }\n    return objects;\n  }\n}\n","import { BatchCommand } from './batch';\nimport { Shader } from './shader';\n// import { Pool, Poolable } from './pool';\nimport { GraphicsDiagnostics } from '../GraphicsDiagnostics';\nimport { Pool, Poolable } from '../../Util/Pool';\n\nexport interface Renderer {\n  render(): void;\n}\n\nexport interface Ctor<T> {\n  new (): T;\n}\n\nexport interface BatchRendererOptions<T extends Poolable> {\n  gl: WebGLRenderingContext;\n  /**\n   * Draw command constructor\n   */\n  command: Ctor<T>;\n  /**\n   * Number of vertices that are generated per draw command\n   */\n  verticesPerCommand?: number;\n  /**\n   * Maximum commands to batch before drawing\n   */\n  maxCommandsPerBatch?: number;\n  /**\n   * Override the built in command batching mechanism\n   */\n  batchFactory?: () => BatchCommand<T>;\n}\n\nexport abstract class BatchRenderer<T extends Poolable> implements Renderer {\n  priority = 0;\n  private _gl: WebGLRenderingContext;\n  private _vertices: Float32Array;\n  private _verticesPerCommand: number;\n  private _buffer: WebGLBuffer | null = null;\n  private _maxCommandsPerBatch: number = 2000;\n\n  public shader: Shader;\n\n  public commands: Pool<T>;\n  private _batchPool: Pool<BatchCommand<T>>;\n  private _batches: BatchCommand<T>[] = [];\n  constructor(options: BatchRendererOptions<T>) {\n    this._gl = options.gl;\n    const command = options.command;\n    this._verticesPerCommand = options?.verticesPerCommand ?? 1;\n    this._maxCommandsPerBatch = options?.maxCommandsPerBatch ?? this._maxCommandsPerBatch;\n    const batchFactory = options?.batchFactory ?? (() => new BatchCommand<T>(this._maxCommandsPerBatch));\n\n    this.commands = new Pool<T>(\n      () => new command(),\n      (c) => c.dispose(),\n      this._maxCommandsPerBatch\n    );\n    this._batchPool = new Pool<BatchCommand<T>>(batchFactory, (b) => b.dispose(), 100);\n  }\n\n  /**\n   * Initialize render, builds shader and initialized webgl buffers\n   */\n  public init() {\n    const gl = this._gl;\n    this.shader = this.buildShader(gl);\n    // Initialize VBO\n    // https://groups.google.com/forum/#!topic/webgl-dev-list/vMNXSNRAg8M\n    this._vertices = new Float32Array(this.shader.vertexAttributeSize * this._verticesPerCommand * this._maxCommandsPerBatch);\n    this._buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this._buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, this._vertices, gl.DYNAMIC_DRAW);\n  }\n\n  public get vertexSize(): number {\n    return this.shader.vertexAttributeSize;\n  }\n\n  public addCommand(cmd: T) {\n    if (this._batches.length === 0) {\n      this._batches.push(this._batchPool.get());\n    }\n\n    const lastBatch = this._batches[this._batches.length - 1];\n    if (lastBatch.canAdd()) {\n      lastBatch.add(cmd);\n    } else {\n      const newBatch = this._batchPool.get();\n      newBatch.add(cmd);\n      this._batches.push(newBatch);\n    }\n  }\n\n  /**\n   * Construct or return the Shader to be used in this batch renderer\n   * @param gl\n   */\n  abstract buildShader(gl: WebGLRenderingContext): Shader;\n\n  /**\n   * Implement populating the vertex buffer, return the number of vertices added to the buffer\n   * @param vertices\n   * @param batch\n   */\n  abstract buildBatchVertices(vertexBuffer: Float32Array, batch: BatchCommand<T>): number;\n\n  /**\n   * Implement gl draw call to render batch. The vertextBuffer from buildBatchVertices is already bound and the data has been updated.\n   */\n  abstract renderBatch(gl: WebGLRenderingContext, batch: BatchCommand<T>, vertexCount: number): void;\n\n  /**\n   * Build batch geometry, submit to the gpu, and issue draw command to underlying webgl\n   */\n  public render(): void {\n    const gl = this._gl;\n    gl.bindBuffer(gl.ARRAY_BUFFER, this._buffer);\n    this.shader.use();\n    let drawCallCount = 0;\n    let drawnImagesCount = 0;\n    for (const batch of this._batches) {\n      // Build all geometry and ship to GPU\n      // interleave VBOs https://goharsha.com/lwjgl-tutorial-series/interleaving-buffer-objects/\n      const vertexCount = this.buildBatchVertices(this._vertices, batch);\n      gl.bufferSubData(gl.ARRAY_BUFFER, 0, this._vertices);\n\n      this.renderBatch(gl, batch, vertexCount);\n      drawnImagesCount += batch.commands.length;\n      drawCallCount++;\n    }\n    this.commands.done();\n    this._batchPool.done();\n    this._batches.length = 0;\n    GraphicsDiagnostics.DrawCallCount += drawCallCount;\n    GraphicsDiagnostics.DrawnImagesCount += drawnImagesCount;\n  }\n}\n","import { Vector } from '../../Algebra';\nimport { Color } from '../../Drawing/Color';\nimport { Shader } from './shader';\nimport lineVertexSource from './shaders/line-vertex.glsl';\nimport lineFragmentSource from './shaders/line-fragment.glsl';\nimport { BatchRenderer } from './renderer';\nimport { BatchCommand } from './batch';\nimport { WebGLGraphicsContextInfo } from './ExcaliburGraphicsContextWebGL';\nimport { Pool, Poolable } from '../../Util/Pool';\n\nexport class DrawLine implements Poolable {\n  _pool?: Pool<this>;\n  public color: Color = Color.Black;\n  public start: Vector = Vector.Zero;\n  public end: Vector = Vector.Zero;\n  public dispose() {\n    this.color.r = 0;\n    this.color.g = 0;\n    this.color.b = 0;\n    this.color.a = 1;\n    this.start.setTo(0, 0);\n    this.end.setTo(0, 0);\n    return this;\n  }\n}\n\nexport class LineRenderer extends BatchRenderer<DrawLine> {\n  constructor(gl: WebGLRenderingContext, private _contextInfo: WebGLGraphicsContextInfo) {\n    super({ gl, command: DrawLine, verticesPerCommand: 2 });\n    this.init();\n  }\n\n  buildShader(gl: WebGLRenderingContext) {\n    const shader = new Shader(gl, lineVertexSource, lineFragmentSource);\n\n    shader.addAttribute('a_position', 2, gl.FLOAT);\n    shader.addAttribute('a_color', 4, gl.FLOAT);\n    shader.addUniformMatrix('u_matrix', this._contextInfo.matrix.data);\n    return shader;\n  }\n\n  addLine(start: Vector, end: Vector, color: Color) {\n    const cmd = this.commands.get();\n    cmd.start = this._contextInfo.transform.current.multv(start);\n    cmd.end = this._contextInfo.transform.current.multv(end);\n    cmd.color = color;\n    cmd.color.a = cmd.color.a * this._contextInfo.state.current.opacity;\n    this.addCommand(cmd);\n  }\n\n  buildBatchVertices(vertexBuffer: Float32Array, batch: BatchCommand<DrawLine>): number {\n    let index = 0;\n    for (const command of batch.commands) {\n      // Start\n      vertexBuffer[index++] = command.start.x;\n      vertexBuffer[index++] = command.start.y;\n      vertexBuffer[index++] = command.color.r / 255;\n      vertexBuffer[index++] = command.color.g / 255;\n      vertexBuffer[index++] = command.color.b / 255;\n      vertexBuffer[index++] = command.color.a;\n\n      // End\n      vertexBuffer[index++] = command.end.x;\n      vertexBuffer[index++] = command.end.y;\n      vertexBuffer[index++] = command.color.r / 255;\n      vertexBuffer[index++] = command.color.g / 255;\n      vertexBuffer[index++] = command.color.b / 255;\n      vertexBuffer[index++] = command.color.a;\n    }\n    return index / this.vertexSize;\n  }\n\n  renderBatch(gl: WebGLRenderingContext, _batch: BatchCommand<DrawLine>, vertexCount: number) {\n    gl.drawArrays(gl.LINES, 0, vertexCount);\n  }\n}\n","module.exports=\"#define GLSLIFY 1\\nattribute vec4 a_position;\\n\\n// Opacity \\nattribute float a_opacity;\\nvarying float v_opacity;\\n\\n// UV coordinate\\nattribute vec2 a_texcoord;\\nvarying vec2 v_texcoord;\\n\\n// Texture number\\nattribute lowp float a_textureIndex;\\nvarying lowp float v_textureIndex;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n   // Set the vertex position using the ortho transform matrix\\n   gl_Position = u_matrix * a_position;\\n\\n   // Pass through the Opacity to the fragment shader\\n   v_opacity = a_opacity;\\n   // Pass through the UV coord to the fragment shader\\n   v_texcoord = a_texcoord;\\n   // Pass through the texture number to the fragment shader\\n   v_textureIndex = a_textureIndex;\\n}\";","module.exports=\"precision mediump float;\\n#define GLSLIFY 1\\n\\n// UV coord\\nvarying vec2 v_texcoord;\\n\\n// Texture index\\nvarying lowp float v_textureIndex;\\n\\n// Opacity\\nvarying float v_opacity;\\n\\nuniform sampler2D u_textures[%%count%%];\\n\\nvoid main() {\\n   // In order to support the most efficient sprite batching, we have multiple\\n   // textures loaded into the gpu (usually 8) this picker logic skips over textures\\n   // that do not apply to a particular sprite.\\n\\n   // Error color\\n   vec4 color = vec4(1.0, 0.0, 0.0, 1.0);\\n\\n   // Always at least 1 texture at 0\\n   if (v_textureIndex <= .5) {\\n      gl_FragColor = texture2D(u_textures[0], v_texcoord);\\n      gl_FragColor.w = gl_FragColor.w * v_opacity;\\n      %%texture_picker%%\\n   } else {\\n      gl_FragColor = color;\\n   }\\n}\";","import { Matrix } from '../../Math/matrix';\nimport { BoundingBox } from '../../Collision/Index';\nimport { Color } from '../../Drawing/Color';\nimport { Pool, Poolable } from '../../Util/Pool';\nimport { HTMLImageSource } from './ExcaliburGraphicsContext';\n\nexport class DrawImageCommand implements Poolable {\n  _pool: Pool<this> = undefined;\n\n  public snapToPixel: boolean = true;\n  public image: HTMLImageSource;\n  public opacity: number = 1;\n  public width: number = 0;\n  public height: number = 0;\n  public dest: [number, number] = [0, 0]; // x, y\n  public view: [number, number, number, number] = [0, 0, 0, 0]; // sx, sy, sw, sh\n  private _geom: [number, number][] = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n    [0, 0],\n    [0, 0],\n    [0, 0]\n  ];\n  constructor();\n  constructor(image: HTMLImageSource, x: number, y: number);\n  constructor(image: HTMLImageSource, x: number, y: number, width?: number, height?: number);\n  constructor(\n    image: HTMLImageSource,\n    sx: number,\n    sy: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  );\n  constructor(\n    image?: HTMLImageSource,\n    sx?: number,\n    sy?: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ) {\n    this.init(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n  }\n\n  public init(\n    image?: HTMLImageSource,\n    sx?: number,\n    sy?: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ) {\n    this.image = image;\n    this.width = image?.width || swidth || 0;\n    this.height = image?.height || sheight || 0;\n    this.view = [0, 0, swidth ?? image?.width, sheight ?? image?.height];\n    this.dest = [sx, sy];\n    // If destination is specified, update view and dest\n    if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\n      this.view = [sx, sy, swidth ?? image?.width, sheight ?? image?.height];\n      this.dest = [dx, dy];\n      this.width = dwidth;\n      this.height = dheight;\n    }\n\n    let index = 0;\n    this._geom[index++] = [this.dest[0], this.dest[1]];\n    this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\n    this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\n    this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\n    this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\n    this._geom[index++] = [this.dest[0] + this.width, this.dest[1] + this.height];\n    if (this.snapToPixel) {\n      for (const point of this._geom) {\n        point[0] = ~~point[0];\n        point[1] = ~~point[1];\n      }\n    }\n    return this;\n  }\n\n  public dispose() {\n    this.image = null;\n    this.width = 0;\n    this.height = 0;\n    this.view = [0, 0, 0, 0];\n    this.dest = [0, 0];\n\n    let index = 0;\n    this._geom[index++] = [this.dest[0], this.dest[1]];\n    this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\n    this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\n    this._geom[index++] = [this.dest[0] + this.width, this.dest[1]];\n    this._geom[index++] = [this.dest[0], this.dest[1] + this.height];\n    this._geom[index++] = [this.dest[0] + this.width, this.dest[1] + this.height];\n    return this;\n  }\n\n  // todo weird\n  applyTransform(transform: Matrix, opacity: number): void {\n    if (transform) {\n      for (let i = 0; i < this._geom.length; i++) {\n        this._geom[i] = transform.multv(this._geom[i]);\n        if (this.snapToPixel) {\n          this._geom[i] = [~~this._geom[i][0], ~~this._geom[i][1]];\n        }\n      }\n    }\n    this.opacity = opacity;\n  }\n\n  public get geometry() {\n    return this._geom;\n  }\n}\n\nexport class DrawRectCommand {\n  public dest: [number, number] = [0, 0];\n  public width: number = 0;\n  public height: number = 0;\n  constructor(x: number, y: number, width: number, height: number) {\n    this.dest = [x, y];\n    this.width = width;\n    this.height = height;\n  }\n}\n\nexport class DrawDebugRectCommand {\n  constructor(public bounds: BoundingBox, public color: Color) {}\n}\n","import { Shader } from './shader';\nimport imageVertexSource from './shaders/image-vertex.glsl';\nimport imageFragmentSource from './shaders/image-fragment.glsl';\nimport { BatchCommand } from './batch';\nimport { DrawImageCommand } from './draw-image-command';\nimport { Graphic } from '../Graphic';\nimport { ensurePowerOfTwo } from './webgl-util';\nimport { BatchRenderer } from './renderer';\nimport { WebGLGraphicsContextInfo } from './ExcaliburGraphicsContextWebGL';\nimport { TextureLoader } from './texture-loader';\nimport { HTMLImageSource } from './ExcaliburGraphicsContext';\n\nexport class BatchImage extends BatchCommand<DrawImageCommand> {\n  public textures: WebGLTexture[] = [];\n  public commands: DrawImageCommand[] = [];\n  private _graphicMap: { [id: string]: Graphic } = {};\n\n  constructor(public maxDraws: number, public maxTextures: number) {\n    super(maxDraws);\n  }\n\n  isFull() {\n    if (this.commands.length >= this.maxDraws) {\n      return true;\n    }\n    if (this.textures.length >= this.maxTextures) {\n      return true;\n    }\n    return false;\n  }\n\n  canAdd() {\n    if (this.commands.length >= this.maxDraws) {\n      return false;\n    }\n\n    if (this.textures.length < this.maxTextures) {\n      return true;\n    }\n\n    return false;\n  }\n\n  private _isCommandFull() {\n    return this.commands.length >= this.maxDraws;\n  }\n\n  private _isTextureFull() {\n    return this.textures.length >= this.maxTextures;\n  }\n\n  private _wouldAddTexture(command: DrawImageCommand) {\n    return !this._graphicMap[command.image.id];\n  }\n\n  maybeAdd(command: DrawImageCommand): boolean {\n    if ((this._isCommandFull() || this._isTextureFull()) && this._wouldAddTexture(command)) {\n      return false;\n    }\n\n    this.add(command);\n    return true;\n  }\n\n  add(command: DrawImageCommand) {\n    const texture = TextureLoader.load(command.image);\n    if (this.textures.indexOf(texture) === -1) {\n      this.textures.push(texture);\n    }\n\n    this.commands.push(command);\n  }\n\n  bindTextures(gl: WebGLRenderingContext) {\n    // Bind textures in the correct order\n    for (let i = 0; i < this.maxTextures; i++) {\n      gl.activeTexture(gl.TEXTURE0 + i);\n      gl.bindTexture(gl.TEXTURE_2D, this.textures[i] || this.textures[0]);\n    }\n  }\n\n  getBatchTextureId(command: DrawImageCommand) {\n    if (command.image) {\n      return this.textures.indexOf(TextureLoader.get(command.image));\n    }\n    return -1;\n  }\n\n  dispose() {\n    this.clear();\n    return this;\n  }\n\n  clear() {\n    this.commands.length = 0;\n    this.textures.length = 0;\n    this._graphicMap = {};\n  }\n}\n\nexport class ImageRenderer extends BatchRenderer<DrawImageCommand> {\n  constructor(gl: WebGLRenderingContext, private _contextInfo: WebGLGraphicsContextInfo) {\n    super({\n      gl,\n      command: DrawImageCommand,\n      // 6 verts per quad\n      verticesPerCommand: 6,\n      maxCommandsPerBatch: 2000,\n      batchFactory: () => new BatchImage(2000, gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS))\n    });\n    TextureLoader.registerContext(gl);\n    this.init();\n  }\n\n  buildShader(gl: WebGLRenderingContext): Shader {\n    // Initialilze default batch rendering shader\n    const maxGPUTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    const shader = new Shader(gl, imageVertexSource, this._transformFragmentSource(imageFragmentSource, maxGPUTextures));\n    shader.addAttribute('a_position', 3, gl.FLOAT);\n    shader.addAttribute('a_texcoord', 2, gl.FLOAT);\n    shader.addAttribute('a_textureIndex', 1, gl.FLOAT);\n    shader.addAttribute('a_opacity', 1, gl.FLOAT);\n    shader.addUniformMatrix('u_matrix', this._contextInfo.matrix.data);\n    // Initialize texture slots to [0, 1, 2, 3, 4, .... maxGPUTextures]\n    shader.addUniformIntegerArray(\n      'u_textures',\n      [...Array(maxGPUTextures)].map((_, i) => i)\n    );\n    return shader;\n  }\n\n  private _transformFragmentSource(source: string, maxTextures: number): string {\n    let newSource = source.replace('%%count%%', maxTextures.toString());\n    let texturePickerBuilder = '';\n    for (let i = 0; i < maxTextures; i++) {\n      texturePickerBuilder += `   } else if (v_textureIndex <= ${i}.5) {\\n\n                gl_FragColor = texture2D(u_textures[${i}], v_texcoord);\\n\n                gl_FragColor.w = gl_FragColor.w * v_opacity;\\n`;\n    }\n    newSource = newSource.replace('%%texture_picker%%', texturePickerBuilder);\n    return newSource;\n  }\n\n  public addImage(\n    graphic: HTMLImageSource,\n    sx: number,\n    sy: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ) {\n    const command = this.commands.get().init(graphic, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n    command.applyTransform(this._contextInfo.transform.current, this._contextInfo.state.current.opacity);\n    this.addCommand(command);\n  }\n\n  public renderBatch(gl: WebGLRenderingContext, batch: BatchImage, vertexCount: number) {\n    // Bind textures in the correct order\n    batch.bindTextures(gl);\n    // draw the quads\n    gl.drawArrays(gl.TRIANGLES, 0, vertexCount);\n  }\n\n  buildBatchVertices(vertexBuffer: Float32Array, batch: BatchImage): number {\n    let vertIndex = 0;\n    let sx: number = 0;\n    let sy: number = 0;\n    let sw: number = 0;\n    let sh: number = 0;\n    let potWidth: number = 0;\n    let potHeight: number = 0;\n    let textureId = 0;\n    for (const command of batch.commands) {\n      sx = command.view[0];\n      sy = command.view[1];\n      sw = command.view[2];\n      sh = command.view[3];\n\n      potWidth = ensurePowerOfTwo(command.image.width || command.width);\n      potHeight = ensurePowerOfTwo(command.image.height || command.height);\n\n      textureId = batch.getBatchTextureId(command);\n\n      // potential optimization when divding by 2 (bitshift)\n      // Modifying the images to poweroftwo images warp the UV coordinates\n      const uvx0 = sx / potWidth;\n      const uvy0 = sy / potHeight;\n      const uvx1 = (sx + sw) / potWidth;\n      const uvy1 = (sy + sh) / potHeight;\n\n      // Quad update\n      // (0, 0, z) z-index doesn't work in batch rendering between batches\n      vertexBuffer[vertIndex++] = command.geometry[0][0]; // x + 0 * width;\n      vertexBuffer[vertIndex++] = command.geometry[0][1]; //y + 0 * height;\n      vertexBuffer[vertIndex++] = 0;\n\n      // UV coords\n      vertexBuffer[vertIndex++] = uvx0; // 0;\n      vertexBuffer[vertIndex++] = uvy0; // 0;\n      // texture id\n      vertexBuffer[vertIndex++] = textureId;\n      // opacity\n      vertexBuffer[vertIndex++] = command.opacity;\n\n      // (0, 1)\n      vertexBuffer[vertIndex++] = command.geometry[1][0]; // x + 0 * width;\n      vertexBuffer[vertIndex++] = command.geometry[1][1]; // y + 1 * height;\n      vertexBuffer[vertIndex++] = 0;\n\n      // UV coords\n      vertexBuffer[vertIndex++] = uvx0; // 0;\n      vertexBuffer[vertIndex++] = uvy1; // 1;\n      // texture id\n      vertexBuffer[vertIndex++] = textureId;\n      // opacity\n      vertexBuffer[vertIndex++] = command.opacity;\n\n      // (1, 0)\n      vertexBuffer[vertIndex++] = command.geometry[2][0]; // x + 1 * width;\n      vertexBuffer[vertIndex++] = command.geometry[2][1]; // y + 0 * height;\n      vertexBuffer[vertIndex++] = 0;\n\n      // UV coords\n      vertexBuffer[vertIndex++] = uvx1; //1;\n      vertexBuffer[vertIndex++] = uvy0; //0;\n      // texture id\n      vertexBuffer[vertIndex++] = textureId;\n      // opacity\n      vertexBuffer[vertIndex++] = command.opacity;\n\n      // (1, 0)\n      vertexBuffer[vertIndex++] = command.geometry[3][0]; // x + 1 * width;\n      vertexBuffer[vertIndex++] = command.geometry[3][1]; // y + 0 * height;\n      vertexBuffer[vertIndex++] = 0;\n\n      // UV coords\n      vertexBuffer[vertIndex++] = uvx1; //1;\n      vertexBuffer[vertIndex++] = uvy0; //0;\n      // texture id\n      vertexBuffer[vertIndex++] = textureId;\n      // opacity\n      vertexBuffer[vertIndex++] = command.opacity;\n\n      // (0, 1)\n      vertexBuffer[vertIndex++] = command.geometry[4][0]; // x + 0 * width;\n      vertexBuffer[vertIndex++] = command.geometry[4][1]; // y + 1 * height\n      vertexBuffer[vertIndex++] = 0;\n\n      // UV coords\n      vertexBuffer[vertIndex++] = uvx0; // 0;\n      vertexBuffer[vertIndex++] = uvy1; // 1;\n      // texture id\n      vertexBuffer[vertIndex++] = textureId;\n      // opacity\n      vertexBuffer[vertIndex++] = command.opacity;\n\n      // (1, 1)\n      vertexBuffer[vertIndex++] = command.geometry[5][0]; // x + 1 * width;\n      vertexBuffer[vertIndex++] = command.geometry[5][1]; // y + 1 * height;\n      vertexBuffer[vertIndex++] = 0;\n\n      // UV coords\n      vertexBuffer[vertIndex++] = uvx1; // 1;\n      vertexBuffer[vertIndex++] = uvy1; // 1;\n      // texture id\n      vertexBuffer[vertIndex++] = textureId;\n      // opacity\n      vertexBuffer[vertIndex++] = command.opacity;\n    }\n\n    return vertIndex / this.vertexSize;\n  }\n}\n","module.exports=\"#define GLSLIFY 1\\nattribute vec4 a_position;\\nattribute vec4 a_color;\\nattribute float a_size;\\nvarying lowp vec4 v_color;\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n  gl_Position = u_matrix * a_position;\\n  gl_PointSize = a_size * 2.0;\\n  v_color = a_color;\\n}\";","module.exports=\"#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n\\nprecision mediump float;\\n#define GLSLIFY 1\\nvarying lowp vec4 v_color;\\n\\nvoid main() {\\n  float r = 0.0, delta = 0.0, alpha = 1.0;\\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\\n  r = dot(cxy, cxy);\\n  \\n#ifdef GL_OES_standard_derivatives\\n  delta = fwidth(r);\\n  alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\\n#else\\n  if (r > 1.0) {\\n    discard;\\n  }\\n#endif\\n  gl_FragColor = vec4(v_color.rgb, v_color.a * alpha);\\n}\";","import { Shader } from './shader';\nimport pointVertexSource from './shaders/point-vertex.glsl';\nimport pointFragmentSource from './shaders/point-fragment.glsl';\nimport { Vector } from '../../Algebra';\nimport { Color } from '../../Drawing/Color';\nimport { BatchRenderer } from './renderer';\nimport { BatchCommand } from './batch';\nimport { WebGLGraphicsContextInfo } from './ExcaliburGraphicsContextWebGL';\nimport { Pool, Poolable } from '../../Util/Pool';\n// import { Random } from '../../Math/Index';\n\nexport class DrawPoint implements Poolable {\n  _pool?: Pool<this>;\n  public point: Vector = Vector.Zero;\n  public color: Color = Color.Black;\n  public size: number = 1;\n  public dispose() {\n    this.point.setTo(0, 0);\n    this.color.r = 0;\n    this.color.g = 0;\n    this.color.b = 0;\n    this.color.a = 1;\n    this.size = 1;\n    return this;\n  }\n}\n\nexport class PointRenderer extends BatchRenderer<DrawPoint> {\n  constructor(gl: WebGLRenderingContext, private _contextInfo: WebGLGraphicsContextInfo) {\n    super({ gl, command: DrawPoint, verticesPerCommand: 1 });\n    this.init();\n  }\n\n  buildShader(gl: WebGLRenderingContext): Shader {\n    gl.getExtension('OES_standard_derivatives');\n    const shader = new Shader(gl, pointVertexSource, pointFragmentSource);\n    shader.addAttribute('a_position', 2, gl.FLOAT);\n    shader.addAttribute('a_color', 4, gl.FLOAT);\n    shader.addAttribute('a_size', 1, gl.FLOAT);\n    shader.addUniformMatrix('u_matrix', this._contextInfo.matrix.data);\n    return shader;\n  }\n\n  addPoint(point: Vector, color: Color, size: number) {\n    const cmd = this.commands.get();\n    cmd.point = this._contextInfo.transform.current.multv(point);\n    cmd.color.r = color.r;\n    cmd.color.g = color.g;\n    cmd.color.b = color.b;\n    cmd.color.a = color.a * this._contextInfo.state.current.opacity;\n    cmd.size = size * Math.max(this._contextInfo.transform.current.getScaleX(), this._contextInfo.transform.current.getScaleY());\n    this.addCommand(cmd);\n  }\n\n  buildBatchVertices(vertexBuffer: Float32Array, batch: BatchCommand<DrawPoint>): number {\n    let index = 0;\n    for (const command of batch.commands) {\n      vertexBuffer[index++] = command.point.x;\n      vertexBuffer[index++] = command.point.y;\n      // normalize to [0, 1] for webgl\n      vertexBuffer[index++] = command.color.r / 255;\n      vertexBuffer[index++] = command.color.g / 255;\n      vertexBuffer[index++] = command.color.b / 255;\n      vertexBuffer[index++] = command.color.a;\n\n      vertexBuffer[index++] = command.size;\n    }\n    return index / this.vertexSize;\n  }\n\n  renderBatch(gl: WebGLRenderingContext, _batch: BatchCommand<DrawPoint>, vertexCount: number): void {\n    gl.drawArrays(gl.POINTS, 0, vertexCount);\n  }\n}\n","import {\n  ExcaliburGraphicsContext,\n  LineGraphicsOptions,\n  RectGraphicsOptions,\n  PointGraphicsOptions,\n  ExcaliburGraphicsContextOptions,\n  DebugDraw,\n  HTMLImageSource\n} from './ExcaliburGraphicsContext';\n\nimport { Matrix } from '../../Math/matrix';\nimport { TransformStack } from './transform-stack';\nimport { Vector, vec } from '../../Algebra';\nimport { Color } from '../../Drawing/Color';\nimport { StateStack } from './state-stack';\nimport { Logger } from '../../Util/Log';\nimport { LineRenderer } from './line-renderer';\nimport { ImageRenderer } from './image-renderer';\nimport { PointRenderer } from './point-renderer';\nimport { Canvas } from '../Canvas';\nimport { GraphicsDiagnostics } from '../GraphicsDiagnostics';\n\nclass ExcaliburGraphicsContextWebGLDebug implements DebugDraw {\n  constructor(private _webglCtx: ExcaliburGraphicsContextWebGL) {}\n\n  /**\n   * Draw a debugging rectangle to the context\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   */\n  drawRect(x: number, y: number, width: number, height: number, rectOptions: RectGraphicsOptions = { color: Color.Black }): void {\n    this.drawLine(vec(x, y), vec(x + width, y), { ...rectOptions });\n    this.drawLine(vec(x + width, y), vec(x + width, y + height), { ...rectOptions });\n    this.drawLine(vec(x + width, y + height), vec(x, y + height), { ...rectOptions });\n    this.drawLine(vec(x, y + height), vec(x, y), { ...rectOptions });\n  }\n\n  /**\n   * Draw a debugging line to the context\n   * @param start\n   * @param end\n   * @param lineOptions\n   */\n  drawLine(start: Vector, end: Vector, lineOptions: LineGraphicsOptions = { color: Color.Black }): void {\n    this._webglCtx.__lineRenderer.addLine(start, end, lineOptions.color);\n  }\n\n  /**\n   * Draw a debugging point to the context\n   * @param point\n   * @param pointOptions\n   */\n  drawPoint(point: Vector, pointOptions: PointGraphicsOptions = { color: Color.Black, size: 5 }): void {\n    this._webglCtx.__pointRenderer.addPoint(point, pointOptions.color, pointOptions.size);\n  }\n}\n\nexport interface WebGLGraphicsContextInfo {\n  transform: TransformStack;\n  state: StateStack;\n  matrix: Matrix;\n}\n\nexport class ExcaliburGraphicsContextWebGL implements ExcaliburGraphicsContext {\n  /**\n   * Meant for internal use only. Access the internal context at your own risk and no guarantees this will exist in the future.\n   * @internal\n   */\n  public __gl: WebGLRenderingContext;\n\n  /**\n   * Holds the 2d context shim\n   */\n  private _canvas: Canvas; // Configure z for shim?\n  /**\n   * Meant for internal use only. Access the internal context at your own risk and no guarantees this will exist in the future.\n   * @internal\n   */\n  public __ctx: CanvasRenderingContext2D;\n\n  private _transform = new TransformStack();\n  private _state = new StateStack();\n  private _ortho!: Matrix;\n\n  /**\n   * Meant for internal use only. Access the internal context at your own risk and no guarantees this will exist in the future.\n   * @internal\n   */\n  public __pointRenderer: PointRenderer;\n\n  /**\n   * Meant for internal use only. Access the internal context at your own risk and no guarantees this will exist in the future.\n   * @internal\n   */\n  public __lineRenderer: LineRenderer;\n\n  /**\n   * Meant for internal use only. Access the internal context at your own risk and no guarantees this will exist in the future.\n   * @internal\n   */\n  public __imageRenderer: ImageRenderer;\n\n  public snapToPixel: boolean = true;\n\n  public smoothing: boolean = false;\n\n  public backgroundColor: Color = Color.ExcaliburBlue;\n\n  public get opacity(): number {\n    return this._state.current.opacity;\n  }\n\n  public set opacity(value: number) {\n    this._state.current.opacity = value;\n  }\n\n  public get width() {\n    return this.__gl.canvas.width;\n  }\n\n  public get height() {\n    return this.__gl.canvas.height;\n  }\n\n  constructor(options: ExcaliburGraphicsContextOptions) {\n    const { canvasElement, enableTransparency, smoothing, snapToPixel, backgroundColor } = options;\n    this.__gl = canvasElement.getContext('webgl', {\n      antialias: smoothing ?? this.smoothing,\n      premultipliedAlpha: false,\n      alpha: enableTransparency ?? true,\n      depth: true,\n      powerPreference: 'high-performance'\n    });\n    this.snapToPixel = snapToPixel ?? this.snapToPixel;\n    this.smoothing = smoothing ?? this.smoothing;\n    this.backgroundColor = backgroundColor ?? this.backgroundColor;\n    this._init();\n  }\n\n  private _init() {\n    const gl = this.__gl;\n    // Setup viewport and view matrix\n    this._ortho = Matrix.ortho(0, gl.canvas.width, gl.canvas.height, 0, 400, -400);\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n    // Clear background\n    gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    // Enable alpha blending\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    this.__pointRenderer = new PointRenderer(gl, { matrix: this._ortho, transform: this._transform, state: this._state });\n    this.__lineRenderer = new LineRenderer(gl, { matrix: this._ortho, transform: this._transform, state: this._state });\n    this.__imageRenderer = new ImageRenderer(gl, { matrix: this._ortho, transform: this._transform, state: this._state });\n\n    // 2D ctx shim\n    this._canvas = new Canvas({\n      width: gl.canvas.width,\n      height: gl.canvas.height\n    });\n    this.__ctx = this._canvas.ctx;\n  }\n\n  public resetTransform(): void {\n    this._transform.current = Matrix.identity();\n  }\n\n  public updateViewport(): void {\n    const gl = this.__gl;\n    this._ortho = this._ortho = Matrix.ortho(0, gl.canvas.width, gl.canvas.height, 0, 400, -400);\n    this.__pointRenderer.shader.addUniformMatrix('u_matrix', this._ortho.data);\n    this.__lineRenderer.shader.addUniformMatrix('u_matrix', this._ortho.data);\n    this.__imageRenderer.shader.addUniformMatrix('u_matrix', this._ortho.data);\n\n    // 2D ctx shim\n    this._canvas.width = gl.canvas.width;\n    this._canvas.height = gl.canvas.height;\n  }\n\n  drawImage(image: HTMLImageSource, x: number, y: number): void;\n  drawImage(image: HTMLImageSource, x: number, y: number, width: number, height: number): void;\n  drawImage(\n    image: HTMLImageSource,\n    sx: number,\n    sy: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ): void;\n  drawImage(\n    image: HTMLImageSource,\n    sx: number,\n    sy: number,\n    swidth?: number,\n    sheight?: number,\n    dx?: number,\n    dy?: number,\n    dwidth?: number,\n    dheight?: number\n  ): void {\n    if (!image) {\n      Logger.getInstance().warn('Cannot draw a null or undefined image');\n      // tslint:disable-next-line: no-console\n      if (console.trace) {\n        // tslint:disable-next-line: no-console\n        console.trace();\n      }\n      return;\n    }\n    this.__imageRenderer.addImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n  }\n\n  debug = new ExcaliburGraphicsContextWebGLDebug(this);\n\n  public save(): void {\n    this._transform.save();\n    this._state.save();\n  }\n\n  public restore(): void {\n    this._transform.restore();\n    this._state.restore();\n  }\n\n  public translate(x: number, y: number): void {\n    this._transform.translate(this.snapToPixel ? ~~x : x, this.snapToPixel ? ~~y : y);\n  }\n\n  public rotate(angle: number): void {\n    this._transform.rotate(angle);\n  }\n\n  public scale(x: number, y: number): void {\n    this._transform.scale(x, y);\n  }\n\n  public transform(matrix: Matrix) {\n    this._transform.current = matrix;\n  }\n\n  clear() {\n    const gl = this.__gl;\n    gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\n    // Clear the context with the newly set color. This is\n    // the function call that actually does the drawing.\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    GraphicsDiagnostics.clear();\n  }\n\n  /**\n   * Flushes all batched rendering to the screen\n   */\n  flush() {\n    const gl = this.__gl;\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n    this.__imageRenderer.render();\n    this.__lineRenderer.render();\n    this.__pointRenderer.render();\n  }\n}\n","// Graphics\nexport * from './Graphic';\nexport * from './Sprite';\nexport * from './SpriteSheet';\nexport * from './GraphicsGroup';\nexport * from './ImageSource';\nexport * from './Animation';\n\n// Graphics ECS\nexport * from './GraphicsComponent';\nexport * from './GraphicsSystem';\n\n// Raster graphics\nexport * from './Raster';\nexport * from './Circle';\nexport * from './Rectangle';\nexport * from './Polygon';\nexport * from './Text';\nexport * from './FontCommon';\nexport * from './Font';\nexport * from './SpriteFont';\nexport * from './Canvas';\n\nexport * from './Context/ExcaliburGraphicsContext';\nexport * from './Context/ExcaliburGraphicsContext2DCanvas';\nexport * from './Context/ExcaliburGraphicsContextWebGL';\n","import { Color } from './Color';\nimport * as Effects from './SpriteEffects';\n\nimport { Drawable, DrawOptions } from '../Interfaces/Drawable';\nimport { Vector } from '../Algebra';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * Creates a closed polygon drawing given a list of [[Vector]]s.\n *\n * @deprecated Use [[\"Graphics/Polygon\".Polygon]]\n * @warning Use sparingly as Polygons are performance intensive\n */\n@obsolete({\n  message: 'Polygon will be removed in v0.26.0',\n  alternateMethod: 'Use Graphics.Polygon'\n})\nexport class Polygon implements Drawable {\n  public flipVertical: boolean;\n  public flipHorizontal: boolean;\n  public drawWidth: number;\n  public drawHeight: number;\n\n  public width: number;\n  public height: number;\n\n  /**\n   * The color to use for the lines of the polygon\n   */\n  public lineColor: Color;\n  /**\n   * The color to use for the interior of the polygon\n   */\n  public fillColor: Color;\n  /**\n   * The width of the lines of the polygon\n   */\n  public lineWidth: number = 5;\n  /**\n   * Indicates whether the polygon is filled or not.\n   */\n  public filled: boolean = false;\n\n  private _points: Vector[] = [];\n  public anchor = Vector.Zero;\n  public offset = Vector.Zero;\n  public rotation: number = 0;\n  public scale = Vector.One;\n  public opacity: number = 1;\n\n  /**\n   * @param points  The vectors to use to build the polygon in order\n   */\n  constructor(points: Vector[]) {\n    this._points = points;\n\n    const minX = this._points.reduce((prev: number, curr: Vector) => {\n      return Math.min(prev, curr.x);\n    }, 0);\n    const maxX = this._points.reduce((prev: number, curr: Vector) => {\n      return Math.max(prev, curr.x);\n    }, 0);\n\n    this.drawWidth = maxX - minX;\n\n    const minY = this._points.reduce((prev: number, curr: Vector) => {\n      return Math.min(prev, curr.y);\n    }, 0);\n    const maxY = this._points.reduce((prev: number, curr: Vector) => {\n      return Math.max(prev, curr.y);\n    }, 0);\n\n    this.drawHeight = maxY - minY;\n\n    this.height = this.drawHeight;\n    this.width = this.drawWidth;\n  }\n\n  /**\n   * @notimplemented Effects are not supported on `Polygon`\n   */\n  public addEffect() {\n    // not supported on polygons\n  }\n  /**\n   * @notimplemented Effects are not supported on `Polygon`\n   */\n  public removeEffect(index: number): void;\n  /**\n   * @notimplemented Effects are not supported on `Polygon`\n   */\n  public removeEffect(effect: Effects.SpriteEffect): void;\n  /**\n   * @notimplemented Effects are not supported on `Polygon`\n   */\n  public removeEffect() {\n    // not supported on polygons\n  }\n\n  /**\n   * @notimplemented Effects are not supported on `Polygon`\n   */\n  public clearEffects() {\n    // not supported on polygons\n  }\n\n  public reset() {\n    //pass\n  }\n\n  /**\n   * Draws the sprite appropriately to the 2D rendering context, at an x and y coordinate.\n   * @param ctx  The 2D rendering context\n   * @param x    The x coordinate of where to draw\n   * @param y    The y coordinate of where to draw\n   */\n  public draw(ctx: CanvasRenderingContext2D, x: number, y: number): void;\n  /**\n   * Draws the sprite with custom options to override internals without mutating them.\n   * @param options\n   */\n  public draw(options: DrawOptions): void;\n  public draw(ctxOrOptions: CanvasRenderingContext2D | DrawOptions, x?: number, y?: number): void {\n    if (ctxOrOptions instanceof CanvasRenderingContext2D) {\n      this._drawWithOptions({ ctx: ctxOrOptions, x, y });\n    } else {\n      this._drawWithOptions(ctxOrOptions);\n    }\n  }\n\n  private _drawWithOptions(options: DrawOptions) {\n    const { ctx, x, y, rotation, drawWidth, drawHeight, anchor, offset, opacity, flipHorizontal, flipVertical } = {\n      ...options,\n      rotation: options.rotation ?? this.rotation,\n      drawWidth: options.drawWidth ?? this.drawWidth,\n      drawHeight: options.drawHeight ?? this.drawHeight,\n      flipHorizontal: options.flipHorizontal ?? this.flipHorizontal,\n      flipVertical: options.flipVertical ?? this.flipVertical,\n      anchor: options.anchor ?? this.anchor,\n      offset: options.offset ?? this.offset,\n      opacity: options.opacity ?? this.opacity\n    };\n\n    const xpoint = drawWidth * anchor.x + offset.x + x;\n    const ypoint = drawHeight * anchor.y + offset.y + y;\n\n    ctx.save();\n    ctx.translate(xpoint, ypoint);\n    ctx.scale(this.scale.x, this.scale.y);\n    ctx.rotate(rotation);\n    ctx.beginPath();\n    ctx.lineWidth = this.lineWidth;\n\n    // Iterate through the supplied points and construct a 'polygon'\n    const firstPoint = this._points[0];\n    ctx.moveTo(firstPoint.x, firstPoint.y);\n\n    let i = 0;\n    const len = this._points.length;\n\n    for (i; i < len; i++) {\n      ctx.lineTo(this._points[i].x, this._points[i].y);\n    }\n\n    ctx.lineTo(firstPoint.x, firstPoint.y);\n    ctx.closePath();\n\n    if (this.filled) {\n      ctx.fillStyle = this.fillColor.toString();\n      ctx.fill();\n    }\n\n    ctx.strokeStyle = this.lineColor.toString();\n\n    if (flipHorizontal) {\n      ctx.translate(drawWidth, 0);\n      ctx.scale(-1, 1);\n    }\n\n    if (flipVertical) {\n      ctx.translate(0, drawHeight);\n      ctx.scale(1, -1);\n    }\n\n    const oldAlpha = ctx.globalAlpha;\n    ctx.globalAlpha = opacity ?? 1;\n    ctx.stroke();\n    ctx.globalAlpha = oldAlpha;\n\n    ctx.restore();\n  }\n}\n","import { Sprite, SpriteArgs } from './Sprite';\nimport { Animation } from './Animation';\nimport { Color } from './Color';\nimport * as Effects from './SpriteEffects';\n\nimport { Texture } from '../Resources/Texture';\nimport { Engine } from '../Engine';\nimport { Logger } from '../Util/Log';\nimport { BaseAlign, TextAlign } from '../Graphics/FontCommon';\nimport { obsolete } from '../Util/Decorators';\nimport { vec } from '../Algebra';\n\nexport interface SpriteSheetArgs {\n  image: Texture;\n  sprites?: Sprite[];\n  spWidth: number;\n  spHeight: number;\n  rows: number;\n  columns: number;\n  spacing?: number | SpriteSheetSpacingDimensions;\n}\n\nexport interface SpriteSheetSpacingDimensions {\n  top?: number;\n  left?: number;\n  margin?: number;\n}\n\n/**\n * Sprite sheets are a useful mechanism for slicing up image resources into\n * separate sprites or for generating in game animations. [[Sprite|Sprites]] are organized\n * in row major order in the [[SpriteSheet]].\n * @deprecated Will be removed in v0.26.0\n */\nexport class SpriteSheet {\n  private _sprites: Sprite[] = [];\n  private _image: Texture | null = null;\n  private _columns: number = 0;\n  private _rows: number = 0;\n  private _spWidth: number = 0;\n  private _spHeight: number = 0;\n  private _spacing: number | SpriteSheetSpacingDimensions = 0;\n\n  /**\n   * @param config    The configuration of the SpriteSheet\n   */\n  constructor(config: SpriteSheetArgs);\n\n  /**\n   * @param sprites   The backing sprite array to use, if already available\n   */\n  constructor(sprites: Sprite[]);\n\n  /**\n   * @param image     The backing image texture to build the SpriteSheet\n   * @param columns   The number of columns in the image texture\n   * @param rows      The number of rows in the image texture\n   * @param spWidth   The width of each individual sprite in pixels\n   * @param spHeight  The height of each individual sprite in pixels\n   * @param spacing   The spacing between every sprite in a spritesheet\n   */\n  constructor(\n    image: Texture,\n    columns: number,\n    rows: number,\n    spWidth: number,\n    spHeight: number,\n    spacing?: number | SpriteSheetSpacingDimensions\n  );\n\n  /**\n   * @param imageOrConfigOrSprites The backing image texture to build the SpriteSheet, option bag, or sprite list\n   * @param columns   The number of columns in the image texture\n   * @param rows      The number of rows in the image texture\n   * @param spWidth   The width of each individual sprite in pixels\n   * @param spHeight  The height of each individual sprite in pixels\n   * @param spacing   The spacing between every sprite in a spritesheet\n   */\n  constructor(\n    imageOrConfigOrSprites: Texture | SpriteSheetArgs | Sprite[],\n    columns?: number,\n    rows?: number,\n    spWidth?: number,\n    spHeight?: number,\n    spacing?: number | SpriteSheetSpacingDimensions\n  ) {\n    let loadFromImage: boolean = false;\n    if (imageOrConfigOrSprites instanceof Array) {\n      this._sprites = imageOrConfigOrSprites;\n    } else {\n      if (imageOrConfigOrSprites && !(imageOrConfigOrSprites instanceof Texture)) {\n        this._columns = imageOrConfigOrSprites.columns;\n        this._rows = imageOrConfigOrSprites.rows;\n        this._spWidth = imageOrConfigOrSprites.spWidth;\n        this._spHeight = imageOrConfigOrSprites.spHeight;\n        this._image = imageOrConfigOrSprites.image;\n        this._spacing = imageOrConfigOrSprites.spacing || 0;\n      } else {\n        this._image = <Texture>imageOrConfigOrSprites;\n        this._columns = columns;\n        this._rows = rows;\n        this._spWidth = spWidth;\n        this._spHeight = spHeight;\n        this._spacing = spacing || 0;\n      }\n      this._sprites = new Array(this._columns * this._rows);\n      loadFromImage = true;\n    }\n\n    // Inspect actual image dimensions with preloading\n    if (this.image instanceof Texture) {\n      let isWidthError: boolean = false;\n      let isHeightError: boolean = false;\n      if (this.image.isLoaded()) {\n        isWidthError = this.spWidth * this.columns > this.image.image.naturalWidth;\n        isHeightError = this.spHeight * this.rows > this.image.image.naturalHeight;\n        if (isWidthError) {\n          throw new RangeError(\n            `SpriteSheet specified is wider, ` +\n              `${this.columns} cols x ${this.spWidth} pixels > ${this.image.image.naturalWidth} ` +\n              `pixels than image width`\n          );\n        }\n        if (isHeightError) {\n          throw new RangeError(\n            `SpriteSheet specified is taller, ` +\n              `${this.rows} rows x ${this.spHeight} pixels > ${this.image.image.naturalHeight} ` +\n              `pixels than image height`\n          );\n        }\n      }\n    }\n\n    if (loadFromImage) {\n      const spacing = this.getSpacingDimensions();\n\n      for (let row = 0; row < this.rows; row++) {\n        for (let col = 0; col < this.columns; col++) {\n          this._sprites[col + row * this.columns] = new Sprite(\n            this.image,\n            col * this.spWidth + spacing.margin * col + spacing.left,\n            row * this.spHeight + spacing.margin * row + spacing.top,\n            this.spWidth,\n            this.spHeight\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * Gets the raw spacing dimensions for the sprites in the sheet, which can be a fixed number or custom dimensions.\n   */\n  public get spacing() {\n    return this._spacing;\n  }\n\n  /**\n   * Get a copy of the backing sprite array\n   */\n  public get sprites() {\n    return [...this._sprites];\n  }\n\n  /**\n   * The backing texture used for the sprite sheet\n   */\n  public get image() {\n    return this._image;\n  }\n\n  /**\n   * The number of columns in the sheet\n   */\n  public get columns() {\n    return this._columns;\n  }\n\n  /**\n   * The number of rows in the sheet\n   */\n  public get rows() {\n    return this._rows;\n  }\n\n  /**\n   * The width of the individual sprites\n   */\n  public get spWidth() {\n    return this._spWidth;\n  }\n\n  /**\n   * The height of the individual sprites\n   */\n  public get spHeight() {\n    return this._spHeight;\n  }\n\n  /**\n   * Gets the calculated spacing dimensions based on whether spacing\n   * is a fixed number or has different values for each dimension\n   */\n  public getSpacingDimensions(): SpriteSheetSpacingDimensions {\n    if (typeof this.spacing === 'number') {\n      return {\n        left: this.spacing,\n        top: this.spacing,\n        margin: this.spacing\n      };\n    } else {\n      return {\n        left: this.spacing.left ?? 0,\n        top: this.spacing.top ?? 0,\n        margin: this.spacing.margin ?? 0\n      };\n    }\n  }\n\n  /**\n   * Create an animation from the this SpriteSheet by listing out the\n   * sprite indices. Sprites are organized in row major order in the SpriteSheet.\n   * @param engine   Reference to the current game [[Engine]]\n   * @param indices  An array of sprite indices to use in the animation\n   * @param speed    The number in milliseconds to display each frame in the animation\n   */\n  public getAnimationByIndices(engine: Engine, indices: number[], speed: number) {\n    let images: Sprite[] = indices.map((index) => {\n      return this.sprites[index];\n    });\n\n    images = images.map(function (i) {\n      return i.clone();\n    });\n    return new Animation(engine, images, speed);\n  }\n\n  /**\n   * Create an animation from the this SpriteSheet by specifying the range of\n   * images with the beginning (inclusive) and ending (exclusive) index\n   * For example `getAnimationBetween(engine, 0, 5, 200)` returns an animation with 5 frames.\n   * @param engine      Reference to the current game Engine\n   * @param beginIndex  The index to start taking frames (inclusive)\n   * @param endIndex    The index to stop taking frames (exclusive)\n   * @param speed       The number in milliseconds to display each frame in the animation\n   */\n  public getAnimationBetween(engine: Engine, beginIndex: number, endIndex: number, speed: number) {\n    let images = this.sprites.slice(beginIndex, endIndex);\n    images = images.map(function (i) {\n      return i.clone();\n    });\n    return new Animation(engine, images, speed);\n  }\n\n  /**\n   * Treat the entire SpriteSheet as one animation, organizing the frames in\n   * row major order.\n   * @param engine  Reference to the current game [[Engine]]\n   * @param speed   The number in milliseconds to display each frame the animation\n   */\n  public getAnimationForAll(engine: Engine, speed: number) {\n    const sprites = this.sprites.map(function (i) {\n      return i.clone();\n    });\n    return new Animation(engine, sprites, speed);\n  }\n\n  /**\n   * Retrieve a specific sprite from the SpriteSheet by its index. Sprites are organized\n   * in row major order in the SpriteSheet.\n   * @param index  The index of the sprite\n   */\n  public getSprite(index: number): Sprite {\n    if (index >= 0 && index < this.sprites.length) {\n      return this.sprites[index];\n    } else {\n      throw new Error('Invalid index: ' + index);\n    }\n  }\n\n  /**\n   * Get an animation with bespoke sprite coordinates. This is useful if the SpriteSheet is\n   * packed and not a uniform width or height. The resulting [[Animation]] will have the height and width of the\n   * largest dimension (width, height) from among the sprite coordinates\n   * @param engine\n   * @param spriteCoordinates\n   * @param speed\n   */\n  public getAnimationByCoords(engine: Engine, spriteCoordinates: SpriteArgs[], speed: number): Animation {\n    let maxWidth: number = 0;\n    let maxHeight: number = 0;\n    const sprites: Sprite[] = new Array(spriteCoordinates.length);\n    for (let i = 0; i < spriteCoordinates.length; i++) {\n      const coord = spriteCoordinates[i];\n      // no need to pass image again if using a spritesheet\n      coord.image = coord.image || this.image;\n      maxWidth = Math.max(maxWidth, coord.drawWidth);\n      maxHeight = Math.max(maxHeight, coord.drawHeight);\n      sprites[i] = new Sprite(coord);\n    }\n\n    const anim = new Animation(engine, sprites, speed);\n\n    anim.drawWidth = maxWidth;\n    anim.drawHeight = maxHeight;\n    return anim;\n  }\n}\n\n/**\n * Specify various font attributes for sprite fonts\n */\nexport interface SpriteFontOptions {\n  color?: Color;\n  opacity?: number;\n  fontSize?: number;\n  letterSpacing?: number;\n  textAlign?: TextAlign;\n  baseAlign?: BaseAlign;\n  maxWidth?: number;\n}\n\nexport interface SpriteFontArgs extends SpriteSheetArgs {\n  alphabet: string;\n  caseInsensitive: boolean;\n}\n\n/**\n * Sprite fonts are a used in conjunction with a [[Label]] to specify\n * a particular bitmap as a font. Note that some font features are not\n * supported by Sprite fonts.\n * @deprecated Will be removed into v0.26.0\n */\n@obsolete({\n  message: 'SpriteSheet will be removed in v0.26.0',\n  alternateMethod: 'Use Graphics.SpriteSheet'\n})\nexport class SpriteFont extends SpriteSheet {\n  private _currentColor: Color = Color.Black;\n  private _currentOpacity: Number = 1.0;\n  private _spriteRecord: Record<string, Sprite> = {};\n\n  // text shadow\n  private _textShadowOn: boolean = false;\n  private _textShadowDirty: boolean = true;\n  private _textShadowColor: Color = Color.Black;\n  private _textShadowSprites: { [key: string]: Sprite } = {};\n  private _shadowOffsetX: number = 5;\n  private _shadowOffsetY: number = 5;\n  public readonly alphabet: string;\n  public readonly caseInsensitive: boolean;\n\n  constructor(config: SpriteFontArgs);\n\n  constructor(\n    image: Texture,\n    alphabet: string,\n    caseInsensitive: boolean,\n    columns: number,\n    rows: number,\n    spWidth: number,\n    spHeight: number,\n    spacing?: number | SpriteSheetSpacingDimensions\n  );\n\n  /**\n   * @param imageOrConfig   The backing image texture to build the SpriteFont or the sprite font option bag\n   * @param alphabet        A string representing all the characters in the image, in row major order.\n   * @param caseInsensitive  Indicate whether this font takes case into account\n   * @param columns         The number of columns of characters in the image\n   * @param rows            The number of rows of characters in the image\n   * @param spWidth         The width of each character in pixels\n   * @param spHeight        The height of each character in pixels\n   */\n  constructor(\n    imageOrConfig: Texture | SpriteFontArgs,\n    alphabet?: string,\n    caseInsensitive?: boolean,\n    columns?: number,\n    rows?: number,\n    spWidth?: number,\n    spHeight?: number,\n    spacing?: number | SpriteSheetSpacingDimensions\n  ) {\n    super(\n      imageOrConfig instanceof Texture\n        ? {\n          image: imageOrConfig,\n          spWidth: spWidth,\n          spHeight: spHeight,\n          rows: rows,\n          columns: columns,\n          spacing: spacing || 0\n        }\n        : imageOrConfig\n    );\n\n    if (imageOrConfig && !(imageOrConfig instanceof Texture)) {\n      alphabet = imageOrConfig.alphabet;\n      caseInsensitive = imageOrConfig.caseInsensitive;\n    }\n\n    this.alphabet = alphabet;\n    this.caseInsensitive = caseInsensitive;\n    this._spriteRecord = this.getTextSprites();\n  }\n\n  /**\n   * Returns a dictionary that maps each character in the alphabet to the appropriate [[Sprite]].\n   */\n  public getTextSprites(): { [key: string]: Sprite } {\n    const lookup: { [key: string]: Sprite } = {};\n    for (let i = 0; i < this.alphabet.length; i++) {\n      let char = this.alphabet[i];\n      if (this.caseInsensitive) {\n        char = char.toLowerCase();\n      }\n      lookup[char] = this.sprites[i].clone();\n    }\n    return lookup;\n  }\n\n  /**\n   * Sets the text shadow for sprite fonts\n   * @param offsetX      The x offset in pixels to place the shadow\n   * @param offsetY      The y offset in pixels to place the shadow\n   * @param shadowColor  The color of the text shadow\n   */\n  public setTextShadow(offsetX: number, offsetY: number, shadowColor: Color) {\n    this._textShadowOn = true;\n    this._shadowOffsetX = offsetX;\n    this._shadowOffsetY = offsetY;\n    this._textShadowColor = shadowColor.clone();\n    this._textShadowDirty = true;\n    for (const character in this._spriteRecord) {\n      this._textShadowSprites[character] = this._spriteRecord[character].clone();\n    }\n  }\n\n  /**\n   * Toggles text shadows on or off\n   */\n  public useTextShadow(on: boolean) {\n    this._textShadowOn = on;\n    if (on) {\n      this.setTextShadow(5, 5, this._textShadowColor);\n    }\n  }\n\n  /**\n   * Draws the current sprite font\n   */\n  public draw(ctx: CanvasRenderingContext2D, text: string, x: number, y: number, options: SpriteFontOptions) {\n    options = this._parseOptions(options);\n\n    if (this._currentColor.toString() !== options.color.toString() || this._currentOpacity !== options.opacity) {\n      this._currentOpacity = options.opacity;\n      this._currentColor = options.color;\n      for (const char in this._spriteRecord) {\n        this._spriteRecord[char].clearEffects();\n        this._spriteRecord[char].fill(options.color);\n        this._spriteRecord[char].opacity(options.opacity);\n      }\n    }\n\n    if (this._textShadowOn && this._textShadowDirty && this._textShadowColor) {\n      for (const characterShadow in this._textShadowSprites) {\n        this._textShadowSprites[characterShadow].clearEffects();\n        this._textShadowSprites[characterShadow].addEffect(new Effects.Fill(this._textShadowColor.clone()));\n      }\n      this._textShadowDirty = false;\n    }\n\n    // find the current length of text in pixels\n    const sprite = this.sprites[0];\n\n    // find the current height fo the text in pixels\n    const height = sprite.height;\n\n    // calculate appropriate scale for font size\n    const scale = options.fontSize / height;\n\n    const length = text.length * sprite.width * scale + text.length * options.letterSpacing;\n\n    let currX = x;\n    if (options.textAlign === TextAlign.Left || options.textAlign === TextAlign.Start) {\n      currX = x;\n    } else if (options.textAlign === TextAlign.Right || options.textAlign === TextAlign.End) {\n      currX = x - length;\n    } else if (options.textAlign === TextAlign.Center) {\n      currX = x - length / 2;\n    }\n\n    let currY = y - height * scale;\n    if (options.baseAlign === BaseAlign.Top || options.baseAlign === BaseAlign.Hanging) {\n      currY = y;\n    } else if (\n      options.baseAlign === BaseAlign.Ideographic ||\n      options.baseAlign === BaseAlign.Bottom ||\n      options.baseAlign === BaseAlign.Alphabetic\n    ) {\n      currY = y - height * scale;\n    } else if (options.baseAlign === BaseAlign.Middle) {\n      currY = y - (height * scale) / 2;\n    }\n\n    for (let i = 0; i < text.length; i++) {\n      let character = text[i];\n      if (this.caseInsensitive) {\n        character = character.toLowerCase();\n      }\n      try {\n        // if text shadow\n        if (this._textShadowOn) {\n          this._textShadowSprites[character].drawAroundAnchor = false;\n          this._textShadowSprites[character].scale = vec(scale, scale);\n          this._textShadowSprites[character].draw(ctx, currX + this._shadowOffsetX, currY + this._shadowOffsetY);\n        }\n\n        const charSprite = this._spriteRecord[character];\n        charSprite.drawAroundAnchor = false;\n        charSprite.scale = vec(scale, scale);\n        charSprite.draw(ctx, currX, currY);\n        currX += charSprite.drawWidth + options.letterSpacing;\n      } catch (e) {\n        Logger.getInstance().error(`SpriteFont Error drawing char ${character}`);\n      }\n    }\n  }\n\n  private _parseOptions(options: SpriteFontOptions): SpriteFontOptions {\n    return {\n      fontSize: options.fontSize || 10,\n      letterSpacing: options.letterSpacing || 0,\n      color: options.color || Color.Black,\n      textAlign: typeof options.textAlign === undefined ? TextAlign.Left : options.textAlign,\n      baseAlign: typeof options.baseAlign === undefined ? BaseAlign.Bottom : options.baseAlign,\n      maxWidth: options.maxWidth || -1,\n      opacity: options.opacity || 0\n    };\n  }\n}\n","import { Engine } from '../Engine';\nimport { Actor } from '../Actor';\nimport { Entity, System, SystemType } from '../EntityComponentSystem';\nimport { CanvasDrawComponent } from './CanvasDrawComponent';\nimport { Scene } from '../Scene';\nimport { Camera } from '../Camera';\nimport { CoordPlane, TransformComponent } from '../EntityComponentSystem/Components/TransformComponent';\nimport { GraphicsDiagnostics } from '../Graphics/GraphicsDiagnostics';\n\n/**\n * Draws anything with a transform and a \"draw\" method\n */\nexport class CanvasDrawingSystem extends System<TransformComponent | CanvasDrawComponent> {\n  public readonly types = ['transform', 'canvas'] as const;\n  public systemType = SystemType.Draw;\n  public priority = -1;\n\n  private _ctx: CanvasRenderingContext2D;\n  private _camera: Camera;\n  private _engine: Engine;\n\n  public initialize(scene: Scene): void {\n    this._ctx = scene.engine.ctx;\n    this._engine = scene.engine;\n    this._camera = scene.camera;\n  }\n\n  public sort(a: Entity, b: Entity) {\n    return a.get(TransformComponent).z - b.get(TransformComponent).z;\n  }\n\n  public update(entities: Entity[], delta: number) {\n    this._clearScreen();\n\n    let transform: TransformComponent;\n    let canvasdraw: CanvasDrawComponent;\n    const length = entities.length;\n    for (let i = 0; i < length; i++) {\n      if ((entities[i] as Actor).visible && !(entities[i] as Actor).isOffScreen) {\n        transform = entities[i].get(TransformComponent);\n        canvasdraw = entities[i].get(CanvasDrawComponent);\n\n        this._ctx.save();\n        this._pushCameraTransform(transform);\n\n        this._ctx.save();\n        this._applyTransform(entities[i]);\n        canvasdraw.draw(this._ctx, delta);\n        this._ctx.restore();\n\n        this._popCameraTransform(transform);\n        this._ctx.restore();\n      }\n\n      if (this._engine.isDebug) {\n        this._ctx.save();\n        this._pushCameraTransform(transform);\n        this._ctx.strokeStyle = 'yellow';\n        (entities[i] as Actor).debugDraw(this._ctx);\n        this._popCameraTransform(transform);\n        this._ctx.restore();\n      }\n    }\n    if (this._engine.isDebug) {\n      this._ctx.save();\n      this._camera.draw(this._ctx);\n      this._camera.debugDraw(this._ctx);\n      this._ctx.restore();\n    }\n\n    this._engine.stats.currFrame.graphics.drawnImages = GraphicsDiagnostics.DrawnImagesCount;\n    this._engine.stats.currFrame.graphics.drawCalls = GraphicsDiagnostics.DrawCallCount;\n  }\n\n  private _applyTransform(entity: Entity) {\n    const ancestors = entity.getAncestors();\n    for (const ancestor of ancestors) {\n      const transform = ancestor?.get(TransformComponent);\n      if (transform) {\n        this._ctx.translate(transform.pos.x, transform.pos.y);\n        this._ctx.rotate(transform.rotation);\n        this._ctx.scale(transform.scale.x, transform.scale.y);\n      }\n    }\n  }\n\n  private _clearScreen(): void {\n    this._ctx.clearRect(0, 0, this._ctx.canvas.width, this._ctx.canvas.height);\n    this._ctx.fillStyle = this._engine.backgroundColor.toString();\n    this._ctx.fillRect(0, 0, this._ctx.canvas.width, this._ctx.canvas.height);\n  }\n\n  private _pushCameraTransform(transform: TransformComponent) {\n    if (transform.coordPlane === CoordPlane.World) {\n      // Apply camera transform to place entity in world space\n      this._ctx.save();\n      if (this._camera) {\n        this._camera.draw(this._ctx);\n      }\n    }\n  }\n\n  private _popCameraTransform(transform: TransformComponent) {\n    if (transform.coordPlane === CoordPlane.World) {\n      // Restore back to screen space from world space if we were drawing an entity there\n      this._ctx.restore();\n    }\n  }\n}\n","export { Animation, AnimationArgs } from './Animation';\nexport * from './Color';\nexport * from './Polygon';\nexport { Sprite, SpriteArgs } from './Sprite';\nexport { SpriteSheet, SpriteFont, SpriteSheetArgs, SpriteFontArgs as SpriteFontInitArgs, SpriteFontOptions } from './SpriteSheet';\nexport * from './CanvasDrawComponent';\nexport * from './CanvasDrawingSystem';\nimport * as effects from './SpriteEffects';\nexport { effects as Effects };\n","import { BoundingBox } from './Collision/BoundingBox';\nimport { Color } from './Drawing/Color';\nimport { Engine } from './Engine';\nimport { vec, Vector } from './Algebra';\nimport { Actor } from './Actor';\nimport { Logger } from './Util/Log';\nimport { SpriteSheet } from './Drawing/SpriteSheet';\nimport * as Events from './Events';\nimport { Configurable } from './Configurable';\nimport { Entity } from './EntityComponentSystem/Entity';\nimport { TransformComponent } from './EntityComponentSystem/Components/TransformComponent';\nimport { ExcaliburGraphicsContext, GraphicsComponent } from './Graphics';\nimport * as Graphics from './Graphics';\nimport { CanvasDrawComponent, Sprite } from './Drawing/Index';\nimport { Sprite as LegacySprite } from './Drawing/Index';\nimport { removeItemFromArray } from './Util/Util';\nimport { obsolete } from './Util/Decorators';\n\n/**\n * @hidden\n */\nexport class TileMapImpl extends Entity {\n  private _collidingX: number = -1;\n  private _collidingY: number = -1;\n  private _onScreenXStart: number = 0;\n  private _onScreenXEnd: number = 9999;\n  private _onScreenYStart: number = 0;\n  private _onScreenYEnd: number = 9999;\n  private _spriteSheets: { [key: string]: Graphics.SpriteSheet } = {};\n\n  private _legacySpriteMap = new Map<Graphics.Sprite, Sprite>();\n  public logger: Logger = Logger.getInstance();\n  public data: Cell[] = [];\n  public visible = true;\n  public isOffscreen = false;\n  public cellWidth: number;\n  public cellHeight: number;\n  public rows: number;\n  public cols: number;\n\n  private _transform: TransformComponent;\n\n  public get x(): number {\n    return this._transform.pos.x ?? 0;\n  }\n\n  public set x(val: number) {\n    if (this._transform?.pos) {\n      this.get(TransformComponent).pos = vec(val, this.y);\n    }\n  }\n\n  public get y(): number {\n    return this._transform?.pos.y ?? 0;\n  }\n\n  public set y(val: number) {\n    if (this._transform?.pos) {\n      this._transform.pos = vec(this.x, val);\n    }\n  }\n\n  public get z(): number {\n    return this._transform.z ?? 0;\n  }\n\n  public set z(val: number) {\n    if (this._transform?.z) {\n      this._transform.z = val;\n    }\n  }\n\n  public get rotation(): number {\n    return this._transform?.rotation ?? 0;\n  }\n\n  public set rotation(val: number) {\n    if (this._transform?.rotation) {\n      this._transform.rotation = val;\n    }\n  }\n\n  public get scale(): Vector {\n    return this._transform?.scale ?? Vector.One;\n  }\n  public set scale(val: Vector) {\n    if (this._transform?.scale) {\n      this._transform.scale = val;\n    }\n  }\n\n  public get pos(): Vector {\n    return this._transform.pos;\n  }\n\n  public set pos(val: Vector) {\n    this._transform.pos = val;\n  }\n\n  public on(eventName: Events.preupdate, handler: (event: Events.PreUpdateEvent<TileMap>) => void): void;\n  public on(eventName: Events.postupdate, handler: (event: Events.PostUpdateEvent<TileMap>) => void): void;\n  public on(eventName: Events.predraw, handler: (event: Events.PreDrawEvent) => void): void;\n  public on(eventName: Events.postdraw, handler: (event: Events.PostDrawEvent) => void): void;\n  public on(eventName: string, handler: (event: Events.GameEvent<any>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    super.on(eventName, handler);\n  }\n\n  /**\n   * @param xOrConfig     The x coordinate to anchor the TileMap's upper left corner (should not be changed once set) or TileMap option bag\n   * @param y             The y coordinate to anchor the TileMap's upper left corner (should not be changed once set)\n   * @param cellWidth     The individual width of each cell (in pixels) (should not be changed once set)\n   * @param cellHeight    The individual height of each cell (in pixels) (should not be changed once set)\n   * @param rows          The number of rows in the TileMap (should not be changed once set)\n   * @param cols          The number of cols in the TileMap (should not be changed once set)\n   */\n  constructor(xOrConfig: number | TileMapArgs, y: number, cellWidth: number, cellHeight: number, rows: number, cols: number) {\n    super([\n      new TransformComponent(),\n      new GraphicsComponent({\n        onPostDraw: (ctx, delta) => this.draw(ctx, delta)\n      }),\n      new CanvasDrawComponent((ctx, delta) => this.draw(ctx, delta))\n    ]);\n\n    if (xOrConfig && typeof xOrConfig === 'object') {\n      const config = xOrConfig;\n      xOrConfig = config.x;\n      y = config.y;\n      cellWidth = config.cellWidth;\n      cellHeight = config.cellHeight;\n      rows = config.rows;\n      cols = config.cols;\n    }\n    this.x = <number>xOrConfig;\n    this.y = y;\n    this.cellWidth = cellWidth;\n    this.cellHeight = cellHeight;\n    this.rows = rows;\n    this.cols = cols;\n    this.data = new Array<Cell>(rows * cols);\n    for (let i = 0; i < cols; i++) {\n      for (let j = 0; j < rows; j++) {\n        (() => {\n          const cd = new Cell(i * cellWidth + <number>xOrConfig, j * cellHeight + y, cellWidth, cellHeight, i + j * cols);\n          this.data[i + j * cols] = cd;\n        })();\n      }\n    }\n    this._transform = this.get(TransformComponent);\n    this.get(GraphicsComponent).localBounds = new BoundingBox({\n      left: 0,\n      top: 0,\n      right: this.cols * this.cellWidth,\n      bottom: this.rows * this.cellHeight\n    });\n  }\n\n  public _initialize(engine: Engine) {\n    super._initialize(engine);\n  }\n\n  /**\n   *\n   * @param key\n   * @param spriteSheet\n   * @deprecated No longer used, will be removed in v0.26.0\n   */\n  public registerSpriteSheet(key: string, spriteSheet: SpriteSheet): void;\n  public registerSpriteSheet(key: string, spriteSheet: Graphics.SpriteSheet): void;\n  @obsolete({ message: 'No longer used, will be removed in v0.26.0' })\n  public registerSpriteSheet(key: string, spriteSheet: SpriteSheet | Graphics.SpriteSheet): void {\n    if (spriteSheet instanceof Graphics.SpriteSheet) {\n      this._spriteSheets[key] = spriteSheet;\n    } else {\n      this._spriteSheets[key] = Graphics.SpriteSheet.fromLegacySpriteSheet(spriteSheet);\n    }\n  }\n\n  /**\n   * Returns the intersection vector that can be used to resolve collisions with actors. If there\n   * is no collision null is returned.\n   */\n  public collides(actor: Actor): Vector {\n    const width = actor.pos.x + actor.width;\n    const height = actor.pos.y + actor.height;\n    const actorBounds = actor.body.collider.bounds;\n    const overlaps: Vector[] = [];\n    if (actor.width <= 0 || actor.height <= 0) {\n      return null;\n    }\n    // trace points for overlap\n    for (let x = actorBounds.left; x <= width; x += Math.min(actor.width / 2, this.cellWidth / 2)) {\n      for (let y = actorBounds.top; y <= height; y += Math.min(actor.height / 2, this.cellHeight / 2)) {\n        const cell = this.getCellByPoint(x, y);\n        if (cell && cell.solid) {\n          const overlap = actorBounds.intersect(cell.bounds);\n          const dir = actor.center.sub(cell.center);\n          if (overlap && overlap.dot(dir) > 0) {\n            overlaps.push(overlap);\n          }\n        }\n      }\n    }\n    if (overlaps.length === 0) {\n      return null;\n    }\n    // Return the smallest change other than zero\n    const result = overlaps.reduce((accum, next) => {\n      let x = accum.x;\n      let y = accum.y;\n      if (Math.abs(accum.x) < Math.abs(next.x)) {\n        x = next.x;\n      }\n      if (Math.abs(accum.y) < Math.abs(next.y)) {\n        y = next.y;\n      }\n      return new Vector(x, y);\n    });\n    return result;\n  }\n\n  /**\n   * Returns the [[Cell]] by index (row major order)\n   */\n  public getCellByIndex(index: number): Cell {\n    return this.data[index];\n  }\n  /**\n   * Returns the [[Cell]] by its x and y coordinates\n   */\n  public getCell(x: number, y: number): Cell {\n    if (x < 0 || y < 0 || x >= this.cols || y >= this.rows) {\n      return null;\n    }\n    return this.data[x + y * this.cols];\n  }\n  /**\n   * Returns the [[Cell]] by testing a point in global coordinates,\n   * returns `null` if no cell was found.\n   */\n  public getCellByPoint(x: number, y: number): Cell {\n    x = Math.floor((x - this.x) / this.cellWidth);\n    y = Math.floor((y - this.y) / this.cellHeight);\n    const cell = this.getCell(x, y);\n    if (x >= 0 && y >= 0 && x < this.cols && y < this.rows && cell) {\n      return cell;\n    }\n    return null;\n  }\n\n  public onPreUpdate(_engine: Engine, _delta: number) {\n    // Override me\n  }\n\n  public onPostUpdate(_engine: Engine, _delta: number) {\n    // Override me\n  }\n\n  public update(engine: Engine, delta: number) {\n    this.onPreUpdate(engine, delta);\n    this.emit('preupdate', new Events.PreUpdateEvent(engine, delta, this));\n\n    const worldBounds = engine.getWorldBounds();\n    const worldCoordsUpperLeft = vec(worldBounds.left, worldBounds.top);\n    const worldCoordsLowerRight = vec(worldBounds.right, worldBounds.bottom);\n\n    this._onScreenXStart = Math.max(Math.floor((worldCoordsUpperLeft.x - this.x) / this.cellWidth) - 2, 0);\n    this._onScreenYStart = Math.max(Math.floor((worldCoordsUpperLeft.y - this.y) / this.cellHeight) - 2, 0);\n    this._onScreenXEnd = Math.max(Math.floor((worldCoordsLowerRight.x - this.x) / this.cellWidth) + 2, 0);\n    this._onScreenYEnd = Math.max(Math.floor((worldCoordsLowerRight.y - this.y) / this.cellHeight) + 2, 0);\n    this._transform.pos = vec(this.x, this.y);\n\n    this.onPostUpdate(engine, delta);\n    this.emit('postupdate', new Events.PostUpdateEvent(engine, delta, this));\n  }\n\n  /**\n   * Draws the tile map to the screen. Called by the [[Scene]].\n   * @param ctx CanvasRenderingContext2D or ExcaliburGraphicsContext\n   * @param delta  The number of milliseconds since the last draw\n   */\n  public draw(ctx: CanvasRenderingContext2D | ExcaliburGraphicsContext, delta: number): void {\n    this.emit('predraw', new Events.PreDrawEvent(ctx as any, delta, this)); // TODO fix event\n\n    let x = this._onScreenXStart;\n    const xEnd = Math.min(this._onScreenXEnd, this.cols);\n    let y = this._onScreenYStart;\n    const yEnd = Math.min(this._onScreenYEnd, this.rows);\n\n    let sprites: Graphics.Sprite[], spriteIndex: number, cslen: number;\n\n    for (x; x < xEnd; x++) {\n      for (y; y < yEnd; y++) {\n        // get non-negative tile sprites\n        sprites = this.getCell(x, y).sprites;\n\n        for (spriteIndex = 0, cslen = sprites.length; spriteIndex < cslen; spriteIndex++) {\n          // draw sprite, warning if sprite doesn't exist\n          const sprite = sprites[spriteIndex];\n          if (sprite) {\n            if (!(ctx instanceof CanvasRenderingContext2D)) {\n              sprite.draw(ctx, x * this.cellWidth, y * this.cellHeight);\n            } else {\n              // TODO legacy drawing mode\n              if (!this._legacySpriteMap.has(sprite)) {\n                this._legacySpriteMap.set(sprite, Graphics.Sprite.toLegacySprite(sprite));\n              }\n              this._legacySpriteMap.get(sprite).draw(ctx, x * this.cellWidth, y * this.cellHeight);\n            }\n          }\n        }\n      }\n      y = this._onScreenYStart;\n    }\n\n    this.emit('postdraw', new Events.PostDrawEvent(ctx as any, delta, this));\n  }\n\n  /**\n   * Draws all the tile map's debug info. Called by the [[Scene]].\n   * @param ctx  The current rendering context\n   */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    const width = this.cols * this.cellWidth;\n    const height = this.rows * this.cellHeight;\n    ctx.save();\n    ctx.strokeStyle = Color.Red.toString();\n    for (let x = 0; x < this.cols + 1; x++) {\n      ctx.beginPath();\n      ctx.moveTo(this.x + x * this.cellWidth, this.y);\n      ctx.lineTo(this.x + x * this.cellWidth, this.y + height);\n      ctx.stroke();\n    }\n    for (let y = 0; y < this.rows + 1; y++) {\n      ctx.beginPath();\n      ctx.moveTo(this.x, this.y + y * this.cellHeight);\n      ctx.lineTo(this.x + width, this.y + y * this.cellHeight);\n      ctx.stroke();\n    }\n    const solid = Color.Red;\n    solid.a = 0.3;\n    this.data\n      .filter(function (cell) {\n        return cell.solid;\n      })\n      .forEach(function (cell) {\n        ctx.fillStyle = solid.toString();\n        ctx.fillRect(cell.x, cell.y, cell.width, cell.height);\n      });\n    if (this._collidingY > -1 && this._collidingX > -1) {\n      ctx.fillStyle = Color.Cyan.toString();\n      ctx.fillRect(\n        this.x + this._collidingX * this.cellWidth,\n        this.y + this._collidingY * this.cellHeight,\n        this.cellWidth,\n        this.cellHeight\n      );\n    }\n    ctx.restore();\n  }\n}\n\nexport interface TileMapArgs extends Partial<TileMapImpl> {\n  x: number;\n  y: number;\n  cellWidth: number;\n  cellHeight: number;\n  rows: number;\n  cols: number;\n}\n\n/**\n * The [[TileMap]] class provides a lightweight way to do large complex scenes with collision\n * without the overhead of actors.\n */\nexport class TileMap extends Configurable(TileMapImpl) {\n  constructor(config: TileMapArgs);\n  constructor(x: number, y: number, cellWidth: number, cellHeight: number, rows: number, cols: number);\n  constructor(xOrConfig: number | TileMapArgs, y?: number, cellWidth?: number, cellHeight?: number, rows?: number, cols?: number) {\n    super(xOrConfig, y, cellWidth, cellHeight, rows, cols);\n  }\n}\n\n/**\n * @hidden\n */\nexport class CellImpl extends Entity {\n  private _bounds: BoundingBox;\n  public x: number;\n  public y: number;\n  public width: number;\n  public height: number;\n  public index: number;\n  public solid: boolean = false;\n  public sprites: Graphics.Sprite[] = [];\n\n  // public transform: TransformComponent;\n  // public graphics: GraphicsComponent;\n\n  /**\n   * @param xOrConfig Gets or sets x coordinate of the cell in world coordinates or cell option bag\n   * @param y       Gets or sets y coordinate of the cell in world coordinates\n   * @param width   Gets or sets the width of the cell\n   * @param height  Gets or sets the height of the cell\n   * @param index   The index of the cell in row major order\n   * @param solid   Gets or sets whether this cell is solid\n   * @param sprites The list of tile sprites to use to draw in this cell (in order)\n   */\n  constructor(\n    xOrConfig: number | CellArgs,\n    y: number,\n    width: number,\n    height: number,\n    index: number,\n    solid: boolean = false,\n    sprites: Graphics.Sprite[] = []\n  ) {\n    super();\n    if (xOrConfig && typeof xOrConfig === 'object') {\n      const config = xOrConfig;\n      xOrConfig = config.x;\n      y = config.y;\n      width = config.width;\n      height = config.height;\n      index = config.index;\n      solid = config.solid;\n      sprites = config.sprites;\n    }\n    this.x = <number>xOrConfig;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.index = index;\n    this.solid = solid;\n    this.sprites = sprites;\n    this._bounds = new BoundingBox(this.x, this.y, this.x + this.width, this.y + this.height);\n  }\n\n  public get bounds() {\n    return this._bounds;\n  }\n\n  public get center(): Vector {\n    return new Vector(this.x + this.width / 2, this.y + this.height / 2);\n  }\n\n  /**\n   * Add another [[Sprite]] to this cell\n   * @deprecated Use addSprite, will be removed in v0.26.0\n   */\n  @obsolete({ message: 'Will be removed in v0.26.0', alternateMethod: 'addSprite' })\n  public pushSprite(sprite: Graphics.Sprite | LegacySprite) {\n    this.addSprite(sprite);\n  }\n\n  /**\n   * Add another [[Sprite]] to this TileMap cell\n   * @param sprite\n   */\n  public addSprite(sprite: Graphics.Sprite | LegacySprite) {\n    if (sprite instanceof LegacySprite) {\n      this.sprites.push(Graphics.Sprite.fromLegacySprite(sprite));\n    } else {\n      this.sprites.push(sprite);\n    }\n  }\n\n  /**\n   * Remove an instance of [[Sprite]] from this cell\n   */\n  public removeSprite(sprite: Graphics.Sprite | LegacySprite) {\n    removeItemFromArray(sprite, this.sprites);\n  }\n  /**\n   * Clear all sprites from this cell\n   */\n  public clearSprites() {\n    this.sprites.length = 0;\n  }\n}\n\nexport interface CellArgs extends Partial<CellImpl> {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  index: number;\n  solid?: boolean;\n  sprites?: Graphics.Sprite[];\n}\n\n/**\n * TileMap Cell\n *\n * A light-weight object that occupies a space in a collision map. Generally\n * created by a [[TileMap]].\n *\n * Cells can draw multiple sprites. Note that the order of drawing is the order\n * of the sprites in the array so the last one will be drawn on top. You can\n * use transparency to create layers this way.\n */\nexport class Cell extends Configurable(CellImpl) {\n  constructor(config: CellArgs);\n  constructor(x: number, y: number, width: number, height: number, index: number, solid?: boolean, sprites?: Graphics.Sprite[]);\n  constructor(\n    xOrConfig: number | CellArgs,\n    y?: number,\n    width?: number,\n    height?: number,\n    index?: number,\n    solid?: boolean,\n    sprites?: Graphics.Sprite[]\n  ) {\n    super(xOrConfig, y, width, height, index, solid, sprites);\n  }\n}\n","import { Engine } from './Engine';\nimport { EasingFunction, EasingFunctions } from './Util/EasingFunctions';\nimport { Vector, vec } from './Algebra';\nimport { Actor } from './Actor';\nimport { removeItemFromArray } from './Util/Util';\nimport { CanUpdate, CanInitialize } from './Interfaces/LifecycleEvents';\nimport { PreUpdateEvent, PostUpdateEvent, GameEvent, InitializeEvent } from './Events';\nimport { Class } from './Class';\nimport { BoundingBox } from './Collision/BoundingBox';\nimport { Logger } from './Util/Log';\nimport { ExcaliburGraphicsContext } from './Graphics/Context/ExcaliburGraphicsContext';\n\n/**\n * Interface that describes a custom camera strategy for tracking targets\n */\nexport interface CameraStrategy<T> {\n  /**\n   * Target of the camera strategy that will be passed to the action\n   */\n  target: T;\n\n  /**\n   * Camera strategies perform an action to calculate a new focus returned out of the strategy\n   * @param target The target object to apply this camera strategy (if any)\n   * @param camera The current camera implementation in excalibur running the game\n   * @param engine The current engine running the game\n   * @param delta The elapsed time in milliseconds since the last frame\n   */\n  action: (target: T, camera: Camera, engine: Engine, delta: number) => Vector;\n}\n\n/**\n * Container to house convenience strategy methods\n * @internal\n */\nexport class StrategyContainer {\n  constructor(public camera: Camera) {}\n\n  /**\n   * Creates and adds the [[LockCameraToActorStrategy]] on the current camera.\n   * @param actor The actor to lock the camera to\n   */\n  public lockToActor(actor: Actor) {\n    this.camera.addStrategy(new LockCameraToActorStrategy(actor));\n  }\n\n  /**\n   * Creates and adds the [[LockCameraToActorAxisStrategy]] on the current camera\n   * @param actor The actor to lock the camera to\n   * @param axis The axis to follow the actor on\n   */\n  public lockToActorAxis(actor: Actor, axis: Axis) {\n    this.camera.addStrategy(new LockCameraToActorAxisStrategy(actor, axis));\n  }\n\n  /**\n   * Creates and adds the [[ElasticToActorStrategy]] on the current camera\n   * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n   * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\n   * correct and bounce around the target\n   *\n   * @param actor Target actor to elastically follow\n   * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n   * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n   */\n  public elasticToActor(actor: Actor, cameraElasticity: number, cameraFriction: number) {\n    this.camera.addStrategy(new ElasticToActorStrategy(actor, cameraElasticity, cameraFriction));\n  }\n\n  /**\n   * Creates and adds the [[RadiusAroundActorStrategy]] on the current camera\n   * @param actor Target actor to follow when it is \"radius\" pixels away\n   * @param radius Number of pixels away before the camera will follow\n   */\n  public radiusAroundActor(actor: Actor, radius: number) {\n    this.camera.addStrategy(new RadiusAroundActorStrategy(actor, radius));\n  }\n\n  /**\n   * Creates and adds the [[LimitCameraBoundsStrategy]] on the current camera\n   * @param box The bounding box to limit the camera to.\n   */\n  public limitCameraBounds(box: BoundingBox) {\n    this.camera.addStrategy(new LimitCameraBoundsStrategy(box));\n  }\n}\n\n/**\n * Camera axis enum\n */\nexport enum Axis {\n  X,\n  Y\n}\n\n/**\n * Lock a camera to the exact x/y position of an actor.\n */\nexport class LockCameraToActorStrategy implements CameraStrategy<Actor> {\n  constructor(public target: Actor) {}\n  public action = (target: Actor, _cam: Camera, _eng: Engine, _delta: number) => {\n    const center = target.center;\n    return center;\n  };\n}\n\n/**\n * Lock a camera to a specific axis around an actor.\n */\nexport class LockCameraToActorAxisStrategy implements CameraStrategy<Actor> {\n  constructor(public target: Actor, public axis: Axis) {}\n  public action = (target: Actor, cam: Camera, _eng: Engine, _delta: number) => {\n    const center = target.center;\n    const currentFocus = cam.getFocus();\n    if (this.axis === Axis.X) {\n      return new Vector(center.x, currentFocus.y);\n    } else {\n      return new Vector(currentFocus.x, center.y);\n    }\n  };\n}\n\n/**\n * Using [Hook's law](https://en.wikipedia.org/wiki/Hooke's_law), elastically move the camera towards the target actor.\n */\nexport class ElasticToActorStrategy implements CameraStrategy<Actor> {\n  /**\n   * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n   * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\n   * correct and bounce around the target\n   *\n   * @param target Target actor to elastically follow\n   * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n   * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n   */\n  constructor(public target: Actor, public cameraElasticity: number, public cameraFriction: number) {}\n  public action = (target: Actor, cam: Camera, _eng: Engine, _delta: number) => {\n    const position = target.center;\n    let focus = cam.getFocus();\n    let cameraVel = cam.vel.clone();\n\n    // Calculate the stretch vector, using the spring equation\n    // F = kX\n    // https://en.wikipedia.org/wiki/Hooke's_law\n    // Apply to the current camera velocity\n    const stretch = position.sub(focus).scale(this.cameraElasticity); // stretch is X\n    cameraVel = cameraVel.add(stretch);\n\n    // Calculate the friction (-1 to apply a force in the opposition of motion)\n    // Apply to the current camera velocity\n    const friction = cameraVel.scale(-1).scale(this.cameraFriction);\n    cameraVel = cameraVel.add(friction);\n\n    // Update position by velocity deltas\n    focus = focus.add(cameraVel);\n\n    return focus;\n  };\n}\n\nexport class RadiusAroundActorStrategy implements CameraStrategy<Actor> {\n  /**\n   *\n   * @param target Target actor to follow when it is \"radius\" pixels away\n   * @param radius Number of pixels away before the camera will follow\n   */\n  constructor(public target: Actor, public radius: number) {}\n  public action = (target: Actor, cam: Camera, _eng: Engine, _delta: number) => {\n    const position = target.center;\n    const focus = cam.getFocus();\n\n    const direction = position.sub(focus);\n    const distance = direction.size;\n    if (distance >= this.radius) {\n      const offset = distance - this.radius;\n      return focus.add(direction.normalize().scale(offset));\n    }\n    return focus;\n  };\n}\n\n/**\n * Prevent a camera from going beyond the given camera dimensions.\n */\nexport class LimitCameraBoundsStrategy implements CameraStrategy<BoundingBox> {\n  /**\n   * Useful for limiting the camera to a [[TileMap]]'s dimensions, or a specific area inside the map.\n   *\n   * Note that this strategy does not perform any movement by itself.\n   * It only sets the camera position to within the given bounds when the camera has gone beyond them.\n   * Thus, it is a good idea to combine it with other camera strategies and set this strategy as the last one.\n   *\n   * Make sure that the camera bounds are at least as large as the viewport size.\n   *\n   * @param target The bounding box to limit the camera to\n   */\n\n  boundSizeChecked: boolean = false; // Check and warn only once\n\n  constructor(public target: BoundingBox) {}\n\n  public action = (target: BoundingBox, cam: Camera, _eng: Engine, _delta: number) => {\n    const focus = cam.getFocus();\n\n    if (!this.boundSizeChecked) {\n      if (target.bottom - target.top < _eng.drawHeight || target.right - target.left < _eng.drawWidth) {\n        Logger.getInstance().warn('Camera bounds should not be smaller than the engine viewport');\n      }\n      this.boundSizeChecked = true;\n    }\n\n    let focusX = focus.x;\n    let focusY = focus.y;\n    if (focus.x < target.left + _eng.halfDrawWidth) {\n      focusX = target.left + _eng.halfDrawWidth;\n    } else if (focus.x > target.right - _eng.halfDrawWidth) {\n      focusX = target.right - _eng.halfDrawWidth;\n    }\n\n    if (focus.y < target.top + _eng.halfDrawHeight) {\n      focusY = target.top + _eng.halfDrawHeight;\n    } else if (focus.y > target.bottom - _eng.halfDrawHeight) {\n      focusY = target.bottom - _eng.halfDrawHeight;\n    }\n\n    return vec(focusX, focusY);\n  };\n}\n\n/**\n * Cameras\n *\n * [[Camera]] is the base class for all Excalibur cameras. Cameras are used\n * to move around your game and set focus. They are used to determine\n * what is \"off screen\" and can be used to scale the game.\n *\n */\nexport class Camera extends Class implements CanUpdate, CanInitialize {\n  protected _follow: Actor;\n\n  private _cameraStrategies: CameraStrategy<any>[] = [];\n\n  public strategy: StrategyContainer = new StrategyContainer(this);\n\n  /**\n   * Get or set current zoom of the camera, defaults to 1\n   */\n  private _z = 1;\n  public get zoom(): number {\n    return this._z;\n  }\n\n  public set zoom(val: number) {\n    this._z = val;\n    if (this._engine) {\n      this._halfWidth = this._engine.halfDrawWidth;\n      this._halfHeight = this._engine.halfDrawHeight;\n    }\n  }\n  /**\n   * Get or set rate of change in zoom, defaults to 0\n   */\n  public dz: number = 0;\n  /**\n   * Get or set zoom acceleration\n   */\n  public az: number = 0;\n\n  /**\n   * Current rotation of the camera\n   */\n  public rotation: number = 0;\n\n  /**\n   * Current angular velocity\n   */\n  public rx: number = 0;\n\n  /**\n   * Get or set the camera's angular velocity\n   */\n  public get angularVelocity(): number {\n    return this.rx;\n  }\n\n  public set angularVelocity(value: number) {\n    this.rx = value;\n  }\n\n  /**\n   * Get or set the camera's position\n   */\n  public pos: Vector = Vector.Zero;\n\n  /**\n   * Get or set the camera's velocity\n   */\n  public vel: Vector = Vector.Zero;\n\n  /**\n   * GEt or set the camera's acceleration\n   */\n  public acc: Vector = Vector.Zero;\n\n  private _cameraMoving: boolean = false;\n  private _currentLerpTime: number = 0;\n  private _lerpDuration: number = 1000; // 1 second\n  private _lerpStart: Vector = null;\n  private _lerpEnd: Vector = null;\n  private _lerpResolve: (value: Vector) => void;\n  private _lerpPromise: Promise<Vector>;\n\n  //camera effects\n  protected _isShaking: boolean = false;\n  private _shakeMagnitudeX: number = 0;\n  private _shakeMagnitudeY: number = 0;\n  private _shakeDuration: number = 0;\n  private _elapsedShakeTime: number = 0;\n  private _xShake: number = 0;\n  private _yShake: number = 0;\n\n  protected _isZooming: boolean = false;\n  private _zoomStart: number = 1;\n  private _zoomEnd: number = 1;\n  private _currentZoomTime: number = 0;\n  private _zoomDuration: number = 0;\n\n  private _zoomResolve: (val: boolean) => void;\n  private _zoomPromise: Promise<boolean>;\n  private _zoomEasing: EasingFunction = EasingFunctions.EaseInOutCubic;\n  private _easing: EasingFunction = EasingFunctions.EaseInOutCubic;\n\n  private _halfWidth: number = 0;\n  private _halfHeight: number = 0;\n\n  /**\n   * Get the camera's x position\n   */\n  public get x() {\n    return this.pos.x;\n  }\n\n  /**\n   * Set the camera's x position (cannot be set when following an [[Actor]] or when moving)\n   */\n  public set x(value: number) {\n    if (!this._follow && !this._cameraMoving) {\n      this.pos = vec(value, this.pos.y);\n    }\n  }\n\n  /**\n   * Get the camera's y position\n   */\n  public get y() {\n    return this.pos.y;\n  }\n\n  /**\n   * Set the camera's y position (cannot be set when following an [[Actor]] or when moving)\n   */\n  public set y(value: number) {\n    if (!this._follow && !this._cameraMoving) {\n      this.pos = vec(this.pos.x, value);\n    }\n  }\n\n  /**\n   * Get or set the camera's x velocity\n   */\n  public get dx() {\n    return this.vel.x;\n  }\n\n  public set dx(value: number) {\n    this.vel = vec(value, this.vel.y);\n  }\n\n  /**\n   * Get or set the camera's y velocity\n   */\n  public get dy() {\n    return this.vel.y;\n  }\n\n  public set dy(value: number) {\n    this.vel = vec(this.vel.x, value);\n  }\n\n  /**\n   * Get or set the camera's x acceleration\n   */\n  public get ax() {\n    return this.acc.x;\n  }\n\n  public set ax(value: number) {\n    this.acc = vec(value, this.acc.y);\n  }\n\n  /**\n   * Get or set the camera's y acceleration\n   */\n  public get ay() {\n    return this.acc.y;\n  }\n\n  public set ay(value: number) {\n    this.acc = vec(this.acc.x, value);\n  }\n\n  /**\n   * Returns the focal point of the camera, a new point giving the x and y position of the camera\n   */\n  public getFocus() {\n    return this.pos;\n  }\n\n  /**\n   * This moves the camera focal point to the specified position using specified easing function. Cannot move when following an Actor.\n   *\n   * @param pos The target position to move to\n   * @param duration The duration in milliseconds the move should last\n   * @param [easingFn] An optional easing function ([[ex.EasingFunctions.EaseInOutCubic]] by default)\n   * @returns A [[Promise]] that resolves when movement is finished, including if it's interrupted.\n   *          The [[Promise]] value is the [[Vector]] of the target position. It will be rejected if a move cannot be made.\n   */\n  public move(pos: Vector, duration: number, easingFn: EasingFunction = EasingFunctions.EaseInOutCubic): Promise<Vector> {\n    if (typeof easingFn !== 'function') {\n      throw 'Please specify an EasingFunction';\n    }\n\n    // cannot move when following an actor\n    if (this._follow) {\n      return Promise.reject(pos);\n    }\n\n    // resolve existing promise, if any\n    if (this._lerpPromise && this._lerpResolve) {\n      this._lerpResolve(pos);\n    }\n\n    this._lerpPromise = new Promise<Vector>((resolve) => {\n      this._lerpResolve = resolve;\n    });\n    this._lerpStart = this.getFocus().clone();\n    this._lerpDuration = duration;\n    this._lerpEnd = pos;\n    this._currentLerpTime = 0;\n    this._cameraMoving = true;\n    this._easing = easingFn;\n\n    return this._lerpPromise;\n  }\n\n  /**\n   * Sets the camera to shake at the specified magnitudes for the specified duration\n   * @param magnitudeX  The x magnitude of the shake\n   * @param magnitudeY  The y magnitude of the shake\n   * @param duration    The duration of the shake in milliseconds\n   */\n  public shake(magnitudeX: number, magnitudeY: number, duration: number) {\n    this._isShaking = true;\n    this._shakeMagnitudeX = magnitudeX;\n    this._shakeMagnitudeY = magnitudeY;\n    this._shakeDuration = duration;\n  }\n\n  /**\n   * Zooms the camera in or out by the specified scale over the specified duration.\n   * If no duration is specified, it take effect immediately.\n   * @param scale    The scale of the zoom\n   * @param duration The duration of the zoom in milliseconds\n   */\n  public zoomOverTime(scale: number, duration: number = 0, easingFn: EasingFunction = EasingFunctions.EaseInOutCubic): Promise<boolean> {\n    this._zoomPromise = new Promise<boolean>((resolve) => {\n      this._zoomResolve = resolve;\n    });\n\n    if (duration) {\n      this._isZooming = true;\n      this._zoomEasing = easingFn;\n      this._currentZoomTime = 0;\n      this._zoomDuration = duration;\n      this._zoomStart = this.zoom;\n      this._zoomEnd = scale;\n    } else {\n      this._isZooming = false;\n      this.zoom = scale;\n      return Promise.resolve(true);\n    }\n\n    return this._zoomPromise;\n  }\n\n  private _viewport: BoundingBox = null;\n  /**\n   * Gets the bounding box of the viewport of this camera in world coordinates\n   */\n  public get viewport(): BoundingBox {\n    if (this._viewport) {\n      return this._viewport;\n    }\n\n    return new BoundingBox(0, 0, 0, 0);\n  }\n\n  /**\n   * Adds a new camera strategy to this camera\n   * @param cameraStrategy Instance of an [[CameraStrategy]]\n   */\n  public addStrategy<T>(cameraStrategy: CameraStrategy<T>) {\n    this._cameraStrategies.push(cameraStrategy);\n  }\n\n  /**\n   * Removes a camera strategy by reference\n   * @param cameraStrategy Instance of an [[CameraStrategy]]\n   */\n  public removeStrategy<T>(cameraStrategy: CameraStrategy<T>) {\n    removeItemFromArray(cameraStrategy, this._cameraStrategies);\n  }\n\n  /**\n   * Clears all camera strategies from the camera\n   */\n  public clearAllStrategies() {\n    this._cameraStrategies.length = 0;\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n   * @internal\n   */\n  public _preupdate(engine: Engine, delta: number): void {\n    this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n    this.onPreUpdate(engine, delta);\n  }\n\n  /**\n   * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPreUpdate` is called directly before a scene is updated.\n   */\n  public onPreUpdate(_engine: Engine, _delta: number): void {\n    // Overridable\n  }\n\n  /**\n   *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n   * @internal\n   */\n  public _postupdate(engine: Engine, delta: number): void {\n    this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n    this.onPostUpdate(engine, delta);\n  }\n\n  /**\n   * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPostUpdate` is called directly after a scene is updated.\n   */\n  public onPostUpdate(_engine: Engine, _delta: number): void {\n    // Overridable\n  }\n\n  private _engine: Engine;\n  private _isInitialized = false;\n  public get isInitialized() {\n    return this._isInitialized;\n  }\n\n  public _initialize(_engine: Engine) {\n    if (!this.isInitialized) {\n      this.onInitialize(_engine);\n      super.emit('initialize', new InitializeEvent(_engine, this));\n      this._isInitialized = true;\n      this._engine = _engine;\n      this._halfWidth = this._engine.halfDrawWidth;\n      this._halfHeight = this._engine.halfDrawHeight;\n    }\n  }\n\n  /**\n   * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPostUpdate` is called directly after a scene is updated.\n   */\n  public onInitialize(_engine: Engine) {\n    // Overridable\n  }\n\n  public on(eventName: 'initialize', handler: (event: InitializeEvent) => void): void;\n  public on(eventName: 'preupdate', handler: (event: PreUpdateEvent) => void): void;\n  public on(eventName: 'postupdate', handler: (event: PostUpdateEvent) => void): void;\n  public on(eventName: any, handler: any) {\n    super.on(eventName, handler);\n  }\n\n  public off(eventName: 'initialize', handler?: (event: InitializeEvent) => void): void;\n  public off(eventName: 'preupdate', handler?: (event: PreUpdateEvent) => void): void;\n  public off(eventName: 'postupdate', handler?: (event: PostUpdateEvent) => void): void;\n  public off(eventName: string, handler: (event: GameEvent<Camera>) => void): void;\n  public off(eventName: string, handler: (event: any) => void): void {\n    super.off(eventName, handler);\n  }\n\n  public once(eventName: 'initialize', handler: (event: InitializeEvent) => void): void;\n  public once(eventName: 'preupdate', handler: (event: PreUpdateEvent) => void): void;\n  public once(eventName: 'postupdate', handler: (event: PostUpdateEvent) => void): void;\n  public once(eventName: string, handler: (event: GameEvent<Camera>) => void): void;\n  public once(eventName: string, handler: (event: any) => void): void {\n    super.once(eventName, handler);\n  }\n\n  public update(_engine: Engine, delta: number) {\n    this._initialize(_engine);\n    this._preupdate(_engine, delta);\n\n    // Update placements based on linear algebra\n    this.pos = this.pos.add(this.vel.scale(delta / 1000));\n    this.zoom += (this.dz * delta) / 1000;\n\n    this.vel = this.vel.add(this.acc.scale(delta / 1000));\n    this.dz += (this.az * delta) / 1000;\n\n    this.rotation += (this.angularVelocity * delta) / 1000;\n\n    if (this._isZooming) {\n      if (this._currentZoomTime < this._zoomDuration) {\n        const zoomEasing = this._zoomEasing;\n        const newZoom = zoomEasing(this._currentZoomTime, this._zoomStart, this._zoomEnd, this._zoomDuration);\n\n        this.zoom = newZoom;\n        this._currentZoomTime += delta;\n      } else {\n        this._isZooming = false;\n        this.zoom = this._zoomEnd;\n        this._currentZoomTime = 0;\n        this._zoomResolve(true);\n      }\n    }\n\n    if (this._cameraMoving) {\n      if (this._currentLerpTime < this._lerpDuration) {\n        const moveEasing = EasingFunctions.CreateVectorEasingFunction(this._easing);\n\n        const lerpPoint = moveEasing(this._currentLerpTime, this._lerpStart, this._lerpEnd, this._lerpDuration);\n\n        this.pos = lerpPoint;\n\n        this._currentLerpTime += delta;\n      } else {\n        this.pos = this._lerpEnd;\n        const end = this._lerpEnd.clone();\n\n        this._lerpStart = null;\n        this._lerpEnd = null;\n        this._currentLerpTime = 0;\n        this._cameraMoving = false;\n        // Order matters here, resolve should be last so any chain promises have a clean slate\n        this._lerpResolve(end);\n      }\n    }\n\n    if (this._isDoneShaking()) {\n      this._isShaking = false;\n      this._elapsedShakeTime = 0;\n      this._shakeMagnitudeX = 0;\n      this._shakeMagnitudeY = 0;\n      this._shakeDuration = 0;\n      this._xShake = 0;\n      this._yShake = 0;\n    } else {\n      this._elapsedShakeTime += delta;\n      this._xShake = ((Math.random() * this._shakeMagnitudeX) | 0) + 1;\n      this._yShake = ((Math.random() * this._shakeMagnitudeY) | 0) + 1;\n    }\n\n    for (const s of this._cameraStrategies) {\n      this.pos = s.action.call(s, s.target, this, _engine, delta);\n    }\n\n    this._viewport = new BoundingBox(\n      this.x - this._halfWidth,\n      this.y - this._halfHeight,\n      this.x + this._halfWidth,\n      this.y + this._halfHeight\n    );\n\n    this._postupdate(_engine, delta);\n  }\n\n  /**\n   * Applies the relevant transformations to the game canvas to \"move\" or apply effects to the Camera\n   * @param ctx    Canvas context to apply transformations\n   */\n  public draw(ctx: CanvasRenderingContext2D): void;\n  public draw(ctx: ExcaliburGraphicsContext): void;\n  public draw(ctx: CanvasRenderingContext2D | ExcaliburGraphicsContext): void {\n    let canvasWidth = 0;\n    let canvasHeight = 0;\n    if (ctx instanceof CanvasRenderingContext2D) {\n      canvasWidth = ctx.canvas.width;\n      canvasHeight = ctx.canvas.height;\n    } else {\n      canvasWidth = ctx.width;\n      canvasHeight = ctx.height;\n    }\n    const focus = this.getFocus();\n    const pixelRatio = this._engine ? this._engine.pixelRatio : 1;\n    const zoom = this.zoom;\n\n    const newCanvasWidth = canvasWidth / zoom / pixelRatio;\n    const newCanvasHeight = canvasHeight / zoom / pixelRatio;\n\n    ctx.scale(zoom, zoom);\n    ctx.translate(-focus.x + newCanvasWidth / 2 + this._xShake, -focus.y + newCanvasHeight / 2 + this._yShake);\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    const focus = this.getFocus();\n    ctx.fillStyle = 'red';\n    ctx.strokeStyle = 'white';\n    ctx.lineWidth = 3;\n    ctx.beginPath();\n    ctx.arc(focus.x, focus.y, 15, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.arc(focus.x, focus.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.setLineDash([5, 15]);\n    ctx.lineWidth = 5;\n    ctx.strokeStyle = 'white';\n    ctx.strokeRect(this.viewport.left, this.viewport.top, this.viewport.width, this.viewport.height);\n    ctx.closePath();\n  }\n\n  private _isDoneShaking(): boolean {\n    return !this._isShaking || this._elapsedShakeTime >= this._shakeDuration;\n  }\n}\n","import { Engine } from './Engine';\nimport { Color } from './Drawing/Color';\nimport { Configurable } from './Configurable';\nimport { vec, Vector } from './Algebra';\nimport { Text } from './Graphics/Text';\nimport { BaseAlign, FontStyle, FontUnit, TextAlign } from './Graphics/FontCommon';\nimport { obsolete } from './Util/Decorators';\nimport { SpriteFont as LegacySpriteFont } from './Drawing/SpriteSheet';\nimport { ExcaliburGraphicsContext, GraphicsComponent, SpriteFont } from './Graphics';\nimport { Font } from './Graphics/Font';\nimport { CanvasDrawComponent } from './Drawing/Index';\nimport { TransformComponent } from './EntityComponentSystem';\nimport { Actor } from './Actor';\n\nexport interface LabelOptions {\n  text?: string;\n  x?: number;\n  y?: number;\n  bold?: boolean;\n  pos?: Vector;\n  spriteFont?: LegacySpriteFont;\n  fontFamily?: string;\n  fontSize?: number;\n  fontStyle?: FontStyle;\n  fontUnit?: FontUnit;\n  textAlign?: TextAlign;\n}\n\n/**\n * @hidden\n */\nexport class LabelImpl extends Actor {\n  public font: Font = new Font();\n  private _text: Text = new Text({ text: '', font: this.font});\n\n  /**\n   * The text to draw.\n   */\n  public get text(): string {\n    return this._text.text;\n  }\n\n  public set text(text: string) {\n    this._text.text = text;\n  }\n\n  public get color(): Color {\n    return this._text.color;\n  }\n\n  public set color(color: Color) {\n    this._text.color = color;\n  }\n\n  /**\n   * Sets or gets the bold property of the label's text, by default it's false\n   * @deprecated Use [[Font.bold|Label.font.bold]]\n   */\n  @obsolete({\n    message: 'Label.bold will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.bold'\n  })\n  public get bold(): boolean {\n    return this.font.bold;\n  }\n\n  public set bold(isBold: boolean) {\n    this.font.bold = isBold;\n  }\n\n\n  /**\n   * The CSS font family string (e.g. `sans-serif`, `Droid Sans Pro`). Web fonts\n   * are supported, same as in CSS.\n   * @deprecated Use [[Font.family|Label.font.family]]\n   */\n  @obsolete({\n    message: 'Label.fontFamily will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.family'\n  })\n  public get fontFamily(): string {\n    return this.font.family;\n  }\n\n  public set fontFamily(family: string) {\n    this.font.family = family;\n  }\n\n  /**\n   * The font size in the selected units, default is 10 (default units is pixel)\n   * @deprecated Use [[Font.size|Label.font.size]]\n   */\n  @obsolete({\n    message: 'Label.fontSize will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.size'\n  })\n  public get fontSize(): number {\n    return this.font.size;\n  }\n\n  public set fontSize(sizeInUnit: number) {\n    this.font.size = sizeInUnit;\n  }\n\n  /**\n   * The font style for this label, the default is [[FontStyle.Normal]]\n   * @deprecated Use [[Font.style|Label.font.style]]\n   */\n  @obsolete({\n    message: 'Label.fontStyle will be removed in v0.26.0',\n    alternateMethod: 'Use Lable.font.style'\n  })\n  public get fontStyle(): FontStyle {\n    return this.font.style;\n  }\n\n  public set fontStyle(style: FontStyle) {\n    this.font.style = style;\n  }\n\n\n  /**\n   * The css units for a font size such as px, pt, em (SpriteFont only support px), by default is 'px';\n   * @deprecated Use [[Font.unit|Label.font.unit]]\n   */\n  @obsolete({\n    message: 'Label.fontUnit will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.unit'\n  })\n  public get fontUnit(): FontUnit {\n    return this.font.unit;\n  }\n\n  public set fontUnit(unit: FontUnit) {\n    this.font.unit = unit;\n  }\n\n  /**\n   * Gets or sets the horizontal text alignment property for the label.\n   * @deprecated Use [[Font.textAlign|Label.font.textAlign]]\n   */\n  @obsolete({\n    message: 'Label.textAlign will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.textAlign'\n  })\n  public get textAlign(): TextAlign {\n    return this.font.textAlign;\n  }\n\n  public set textAlign(align: TextAlign) {\n    this.font.textAlign = align;\n  }\n\n  /**\n   * Gets or sets the baseline alignment property for the label.\n   * @deprecated Use [[Font.baseAlign|Label.font.baseAlign]]\n   */\n  @obsolete({\n    message: 'Label.baseAlign will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.baseAlign'\n  })\n  public get baseAlign(): BaseAlign {\n    return this.font.baseAlign;\n  }\n\n  public set baseAlign(align: BaseAlign) {\n    this.font.baseAlign = align;\n  }\n\n  /**\n   * Gets or sets the maximum width (in pixels) that the label should occupy\n   * @deprecated The maxWidth constraint is gone\n   */\n  public maxWidth: number;\n\n  private _legacySpriteFont: LegacySpriteFont;\n  private _spriteFont: SpriteFont;\n  /**\n   * The [[SpriteFont]] to use, if any. Overrides [[fontFamily]] if present.\n   * @deprecated Use [[\"Graphics/SpriteFont\".SpriteFont]]\n   */\n  @obsolete()\n  public get spriteFont(): LegacySpriteFont {\n    return this._legacySpriteFont;\n  }\n\n  public set spriteFont(sf: LegacySpriteFont) {\n    this._legacySpriteFont = sf;\n    if (sf) {\n      this._spriteFont = SpriteFont.fromLegacySpriteFont(sf);\n      this._text.font = this._spriteFont;\n    }\n  }\n\n\n  /**\n   * Gets or sets the letter spacing on a Label. Only supported with Sprite Fonts.\n   * @deprecated Use [[SpriteFont.spacing]]\n   */\n  public letterSpacing: number = 0; //px\n\n  /**\n   * Whether or not the [[SpriteFont]] will be case-sensitive when matching characters.\n   * @deprecated Use [[\"Graphics/SpriteFont\".SpriteFont.caseInsensitive]]\n   */\n  public caseInsensitive: boolean = true;\n\n  private _graphicsContext: ExcaliburGraphicsContext;\n\n  /**\n   * @param textOrConfig    The text of the label, or label option bag\n   * @param x           The x position of the label\n   * @param y           The y position of the label\n   * @param fontFamily  Use a value that is valid for the CSS `font-family` property. The default is `sans-serif`.\n   * @param spriteFont  Use an Excalibur sprite font for the label's font, if a SpriteFont is provided it will take precedence\n   * over a css font.\n   */\n  constructor(textOrConfig?: string | LabelOptions, x?: number, y?: number, fontFamily?: string, spriteFont?: LegacySpriteFont) {\n    super();\n    let text = '';\n    let pos = Vector.Zero;\n    if (textOrConfig && typeof textOrConfig === 'object') {\n      fontFamily = textOrConfig.fontFamily;\n      spriteFont = textOrConfig.spriteFont;\n      text = textOrConfig.text;\n      pos = textOrConfig.pos ?? vec(textOrConfig.x ?? 0, textOrConfig.y ?? 0);\n    } else {\n      text = <string>textOrConfig;\n      pos = vec(x ?? 0, y ?? 0);\n    }\n\n    this.addComponent(new TransformComponent);\n    this.get(TransformComponent).pos = pos;\n\n    this.addComponent(new CanvasDrawComponent((ctx, delta) => this.draw(ctx, delta)));\n    this.addComponent(new GraphicsComponent);\n    const gfx = this.get(GraphicsComponent);\n    gfx.anchor = Vector.Zero;\n    gfx.use(this._text);\n\n    this.text = text || '';\n    this.color = Color.Black;\n    if (fontFamily) {\n      this.font.family = fontFamily;\n    }\n    if (spriteFont) {\n      this.spriteFont = spriteFont;\n    }\n  }\n\n  public _initialize(engine: Engine) {\n    super._initialize(engine);\n    this._graphicsContext = engine.graphicsContext;\n  }\n\n  /**\n   * Returns the width of the text in the label (in pixels);\n   */\n  public getTextWidth(): number {\n    return this._text.width;\n  }\n\n  /**\n   * Sets the text shadow for sprite fonts\n   * @param offsetX      The x offset in pixels to place the shadow\n   * @param offsetY      The y offset in pixels to place the shadow\n   * @param shadowColor  The color of the text shadow\n   * @deprecated Use [[Font.shadow|Label.font.shadow]]\n   */\n  @obsolete({\n    message: 'Label.setTextShadow will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.shadow'\n  })\n  public setTextShadow(offsetX: number, offsetY: number, shadowColor: Color) {\n    this.font.shadow = { offset: vec(offsetX, offsetY), blur: 2, color: shadowColor };\n  }\n\n  /**\n   * Toggles text shadows on or off, only applies when using sprite fonts\n   * @deprecated Use [[Font.shadow|Label.font.shadow]]\n   */\n  @obsolete({\n    message: 'Label.useTextShadow will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.shadow'\n  })\n  public useTextShadow(on: boolean) {\n    if (this.spriteFont) {\n      this.spriteFont.useTextShadow(on);\n    }\n  }\n\n  /**\n   * Clears the current text shadow\n   * @deprecated Use [[Font.shadow|Label.font.shadow]]\n   */\n  @obsolete({\n    message: 'Label.clearTextShadow will be removed in v0.26.0',\n    alternateMethod: 'Use Label.font.shadow'\n  })\n  public clearTextShadow() {\n    this.font.shadow = null;\n  }\n\n  public draw(_ctx: CanvasRenderingContext2D, _delta: number) {\n    const exctx = this._graphicsContext;\n    this._text.draw(exctx, 0, 0);\n  }\n}\n\n/**\n * Labels are the way to draw small amounts of text to the screen. They are\n * actors and inherit all of the benefits and capabilities.\n */\nexport class Label extends Configurable(LabelImpl) {\n  constructor();\n  constructor(config?: LabelOptions);\n  constructor(text?: string, x?: number, y?: number, fontFamily?: string, spriteFont?: LegacySpriteFont);\n  constructor(textOrConfig?: string | LabelOptions, x?: number, y?: number, fontFamily?: string, spriteFont?: LegacySpriteFont) {\n    super(textOrConfig, x, y, fontFamily, spriteFont);\n  }\n}\n","import { Color } from './Drawing/Color';\nimport { Engine } from './Engine';\nimport { ActionQueue } from './Actions/Action';\nimport { EventDispatcher } from './EventDispatcher';\nimport { Actor, isActor } from './Actor';\nimport { Vector } from './Algebra';\nimport { ExitTriggerEvent, EnterTriggerEvent, CollisionEndEvent, CollisionStartEvent } from './Events';\nimport * as Util from './Util/Util';\nimport { CollisionType } from './Collision/CollisionType';\n\n/**\n * ITriggerOptions\n */\nexport interface TriggerOptions {\n  // position of the trigger\n  pos: Vector;\n  // width of the trigger\n  width: number;\n  // height of the trigger\n  height: number;\n  // whether the trigger is visible or not\n  visible: boolean;\n  // action to take when triggered\n  action: () => void;\n  // if specified the trigger will only fire on a specific actor and overrides any filter\n  target: Actor;\n  // Returns true if the triggers should fire on the collided actor\n  filter: (actor: Actor) => boolean;\n  // -1 if it should repeat forever\n  repeat: number;\n}\n\nconst triggerDefaults: Partial<TriggerOptions> = {\n  pos: Vector.Zero,\n  width: 10,\n  height: 10,\n  visible: false,\n  action: () => {\n    return;\n  },\n  filter: () => true,\n  repeat: -1\n};\n\n/**\n * Triggers are a method of firing arbitrary code on collision. These are useful\n * as 'buttons', 'switches', or to trigger effects in a game. By default triggers\n * are invisible, and can only be seen when [[Trigger.visible]] is set to `true`.\n */\nexport class Trigger extends Actor {\n  private _target: Actor;\n  /**\n   * Action to fire when triggered by collision\n   */\n  public action: () => void = () => {\n    return;\n  };\n  /**\n   * Filter to add additional granularity to action dispatch, if a filter is specified the action will only fire when\n   * filter return true for the collided actor.\n   */\n  public filter: (actor: Actor) => boolean = () => true;\n  /**\n   * Number of times to repeat before killing the trigger,\n   */\n  public repeat: number = -1;\n\n  /**\n   *\n   * @param opts Trigger options\n   */\n  constructor(opts: Partial<TriggerOptions>) {\n    super(opts.pos.x, opts.pos.y, opts.width, opts.height);\n    opts = Util.extend({}, triggerDefaults, opts);\n\n    this.filter = opts.filter || this.filter;\n    this.repeat = opts.repeat || this.repeat;\n    this.action = opts.action || this.action;\n    if (opts.target) {\n      this.target = opts.target;\n    }\n\n    this.visible = opts.visible;\n    this.body.collider.type = CollisionType.Passive;\n    this.eventDispatcher = new EventDispatcher(this);\n    this.actionQueue = new ActionQueue(this);\n\n    this.on('collisionstart', (evt: CollisionStartEvent<Actor>) => {\n      if (isActor(evt.other) && this.filter(evt.other)) {\n        this.emit('enter', new EnterTriggerEvent(this, evt.other));\n        this._dispatchAction();\n        // remove trigger if its done, -1 repeat forever\n        if (this.repeat === 0) {\n          this.kill();\n        }\n      }\n    });\n\n    this.on('collisionend', (evt: CollisionEndEvent<Actor>) => {\n      if (isActor(evt.other) && this.filter(evt.other)) {\n        this.emit('exit', new ExitTriggerEvent(this, evt.other));\n      }\n    });\n  }\n\n  public set target(target: Actor) {\n    this._target = target;\n    this.filter = (actor: Actor) => actor === target;\n  }\n\n  public get target() {\n    return this._target;\n  }\n\n  public _initialize(engine: Engine) {\n    super._initialize(engine);\n  }\n\n  private _dispatchAction() {\n    this.action.call(this);\n    this.repeat--;\n  }\n\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    super.debugDraw(ctx);\n    // Meant to draw debug information about actors\n    ctx.save();\n    ctx.translate(this.pos.x, this.pos.y);\n\n    const bb = this.body.collider.bounds;\n    const wp = this.getGlobalPos();\n    bb.left = bb.left - wp.x;\n    bb.right = bb.right - wp.x;\n    bb.top = bb.top - wp.y;\n    bb.bottom = bb.bottom - wp.y;\n\n    // Currently collision primitives cannot rotate\n    // ctx.rotate(this.rotation);\n    ctx.fillStyle = Color.Violet.toString();\n    ctx.strokeStyle = Color.Violet.toString();\n    ctx.fillText('Trigger', 10, 10);\n    bb.debugDraw(ctx);\n\n    ctx.restore();\n  }\n}\n","import { Actor } from '../Actor';\nimport { ScreenElement } from '../ScreenElement';\nimport { Label } from '../Label';\nimport { Trigger } from '../Trigger';\n\n/**\n * Type guard to detect if something is an actor\n * @deprecated Will be removed in v0.26.0\n * @param actor\n */\nexport function isVanillaActor(actor: Actor) {\n  return !(actor instanceof ScreenElement) && !(actor instanceof Trigger) && !(actor instanceof Label);\n}\n\n/**\n * Type guard to detect a screen element\n * @todo move to ScreenElement\n */\nexport function isScreenElement(actor: Actor) {\n  return actor instanceof ScreenElement;\n}\n","import { ScreenElement } from './ScreenElement';\nimport { Physics } from './Physics';\nimport {\n  InitializeEvent,\n  ActivateEvent,\n  DeactivateEvent,\n  PreUpdateEvent,\n  PostUpdateEvent,\n  PreDrawEvent,\n  PostDrawEvent,\n  PreDebugDrawEvent,\n  PostDebugDrawEvent,\n  GameEvent\n} from './Events';\nimport { Logger } from './Util/Log';\nimport { Timer } from './Timer';\nimport { DynamicTreeCollisionBroadphase } from './Collision/DynamicTreeCollisionBroadphase';\nimport { CollisionBroadphase } from './Collision/CollisionResolver';\nimport { Engine } from './Engine';\nimport { TileMap } from './TileMap';\nimport { Camera } from './Camera';\nimport { Actor } from './Actor';\nimport { Class } from './Class';\nimport { CanInitialize, CanActivate, CanDeactivate, CanUpdate, CanDraw } from './Interfaces/LifecycleEvents';\nimport * as Util from './Util/Util';\nimport * as Events from './Events';\nimport * as ActorUtils from './Util/Actors';\nimport { Trigger } from './Trigger';\nimport { Body } from './Collision/Body';\nimport { SystemType } from './EntityComponentSystem/System';\n// import { CanvasDrawingSystem } from './Drawing/CanvasDrawingSystem';\nimport { obsolete } from './Util/Decorators';\nimport { World } from './EntityComponentSystem/World';\nimport { Entity } from './EntityComponentSystem/Entity';\nimport { GraphicsSystem } from './Graphics/GraphicsSystem';\nimport { CanvasDrawingSystem } from './Drawing/CanvasDrawingSystem';\nimport { Flags, Legacy } from './Flags';\n/**\n * [[Actor|Actors]] are composed together into groupings called Scenes in\n * Excalibur. The metaphor models the same idea behind real world\n * actors in a scene. Only actors in scenes will be updated and drawn.\n *\n * Typical usages of a scene include: levels, menus, loading screens, etc.\n */\nexport class Scene extends Class implements CanInitialize, CanActivate, CanDeactivate, CanUpdate, CanDraw {\n  /**\n   * Gets or sets the current camera for the scene\n   */\n  public camera: Camera;\n\n  /**\n   * The actors in the current scene\n   */\n  public actors: Actor[] = [];\n\n  /**\n   * The ECS world for the scene\n   */\n  public world = new World(this);\n\n  /**\n   * Physics bodies in the current scene\n   */\n  private _bodies: Body[] = [];\n\n  /**\n   * The triggers in the current scene\n   */\n  public triggers: Trigger[] = [];\n\n  /**\n   * The [[TileMap]]s in the scene, if any\n   */\n  public tileMaps: TileMap[] = [];\n\n  /**\n   * Access to the Excalibur engine\n   */\n  public engine: Engine;\n\n  /**\n   * The [[ScreenElement]]s in a scene, if any; these are drawn last\n   * @deprecated Use [[Scene.actors]]\n   */\n  @obsolete({\n    message: 'Will be removed in excalibur v0.26.0',\n    alternateMethod: 'ScreenElements now are normal actors with a Transform Coordinate Plane of Screen'\n  })\n  public get screenElements(): ScreenElement[] {\n    return this.actors.filter((a) => a instanceof ScreenElement) as ScreenElement[];\n  }\n\n  private _isInitialized: boolean = false;\n\n  private _broadphase: CollisionBroadphase = new DynamicTreeCollisionBroadphase();\n\n  private _killQueue: Actor[] = [];\n  private _triggerKillQueue: Trigger[] = [];\n  private _timers: Timer[] = [];\n  private _cancelQueue: Timer[] = [];\n  private _logger: Logger = Logger.getInstance();\n\n  constructor(_engine?: Engine) {\n    super();\n    this.camera = new Camera();\n    if (_engine) {\n      this.engine = _engine;\n      this.camera.x = this.engine.halfDrawWidth;\n      this.camera.y = this.engine.halfDrawHeight;\n    }\n  }\n\n  public on(eventName: Events.initialize, handler: (event: InitializeEvent<Scene>) => void): void;\n  public on(eventName: Events.activate, handler: (event: ActivateEvent) => void): void;\n  public on(eventName: Events.deactivate, handler: (event: DeactivateEvent) => void): void;\n  public on(eventName: Events.preupdate, handler: (event: PreUpdateEvent<Scene>) => void): void;\n  public on(eventName: Events.postupdate, handler: (event: PostUpdateEvent<Scene>) => void): void;\n  public on(eventName: Events.predraw, handler: (event: PreDrawEvent) => void): void;\n  public on(eventName: Events.postdraw, handler: (event: PostDrawEvent) => void): void;\n  public on(eventName: Events.predebugdraw, handler: (event: PreDebugDrawEvent) => void): void;\n  public on(eventName: Events.postdebugdraw, handler: (event: PostDebugDrawEvent) => void): void;\n  public on(eventName: string, handler: (event: GameEvent<any>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    super.on(eventName, handler);\n  }\n\n  public once(eventName: Events.initialize, handler: (event: InitializeEvent<Scene>) => void): void;\n  public once(eventName: Events.activate, handler: (event: ActivateEvent) => void): void;\n  public once(eventName: Events.deactivate, handler: (event: DeactivateEvent) => void): void;\n  public once(eventName: Events.preupdate, handler: (event: PreUpdateEvent<Scene>) => void): void;\n  public once(eventName: Events.postupdate, handler: (event: PostUpdateEvent<Scene>) => void): void;\n  public once(eventName: Events.predraw, handler: (event: PreDrawEvent) => void): void;\n  public once(eventName: Events.postdraw, handler: (event: PostDrawEvent) => void): void;\n  public once(eventName: Events.predebugdraw, handler: (event: PreDebugDrawEvent) => void): void;\n  public once(eventName: Events.postdebugdraw, handler: (event: PostDebugDrawEvent) => void): void;\n  public once(eventName: string, handler: (event: GameEvent<any>) => void): void;\n  public once(eventName: string, handler: (event: any) => void): void {\n    super.once(eventName, handler);\n  }\n\n  public off(eventName: Events.initialize, handler?: (event: InitializeEvent<Scene>) => void): void;\n  public off(eventName: Events.activate, handler?: (event: ActivateEvent) => void): void;\n  public off(eventName: Events.deactivate, handler?: (event: DeactivateEvent) => void): void;\n  public off(eventName: Events.preupdate, handler?: (event: PreUpdateEvent<Scene>) => void): void;\n  public off(eventName: Events.postupdate, handler?: (event: PostUpdateEvent<Scene>) => void): void;\n  public off(eventName: Events.predraw, handler?: (event: PreDrawEvent) => void): void;\n  public off(eventName: Events.postdraw, handler?: (event: PostDrawEvent) => void): void;\n  public off(eventName: Events.predebugdraw, handler?: (event: PreDebugDrawEvent) => void): void;\n  public off(eventName: Events.postdebugdraw, handler?: (event: PostDebugDrawEvent) => void): void;\n  public off(eventName: string, handler?: (event: GameEvent<any>) => void): void;\n  public off(eventName: string, handler?: (event: any) => void): void {\n    super.off(eventName, handler);\n  }\n\n  /**\n   * This is called before the first update of the [[Scene]]. Initializes scene members like the camera. This method is meant to be\n   * overridden. This is where initialization of child actors should take place.\n   */\n  public onInitialize(_engine: Engine): void {\n    // will be overridden\n  }\n\n  /**\n   * This is called when the scene is made active and started. It is meant to be overridden,\n   * this is where you should setup any DOM UI or event handlers needed for the scene.\n   */\n  public onActivate(_oldScene: Scene, _newScene: Scene): void {\n    // will be overridden\n  }\n\n  /**\n   * This is called when the scene is made transitioned away from and stopped. It is meant to be overridden,\n   * this is where you should cleanup any DOM UI or event handlers needed for the scene.\n   */\n  public onDeactivate(_oldScene: Scene, _newScene: Scene): void {\n    // will be overridden\n  }\n\n  /**\n   * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPreUpdate` is called directly before a scene is updated.\n   */\n  public onPreUpdate(_engine: Engine, _delta: number): void {\n    // will be overridden\n  }\n\n  /**\n   * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPostUpdate` is called directly after a scene is updated.\n   */\n  public onPostUpdate(_engine: Engine, _delta: number): void {\n    // will be overridden\n  }\n\n  /**\n   * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPreDraw` is called directly before a scene is drawn.\n   */\n  public onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n    // will be overridden\n  }\n\n  /**\n   * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n   *\n   * `onPostDraw` is called directly after a scene is drawn.\n   */\n  public onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n    // will be overridden\n  }\n\n  /**\n   * Initializes actors in the scene\n   */\n  private _initializeChildren(): void {\n    for (const child of this.actors) {\n      child._initialize(this.engine);\n    }\n  }\n\n  /**\n   * Gets whether or not the [[Scene]] has been initialized\n   */\n  public get isInitialized(): boolean {\n    return this._isInitialized;\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Initializes the scene before the first update, meant to be called by engine not by users of\n   * Excalibur\n   * @internal\n   */\n  public _initialize(engine: Engine) {\n    if (!this.isInitialized) {\n      this.engine = engine;\n      if (this.camera) {\n        this.camera.x = engine.halfDrawWidth;\n        this.camera.y = engine.halfDrawHeight;\n      }\n\n      // Initialize systems\n      if (Flags.isEnabled(Legacy.LegacyDrawing)) {\n        this.world.add(new CanvasDrawingSystem());\n      } else {\n        this.world.add(new GraphicsSystem());\n      }\n\n      // This order is important! we want to be sure any custom init that add actors\n      // fire before the actor init\n      this.onInitialize.call(this, engine);\n      this._initializeChildren();\n\n      this._logger.debug('Scene.onInitialize', this, engine);\n      this.eventDispatcher.emit('initialize', new InitializeEvent(engine, this));\n      this._isInitialized = true;\n    }\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Activates the scene with the base behavior, then calls the overridable `onActivate` implementation.\n   * @internal\n   */\n  public _activate(oldScene: Scene, newScene: Scene): void {\n    this._logger.debug('Scene.onActivate', this);\n    this.onActivate(oldScene, newScene);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Deactivates the scene with the base behavior, then calls the overridable `onDeactivate` implementation.\n   * @internal\n   */\n  public _deactivate(oldScene: Scene, newScene: Scene): void {\n    this._logger.debug('Scene.onDeactivate', this);\n    this.onDeactivate(oldScene, newScene);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n   * @internal\n   */\n  public _preupdate(_engine: Engine, delta: number): void {\n    this.emit('preupdate', new PreUpdateEvent(_engine, delta, this));\n    this.onPreUpdate(_engine, delta);\n  }\n\n  /**\n   *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n   * @internal\n   */\n  public _postupdate(_engine: Engine, delta: number): void {\n    this.emit('postupdate', new PostUpdateEvent(_engine, delta, this));\n    this.onPostUpdate(_engine, delta);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _predraw handler for [[onPreDraw]] lifecycle event\n   *\n   * @internal\n   */\n  public _predraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n    this.emit('predraw', new PreDrawEvent(_ctx, _delta, this));\n    this.onPreDraw(_ctx, _delta);\n  }\n\n  /**\n   * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n   *\n   * Internal _postdraw handler for [[onPostDraw]] lifecycle event\n   *\n   * @internal\n   */\n  public _postdraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n    this.emit('postdraw', new PostDrawEvent(_ctx, _delta, this));\n    this.onPostDraw(_ctx, _delta);\n  }\n\n  /**\n   * Updates all the actors and timers in the scene. Called by the [[Engine]].\n   * @param engine  Reference to the current Engine\n   * @param delta   The number of milliseconds since the last update\n   */\n  public update(engine: Engine, delta: number) {\n    this._preupdate(engine, delta);\n    this.world.update(SystemType.Update, delta);\n\n    if (this.camera) {\n      this.camera.update(engine, delta);\n    }\n\n    let i: number, len: number;\n    // Remove timers in the cancel queue before updating them\n    for (i = 0, len = this._cancelQueue.length; i < len; i++) {\n      this.removeTimer(this._cancelQueue[i]);\n    }\n    this._cancelQueue.length = 0;\n\n    // Cycle through timers updating timers\n    for (const timer of this._timers) {\n      timer.update(delta);\n    }\n\n    for (const entity of this.world.entityManager.entities) {\n      entity.update(engine, delta);\n    }\n\n    // Cycle through actors updating actors\n    for (i = 0, len = this.actors.length; i < len; i++) {\n      this._bodies[i] = this.actors[i].body;\n    }\n\n    this._collectActorStats(engine);\n\n    engine.input.pointers.dispatchPointerEvents();\n\n    // Run the broadphase and narrowphase\n    if (this._broadphase && Physics.enabled) {\n      const beforeBroadphase = Date.now();\n      this._broadphase.update(this._bodies, delta);\n      let pairs = this._broadphase.broadphase(this._bodies, delta, engine.stats.currFrame);\n      const afterBroadphase = Date.now();\n\n      const beforeNarrowphase = Date.now();\n      let iter: number = Physics.collisionPasses;\n      const collisionDelta = delta / iter;\n      while (iter > 0) {\n        // Run the narrowphase\n        pairs = this._broadphase.narrowphase(pairs, engine.stats.currFrame);\n        // Run collision resolution strategy\n        pairs = this._broadphase.resolve(pairs, collisionDelta, Physics.collisionResolutionStrategy);\n\n        this._broadphase.runCollisionStartEnd(pairs);\n\n        iter--;\n      }\n\n      const afterNarrowphase = Date.now();\n      engine.stats.currFrame.physics.broadphase = afterBroadphase - beforeBroadphase;\n      engine.stats.currFrame.physics.narrowphase = afterNarrowphase - beforeNarrowphase;\n    }\n\n    engine.stats.currFrame.actors.killed = this._killQueue.length + this._triggerKillQueue.length;\n\n    this._processKillQueue(this._killQueue, this.actors);\n    this._processKillQueue(this._triggerKillQueue, this.triggers);\n\n    this._postupdate(engine, delta);\n  }\n\n  private _processKillQueue(killQueue: Actor[], collection: Actor[]) {\n    // Remove actors from scene graph after being killed\n    let actorIndex: number;\n    for (const killed of killQueue) {\n      //don't remove actors that were readded during the same frame they were killed\n      if (killed.isKilled()) {\n        actorIndex = collection.indexOf(killed);\n        if (actorIndex > -1) {\n          collection.splice(actorIndex, 1);\n          this.world.remove(killed);\n          killed.children.forEach((c) => this.world.remove(c));\n        }\n      }\n    }\n    killQueue.length = 0;\n  }\n\n  /**\n   * Draws all the actors in the Scene. Called by the [[Engine]].\n   * @param ctx    The current rendering context\n   * @param delta  The number of milliseconds since the last draw\n   */\n  public draw(ctx: CanvasRenderingContext2D, delta: number) {\n    this._predraw(ctx, delta);\n\n    this.world.update(SystemType.Draw, delta);\n\n    this._postdraw(ctx, delta);\n  }\n\n  /**\n   * Draws all the actors' debug information in the Scene. Called by the [[Engine]].\n   * @param ctx  The current rendering context\n   */\n  /* istanbul ignore next */\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\n    this._broadphase.debugDraw(ctx, 20);\n    this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\n  }\n\n  /**\n   * Checks whether an actor is contained in this scene or not\n   */\n  public contains(actor: Actor): boolean {\n    return this.actors.indexOf(actor) > -1;\n  }\n\n  /**\n   * Adds a [[Timer]] to the current [[Scene]].\n   * @param timer  The timer to add to the current [[Scene]].\n   */\n  public add(timer: Timer): void;\n\n  /**\n   * Adds a [[TileMap]] to the [[Scene]], once this is done the [[TileMap]] will be drawn and updated.\n   */\n  public add(tileMap: TileMap): void;\n\n  /**\n   * Adds a [[Trigger]] to the [[Scene]], once this is done the [[Trigger]] will listen for interactions with other actors.\n   * @param trigger\n   */\n  public add(trigger: Trigger): void;\n\n  /**\n   * Adds an actor to the scene, once this is done the [[Actor]] will be drawn and updated.\n   * @param actor  The actor to add to the current scene\n   */\n  public add(actor: Actor): void;\n\n  public add(entity: Entity): void;\n\n  /**\n   * Adds a [[ScreenElement]] to the scene.\n   * @param screenElement  The ScreenElement to add to the current scene\n   */\n  public add(screenElement: ScreenElement): void;\n  public add(entity: any): void {\n    this.world.add(entity);\n    if (entity instanceof Actor) {\n      entity.unkill();\n    }\n    if (entity instanceof Actor) {\n      if (!Util.contains(this.actors, entity)) {\n        this._broadphase.track(entity.body);\n        entity.scene = this;\n        if (entity instanceof Trigger) {\n          this.triggers.push(entity);\n        } else {\n          this.actors.push(entity);\n        }\n        // TODO remove after collision ecs\n        entity.children.forEach(c => this.add(c));\n        entity.childrenAdded$.register({\n          notify: (e => {\n            this.add(e);\n          })\n        });\n        entity.childrenRemoved$.register({\n          notify: (e => {\n            this.remove(e);\n          })\n        });\n\n      }\n      return;\n    }\n    if (entity instanceof Timer) {\n      if (!Util.contains(this._timers, entity)) {\n        this.addTimer(entity);\n      }\n      return;\n    }\n    if (entity instanceof TileMap) {\n      if (!Util.contains(this.tileMaps, entity)) {\n        this.addTileMap(entity);\n      }\n    }\n  }\n\n  /**\n   * Removes a [[Timer]] from the current scene, it will no longer be updated.\n   * @param timer  The timer to remove to the current scene.\n   */\n  public remove(timer: Timer): void;\n\n  /**\n   * Removes a [[TileMap]] from the scene, it will no longer be drawn or updated.\n   * @param tileMap {TileMap}\n   */\n  public remove(tileMap: TileMap): void;\n\n  /**\n   * Removes an actor from the scene, it will no longer be drawn or updated.\n   * @param actor  The actor to remove from the current scene.\n   */\n  public remove(actor: Actor): void;\n\n  public remove(entity: Entity): void;\n\n  /**\n   * Removes a [[ScreenElement]] to the scene, it will no longer be drawn or updated\n   * @param screenElement  The ScreenElement to remove from the current scene\n   */\n  public remove(screenElement: ScreenElement): void;\n  public remove(entity: any): void {\n    this.world.remove(entity);\n    if (entity instanceof Actor) {\n      if (!Util.contains(this.actors, entity)) {\n        return;\n      }\n      this._broadphase.untrack(entity.body);\n      if (entity instanceof Trigger) {\n        this._triggerKillQueue.push(entity);\n      } else {\n        if (!entity.isKilled()) {\n          entity.kill();\n        }\n        this._killQueue.push(entity);\n      }\n    }\n    if (entity instanceof Timer) {\n      this.removeTimer(entity);\n    }\n    if (entity instanceof TileMap) {\n      this.removeTileMap(entity);\n    }\n  }\n\n  /**\n   * Adds (any) actor to act as a piece of UI, meaning it is always positioned\n   * in screen coordinates. UI actors do not participate in collisions.\n   * @todo Should this be `ScreenElement` only?\n   * @deprecated Use [[Scene.add]]\n   */\n  @obsolete({message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.add'})\n  public addScreenElement(actor: Actor) {\n    this.add(actor);\n  }\n\n  /**\n   * Removes an actor as a piece of UI\n   * @deprecated Use [[Scene.remove]]\n   */\n  @obsolete({message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.remove'})\n  public removeScreenElement(actor: Actor) {\n    this.remove(actor);\n  }\n\n  /**\n   * Adds a [[TileMap]] to the scene, once this is done the TileMap will be drawn and updated.\n   * @deprecated Use [[Scene.add]]\n   */\n  @obsolete({message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.add'})\n  public addTileMap(tileMap: TileMap) {\n    this.tileMaps.push(tileMap);\n    this.world.add(tileMap);\n  }\n\n  /**\n   * Removes a [[TileMap]] from the scene, it will no longer be drawn or updated.\n   * @deprecated Use [[Scene.remove]]\n   */\n  @obsolete({message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Scene.remove'})\n  public removeTileMap(tileMap: TileMap) {\n    const index = this.tileMaps.indexOf(tileMap);\n    if (index > -1) {\n      this.tileMaps.splice(index, 1);\n      this.world.remove(tileMap);\n    }\n  }\n\n  /**\n   * Adds a [[Timer]] to the scene\n   * @param timer  The timer to add\n   */\n  public addTimer(timer: Timer): Timer {\n    this._timers.push(timer);\n    timer.scene = this;\n    return timer;\n  }\n\n  /**\n   * Removes a [[Timer]] from the scene.\n   * @warning Can be dangerous, use [[cancelTimer]] instead\n   * @param timer  The timer to remove\n   */\n  public removeTimer(timer: Timer): Timer {\n    const i = this._timers.indexOf(timer);\n    if (i !== -1) {\n      this._timers.splice(i, 1);\n    }\n    return timer;\n  }\n\n  /**\n   * Cancels a [[Timer]], removing it from the scene nicely\n   * @param timer  The timer to cancel\n   */\n  public cancelTimer(timer: Timer): Timer {\n    this._cancelQueue.push(timer);\n    return timer;\n  }\n\n  /**\n   * Tests whether a [[Timer]] is active in the scene\n   */\n  public isTimerActive(timer: Timer): boolean {\n    return this._timers.indexOf(timer) > -1 && !timer.complete;\n  }\n\n  public isCurrentScene(): boolean {\n    if (this.engine) {\n      return this.engine.currentScene === this;\n    }\n    return false;\n  }\n\n  private _collectActorStats(engine: Engine) {\n    for (const _ui of this.screenElements) {\n      engine.stats.currFrame.actors.ui++;\n    }\n\n    for (const actor of this.actors) {\n      engine.stats.currFrame.actors.alive++;\n      for (const child of actor.children) {\n        if (ActorUtils.isScreenElement(child as Actor)) { // TODO not true\n          engine.stats.currFrame.actors.ui++;\n        } else {\n          engine.stats.currFrame.actors.alive++;\n        }\n      }\n    }\n  }\n}\n","import { Logger } from './../Util/Log';\nimport { PostProcessor } from './PostProcessor';\nimport { Engine } from '../Engine';\n\nexport enum ColorBlindness {\n  Protanope,\n  Deuteranope,\n  Tritanope\n}\n\n/**\n * This post processor can correct colors and simulate color blindness.\n * It is possible to use this on every game, but the game's performance\n * will suffer measurably. It's better to use it as a helpful tool while developing your game.\n * Remember, the best practice is to design with color blindness in mind.\n */\nexport class ColorBlindCorrector implements PostProcessor {\n  /*eslint-disable */\n  private _vertexShader =\n    '' +\n    'attribute vec2 a_position;' +\n    'attribute vec2 a_texCoord;' +\n    'uniform vec2 u_resolution;' +\n    'varying vec2 v_texCoord;' +\n    'void main() {' +\n    // convert the rectangle from pixels to 0.0 to 1.0\n    'vec2 zeroToOne = a_position / u_resolution;' +\n    // convert from 0->1 to 0->2\n    'vec2 zeroToTwo = zeroToOne * 2.0;' +\n    // convert from 0->2 to -1->+1 (clipspace)\n    'vec2 clipSpace = zeroToTwo - 1.0;' +\n    'gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);' +\n    // pass the texCoord to the fragment shader\n    // The GPU will interpolate this value between points.\n    'v_texCoord = a_texCoord;' +\n    '}';\n\n  private _fragmentShader =\n    'precision mediump float;' +\n    // our texture\n    'uniform sampler2D u_image;' +\n    // the texCoords passed in from the vertex shader.\n    'varying vec2 v_texCoord;' +\n    // Color blind conversions\n    /*'mat3 m[9] =' +\n   '{' +\n      'mat3(1.0, 0.0, 0.0,  0.0, 1.0, 0.0,  0.0, 0.0, 1.0  ),' + // normal\n      'mat3(0.567, 0.433, 0.0,  0.558, 0.442, 0.0,  0.0, 0.242, 0.758),' + // protanopia\n      'mat3(0.817, 0.183, 0.0,  0.333, 0.667, 0.0,  0.0, 0.125,0.875),' + // protanomaly\n      'mat3(0.625, 0.375, 0.0,  0.7, 0.3, 0.0,  0.0, 0.3,0.7  ),' + // deuteranopia\n      'mat3(0.8, 0.2, 0.0,  0.258, 0.742, 0.0,  0.0, 0.142,0.858),' + // deuteranomaly\n      'mat3(0.95, 0.05, 0.0,  0.0, 0.433, 0.567,  0.0, 0.475,0.525),' + // tritanopia\n      'mat3(0.967, 0.033, 0.0,  0.0, 0.733, 0.267,  0.0, 0.183,0.817),' + // tritanomaly\n      'mat3(0.299, 0.587, 0.114,  0.299, 0.587, 0.114,  0.299, 0.587,0.114),' + // achromatopsia\n      'mat3(0.618, 0.320, 0.062,  0.163, 0.775, 0.062,  0.163, 0.320,0.516)' +  // achromatomaly\n   '};' +*/\n\n    'void main() {' +\n    'vec4 o =  texture2D(u_image, v_texCoord);' +\n    // RGB to LMS matrix conversion\n    'float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);' +\n    'float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);' +\n    'float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);' +\n    // Simulate color blindness\n\n    '//MODE CODE//' +\n    /* Deuteranope for testing\n      'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\n            'float m = 0.494207 * L + 0.0 * M + 1.24827 * S;' +\n            'float s = 0.0 * L + 0.0 * M + 1.0 * S;' +*/\n\n    // LMS to RGB matrix conversion\n    'vec4 error;' +\n    'error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);' +\n    'error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);' +\n    'error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);' +\n    'error.a = 1.0;' +\n    'vec4 diff = o - error;' +\n    'vec4 correction;' +\n    'correction.r = 0.0;' +\n    'correction.g =  (diff.r * 0.7) + (diff.g * 1.0);' +\n    'correction.b =  (diff.r * 0.7) + (diff.b * 1.0);' +\n    'correction = o + correction;' +\n    'correction.a = o.a;' +\n    '//SIMULATE//' +\n    '}';\n\n  /*eslint-enable */\n  private _internalCanvas: HTMLCanvasElement;\n  private _gl: WebGLRenderingContext;\n  private _program: WebGLProgram;\n\n  constructor(public engine: Engine, public simulate: boolean = false, public colorMode: ColorBlindness = ColorBlindness.Protanope) {\n    this._internalCanvas = document.createElement('canvas');\n    this._internalCanvas.width = engine.drawWidth;\n    this._internalCanvas.height = engine.drawHeight;\n\n    // eslint-disable-next-line\n    this._gl = <WebGLRenderingContext>this._internalCanvas.getContext('webgl', { preserveDrawingBuffer: true });\n\n    this._program = this._gl.createProgram();\n    const fragmentShader = this._getShader('Fragment', this._getFragmentShaderByMode(colorMode));\n    const vertextShader = this._getShader('Vertex', this._vertexShader);\n\n    this._gl.attachShader(this._program, vertextShader);\n    this._gl.attachShader(this._program, fragmentShader);\n    this._gl.linkProgram(this._program);\n\n    if (!this._gl.getProgramParameter(this._program, this._gl.LINK_STATUS)) {\n      Logger.getInstance().error('Unable to link shader program!');\n    }\n\n    this._gl.useProgram(this._program);\n  }\n\n  private _getFragmentShaderByMode(colorMode: ColorBlindness) {\n    let code = '';\n    if (colorMode === ColorBlindness.Protanope) {\n      code =\n        'float l = 0.0 * L + 2.02344 * M + -2.52581 * S;' +\n        'float m = 0.0 * L + 1.0 * M + 0.0 * S;' +\n        'float s = 0.0 * L + 0.0 * M + 1.0 * S;';\n    } else if (colorMode === ColorBlindness.Deuteranope) {\n      code =\n        'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\n        'float m = 0.494207 * L + 0.0 * M + 1.24827 * S;' +\n        'float s = 0.0 * L + 0.0 * M + 1.0 * S;';\n    } else if (colorMode === ColorBlindness.Tritanope) {\n      code =\n        'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\n        'float m = 0.0 * L + 1.0 * M + 0.0 * S;' +\n        'float s = -0.395913 * L + 0.801109 * M + 0.0 * S;';\n    }\n\n    if (this.simulate) {\n      this._fragmentShader = this._fragmentShader.replace('//SIMULATE//', 'gl_FragColor = error.rgba;');\n    } else {\n      this._fragmentShader = this._fragmentShader.replace('//SIMULATE//', 'gl_FragColor = correction.rgba;');\n    }\n\n    return this._fragmentShader.replace('//MODE CODE//', code);\n  }\n\n  private _setRectangle(x: number, y: number, width: number, height: number) {\n    const x1 = x;\n    const x2 = x + width;\n    const y1 = y;\n    const y2 = y + height;\n    this._gl.bufferData(this._gl.ARRAY_BUFFER, new Float32Array([x1, y1, x2, y1, x1, y2, x1, y2, x2, y1, x2, y2]), this._gl.STATIC_DRAW);\n  }\n\n  private _getShader(type: string, program: string): WebGLShader {\n    let shader: WebGLShader;\n    if (type === 'Fragment') {\n      shader = this._gl.createShader(this._gl.FRAGMENT_SHADER);\n    } else if (type === 'Vertex') {\n      shader = this._gl.createShader(this._gl.VERTEX_SHADER);\n    } else {\n      Logger.getInstance().error('Error unknown shader type', type);\n    }\n\n    this._gl.shaderSource(shader, program);\n    this._gl.compileShader(shader);\n\n    if (!this._gl.getShaderParameter(shader, this._gl.COMPILE_STATUS)) {\n      Logger.getInstance().error('Unable to compile shader!', this._gl.getShaderInfoLog(shader));\n      return null;\n    }\n\n    return shader;\n  }\n\n  public process(image: ImageData, out: CanvasRenderingContext2D) {\n    // look up where the vertex data needs to go.\n    const positionLocation = this._gl.getAttribLocation(this._program, 'a_position');\n    const texCoordLocation = this._gl.getAttribLocation(this._program, 'a_texCoord');\n\n    const texCoordBuffer = this._gl.createBuffer();\n    this._gl.bindBuffer(this._gl.ARRAY_BUFFER, texCoordBuffer);\n    this._gl.bufferData(\n      this._gl.ARRAY_BUFFER,\n      new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]),\n      this._gl.STATIC_DRAW\n    );\n    this._gl.enableVertexAttribArray(texCoordLocation);\n    this._gl.vertexAttribPointer(texCoordLocation, 2, this._gl.FLOAT, false, 0, 0);\n\n    // Create a texture.\n    const texture = this._gl.createTexture();\n    this._gl.bindTexture(this._gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_S, this._gl.CLAMP_TO_EDGE);\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_T, this._gl.CLAMP_TO_EDGE);\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MIN_FILTER, this._gl.NEAREST);\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MAG_FILTER, this._gl.NEAREST);\n    // Flip the texture when unpacking into the gl context, gl reads textures in the opposite order as everything else :/\n    this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL, 1);\n    // Upload the image into the texture.\n    this._gl.texImage2D(this._gl.TEXTURE_2D, 0, this._gl.RGBA, this._gl.RGBA, this._gl.UNSIGNED_BYTE, image);\n\n    // lookup uniforms\n    const resolutionLocation = this._gl.getUniformLocation(this._program, 'u_resolution');\n\n    // set the resolution\n    this._gl.uniform2f(resolutionLocation, this._internalCanvas.width, this._internalCanvas.height);\n\n    // Create a buffer for the position of the rectangle corners.\n    const positionBuffer = this._gl.createBuffer();\n    this._gl.bindBuffer(this._gl.ARRAY_BUFFER, positionBuffer);\n    this._gl.enableVertexAttribArray(positionLocation);\n    this._gl.vertexAttribPointer(positionLocation, 2, this._gl.FLOAT, false, 0, 0);\n\n    // Set a rectangle the same size as the image.\n    this._setRectangle(0, 0, image.width, image.height);\n\n    // Draw the rectangle.\n    this._gl.drawArrays(this._gl.TRIANGLES, 0, 6);\n\n    // Grab transformed image from internal canvas\n    const pixelData = new Uint8Array(image.width * image.height * 4);\n    this._gl.readPixels(0, 0, image.width, image.height, this._gl.RGBA, this._gl.UNSIGNED_BYTE, pixelData);\n\n    (<any>image.data).set(pixelData);\n\n    out.putImageData(image, 0, 0);\n  }\n}\n","export * from './ColorBlindCorrector';\nexport * from './PostProcessor';\n","﻿import { Engine } from './Engine';\nimport { ColorBlindCorrector, ColorBlindness } from './PostProcessing/Index';\n\nexport interface DebugFlags {\n  colorBlindMode: ColorBlindFlags;\n}\n\nexport class ColorBlindFlags {\n  private _engine: Engine;\n\n  constructor(engine: Engine) {\n    this._engine = engine;\n  }\n\n  public correct(colorBlindness: ColorBlindness) {\n    this._engine.postProcessors.push(new ColorBlindCorrector(this._engine, false, colorBlindness));\n  }\n\n  public simulate(colorBlindness: ColorBlindness) {\n    this._engine.postProcessors.push(new ColorBlindCorrector(this._engine, true, colorBlindness));\n  }\n}\n","import { DebugFlags, ColorBlindFlags } from './DebugFlags';\nimport { Pair } from './Collision/Pair';\nimport { Engine } from './Engine';\n\n/**\n * Debug stats containing current and previous frame statistics\n */\nexport interface DebugStats {\n  currFrame: FrameStats;\n  prevFrame: FrameStats;\n}\n\n/**\n * Hash containing the [[Pair.id]]s of pairs that collided in a frame\n */\nexport interface CollidersHash {\n  [pairId: string]: Pair;\n}\n\n/**\n * Represents a frame's individual statistics\n */\nexport interface FrameStatistics {\n  /**\n   * The number of the frame\n   */\n  id: number;\n\n  /**\n   * Gets the frame's delta (time since last frame scaled by [[Engine.timescale]]) (in ms)\n   */\n  delta: number;\n\n  /**\n   * Gets the frame's frames-per-second (FPS)\n   */\n  fps: number;\n\n  /**\n   * Duration statistics (in ms)\n   */\n  duration: FrameDurationStats;\n\n  /**\n   * Actor statistics\n   */\n  actors: FrameActorStats;\n\n  /**\n   * Physics statistics\n   */\n  physics: PhysicsStatistics;\n\n  /**\n   * Graphics statistics\n   */\n  graphics: GraphicsStatistics;\n}\n\n/**\n * Represents actor stats for a frame\n */\nexport interface FrameActorStats {\n  /**\n   * Gets the frame's number of actors (alive)\n   */\n  alive: number;\n\n  /**\n   * Gets the frame's number of actors (killed)\n   */\n  killed: number;\n\n  /**\n   * Gets the frame's number of remaining actors (alive - killed)\n   */\n  remaining: number;\n\n  /**\n   * Gets the frame's number of UI actors\n   */\n  ui: number;\n\n  /**\n   * Gets the frame's number of total actors (remaining + UI)\n   */\n  total: number;\n}\n\n/**\n * Represents duration stats for a frame\n */\nexport interface FrameDurationStats {\n  /**\n   * Gets the frame's total time to run the update function (in ms)\n   */\n  update: number;\n\n  /**\n   * Gets the frame's total time to run the draw function (in ms)\n   */\n  draw: number;\n\n  /**\n   * Gets the frame's total render duration (update + draw duration) (in ms)\n   */\n  total: number;\n}\n\n/**\n * Represents physics stats for the current frame\n */\nexport interface PhysicsStatistics {\n  /**\n   * Gets the number of broadphase collision pairs which\n   */\n  pairs: number;\n\n  /**\n   * Gets the number of actual collisions\n   */\n  collisions: number;\n\n  /**\n   * A Hash storing the [[Pair.id]]s of [[Pair]]s that collided in the frame\n   */\n  collidersHash: CollidersHash;\n\n  /**\n   * Gets the number of fast moving bodies using raycast continuous collisions in the scene\n   */\n  fastBodies: number;\n\n  /**\n   * Gets the number of bodies that had a fast body collision resolution\n   */\n  fastBodyCollisions: number;\n\n  /**\n   * Gets the time it took to calculate the broadphase pairs\n   */\n  broadphase: number;\n\n  /**\n   * Gets the time it took to calculate the narrowphase\n   */\n  narrowphase: number;\n}\n\nexport interface GraphicsStatistics {\n  drawCalls: number;\n  drawnImages: number;\n}\n\n/**\n * Debug statistics and flags for Excalibur. If polling these values, it would be\n * best to do so on the `postupdate` event for [[Engine]], after all values have been\n * updated during a frame.\n */\nexport class Debug implements DebugFlags {\n  private _engine: Engine;\n\n  constructor(engine: Engine) {\n    this._engine = engine;\n\n    this.colorBlindMode = new ColorBlindFlags(this._engine);\n  }\n\n  /**\n   * Performance statistics\n   */\n  public stats: DebugStats = {\n    /**\n     * Current frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats.\n     * Best accessed on [[postframe]] event. See [[FrameStats]]\n     */\n    currFrame: new FrameStats(),\n\n    /**\n     * Previous frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats.\n     * Best accessed on [[preframe]] event. Best inspected on engine event `preframe`. See [[FrameStats]]\n     */\n    prevFrame: new FrameStats()\n  };\n\n  /**\n   * Correct or simulate color blindness using [[ColorBlindness]] post processor.\n   * @warning Will reduce FPS.\n   */\n  public colorBlindMode: ColorBlindFlags;\n}\n\n/**\n * Implementation of a frame's stats. Meant to have values copied via [[FrameStats.reset]], avoid\n * creating instances of this every frame.\n */\nexport class FrameStats implements FrameStatistics {\n  private _id: number = 0;\n  private _delta: number = 0;\n  private _fps: number = 0;\n  private _actorStats: FrameActorStats = {\n    alive: 0,\n    killed: 0,\n    ui: 0,\n    get remaining() {\n      return this.alive - this.killed;\n    },\n    get total() {\n      return this.remaining + this.ui;\n    }\n  };\n  private _durationStats: FrameDurationStats = {\n    update: 0,\n    draw: 0,\n    get total() {\n      return this.update + this.draw;\n    }\n  };\n\n  private _physicsStats: PhysicsStats = new PhysicsStats();\n\n  private _graphicsStats: GraphicsStatistics = {\n    drawCalls: 0,\n    drawnImages: 0\n  }\n\n  /**\n   * Zero out values or clone other IFrameStat stats. Allows instance reuse.\n   *\n   * @param [otherStats] Optional stats to clone\n   */\n  public reset(otherStats?: FrameStatistics) {\n    if (otherStats) {\n      this.id = otherStats.id;\n      this.delta = otherStats.delta;\n      this.fps = otherStats.fps;\n      this.actors.alive = otherStats.actors.alive;\n      this.actors.killed = otherStats.actors.killed;\n      this.actors.ui = otherStats.actors.ui;\n      this.duration.update = otherStats.duration.update;\n      this.duration.draw = otherStats.duration.draw;\n      this._physicsStats.reset(otherStats.physics);\n      this.graphics.drawCalls = otherStats.graphics.drawCalls;\n      this.graphics.drawnImages = otherStats.graphics.drawnImages;\n    } else {\n      this.id = this.delta = this.fps = 0;\n      this.actors.alive = this.actors.killed = this.actors.ui = 0;\n      this.duration.update = this.duration.draw = 0;\n      this._physicsStats.reset();\n      this.graphics.drawnImages = this.graphics.drawCalls = 0;\n    }\n  }\n\n  /**\n   * Provides a clone of this instance.\n   */\n  public clone(): FrameStats {\n    const fs = new FrameStats();\n\n    fs.reset(this);\n\n    return fs;\n  }\n\n  /**\n   * Gets the frame's id\n   */\n  public get id() {\n    return this._id;\n  }\n\n  /**\n   * Sets the frame's id\n   */\n  public set id(value: number) {\n    this._id = value;\n  }\n\n  /**\n   * Gets the frame's delta (time since last frame)\n   */\n  public get delta() {\n    return this._delta;\n  }\n\n  /**\n   * Sets the frame's delta (time since last frame). Internal use only.\n   * @internal\n   */\n  public set delta(value: number) {\n    this._delta = value;\n  }\n\n  /**\n   * Gets the frame's frames-per-second (FPS)\n   */\n  public get fps() {\n    return this._fps;\n  }\n\n  /**\n   * Sets the frame's frames-per-second (FPS). Internal use only.\n   * @internal\n   */\n  public set fps(value: number) {\n    this._fps = value;\n  }\n\n  /**\n   * Gets the frame's actor statistics\n   */\n  public get actors() {\n    return this._actorStats;\n  }\n\n  /**\n   * Gets the frame's duration statistics\n   */\n  public get duration() {\n    return this._durationStats;\n  }\n\n  /**\n   * Gets the frame's physics statistics\n   */\n  public get physics() {\n    return this._physicsStats;\n  }\n\n  /**\n   * Gets the frame's graphics statistics\n   */\n  public get graphics() {\n    return this._graphicsStats;\n  }\n}\n\nexport class PhysicsStats implements PhysicsStatistics {\n  private _pairs: number = 0;\n  private _collisions: number = 0;\n  private _collidersHash: CollidersHash = {};\n  private _fastBodies: number = 0;\n  private _fastBodyCollisions: number = 0;\n  private _broadphase: number = 0;\n  private _narrowphase: number = 0;\n\n  /**\n   * Zero out values or clone other IPhysicsStats stats. Allows instance reuse.\n   *\n   * @param [otherStats] Optional stats to clone\n   */\n  public reset(otherStats?: PhysicsStatistics) {\n    if (otherStats) {\n      this.pairs = otherStats.pairs;\n      this.collisions = otherStats.collisions;\n      this.collidersHash = otherStats.collidersHash;\n      this.fastBodies = otherStats.fastBodies;\n      this.fastBodyCollisions = otherStats.fastBodyCollisions;\n      this.broadphase = otherStats.broadphase;\n      this.narrowphase = otherStats.narrowphase;\n    } else {\n      this.pairs = this.collisions = this.fastBodies = 0;\n      this.fastBodyCollisions = this.broadphase = this.narrowphase = 0;\n      this.collidersHash = {};\n    }\n  }\n\n  /**\n   * Provides a clone of this instance.\n   */\n  public clone(): PhysicsStatistics {\n    const ps = new PhysicsStats();\n\n    ps.reset(this);\n\n    return ps;\n  }\n\n  public get pairs(): number {\n    return this._pairs;\n  }\n\n  public set pairs(value: number) {\n    this._pairs = value;\n  }\n\n  public get collisions(): number {\n    return this._collisions;\n  }\n\n  public set collisions(value: number) {\n    this._collisions = value;\n  }\n\n  public get collidersHash(): CollidersHash {\n    return this._collidersHash;\n  }\n\n  public set collidersHash(colliders: CollidersHash) {\n    this._collidersHash = colliders;\n  }\n\n  public get fastBodies(): number {\n    return this._fastBodies;\n  }\n\n  public set fastBodies(value: number) {\n    this._fastBodies = value;\n  }\n\n  public get fastBodyCollisions(): number {\n    return this._fastBodyCollisions;\n  }\n\n  public set fastBodyCollisions(value: number) {\n    this._fastBodyCollisions = value;\n  }\n\n  public get broadphase(): number {\n    return this._broadphase;\n  }\n\n  public set broadphase(value: number) {\n    this._broadphase = value;\n  }\n\n  public get narrowphase(): number {\n    return this._narrowphase;\n  }\n\n  public set narrowphase(value: number) {\n    this._narrowphase = value;\n  }\n}\n","import { Class } from './../Class';\nimport { GameEvent, GamepadConnectEvent, GamepadDisconnectEvent, GamepadButtonEvent, GamepadAxisEvent } from '../Events';\nimport * as Events from '../Events';\n\n/**\n * Excalibur leverages the HTML5 Gamepad API [where it is supported](http://caniuse.com/#feat=gamepad)\n * to provide controller support for your games.\n */\nexport class Gamepads extends Class {\n  /**\n   * Whether or not to poll for Gamepad input (default: `false`)\n   */\n  public enabled = false;\n\n  /**\n   * Whether or not Gamepad API is supported\n   */\n  public supported = !!(<any>navigator).getGamepads;\n\n  /**\n   * The minimum value an axis has to move before considering it a change\n   */\n  public static MinAxisMoveThreshold = 0.05;\n\n  private _gamePadTimeStamps = [0, 0, 0, 0];\n  private _oldPads: Gamepad[] = [];\n  private _pads: Gamepad[] = [];\n  private _initSuccess: boolean = false;\n  private _navigator: NavigatorGamepads = <any>navigator;\n  private _minimumConfiguration: GamepadConfiguration = null;\n\n  constructor() {\n    super();\n  }\n\n  public init() {\n    if (!this.supported) {\n      return;\n    }\n    if (this._initSuccess) {\n      return;\n    }\n\n    // In Chrome, this will return 4 undefined items until a button is pressed\n    // In FF, this will not return any items until a button is pressed\n    this._oldPads = this._clonePads(this._navigator.getGamepads());\n    if (this._oldPads.length && this._oldPads[0]) {\n      this._initSuccess = true;\n    }\n  }\n\n  /**\n   * Sets the minimum gamepad configuration, for example {axis: 4, buttons: 4} means\n   * this game requires at minimum 4 axis inputs and 4 buttons, this is not restrictive\n   * all other controllers with more axis or buttons are valid as well. If no minimum\n   * configuration is set all pads are valid.\n   */\n  public setMinimumGamepadConfiguration(config: GamepadConfiguration): void {\n    this._enableAndUpdate(); // if config is used, implicitly enable\n    this._minimumConfiguration = config;\n  }\n\n  /**\n   * When implicitly enabled, set the enabled flag and run an update so information is updated\n   */\n  private _enableAndUpdate() {\n    if (!this.enabled) {\n      this.enabled = true;\n      this.update();\n    }\n  }\n\n  /**\n   * Checks a navigator gamepad against the minimum configuration if present.\n   */\n  private _isGamepadValid(pad: NavigatorGamepad): boolean {\n    if (!this._minimumConfiguration) {\n      return true;\n    }\n    if (!pad) {\n      return false;\n    }\n    const axesLength = pad.axes.filter((value) => {\n      return typeof value !== undefined;\n    }).length;\n\n    const buttonLength = pad.buttons.filter((value) => {\n      return typeof value !== undefined;\n    }).length;\n    return axesLength >= this._minimumConfiguration.axis && buttonLength >= this._minimumConfiguration.buttons && pad.connected;\n  }\n\n  public on(eventName: Events.connect, handler: (event: GamepadConnectEvent) => void): void;\n  public on(eventName: Events.disconnect, handler: (event: GamepadDisconnectEvent) => void): void;\n  public on(eventName: Events.button, handler: (event: GamepadButtonEvent) => void): void;\n  public on(eventName: Events.axis, handler: (event: GamepadAxisEvent) => void): void;\n  public on(eventName: string, handler: (event: GameEvent<any>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    this._enableAndUpdate(); // implicitly enable\n    super.on(eventName, handler);\n  }\n\n  public off(eventName: string, handler?: (event: GameEvent<any>) => void) {\n    this._enableAndUpdate(); // implicitly enable\n    super.off(eventName, handler);\n  }\n\n  /**\n   * Updates Gamepad state and publishes Gamepad events\n   */\n  public update() {\n    if (!this.enabled || !this.supported) {\n      return;\n    }\n    this.init();\n\n    const gamepads = this._navigator.getGamepads();\n\n    for (let i = 0; i < gamepads.length; i++) {\n      if (!gamepads[i]) {\n        const gamepad = this.at(i);\n        // If was connected, but now isn't emit the disconnect event\n        if (gamepad.connected) {\n          this.eventDispatcher.emit('disconnect', new GamepadDisconnectEvent(i, gamepad));\n        }\n        // Reset connection status\n        gamepad.connected = false;\n        continue;\n      } else {\n        if (!this.at(i).connected && this._isGamepadValid(gamepads[i])) {\n          this.eventDispatcher.emit('connect', new GamepadConnectEvent(i, this.at(i)));\n        }\n        // Set connection status\n        this.at(i).connected = true;\n      }\n\n      // Only supported in Chrome\n      if (gamepads[i].timestamp && gamepads[i].timestamp === this._gamePadTimeStamps[i]) {\n        continue;\n      }\n\n      this._gamePadTimeStamps[i] = gamepads[i].timestamp;\n\n      // Add reference to navigator gamepad\n      this.at(i).navigatorGamepad = gamepads[i];\n\n      // Buttons\n      let b: string, bi: number, a: string, ai: number, value: number;\n\n      for (b in Buttons) {\n        bi = <any>Buttons[b];\n        if (typeof bi === 'number') {\n          if (gamepads[i].buttons[bi]) {\n            value = gamepads[i].buttons[bi].value;\n            if (value !== this._oldPads[i].getButton(bi)) {\n              if (gamepads[i].buttons[bi].pressed) {\n                this.at(i).updateButton(bi, value);\n                this.at(i).eventDispatcher.emit('button', new GamepadButtonEvent(bi, value, this.at(i)));\n              } else {\n                this.at(i).updateButton(bi, 0);\n              }\n            }\n          }\n        }\n      }\n\n      // Axes\n      for (a in Axes) {\n        ai = <any>Axes[a];\n        if (typeof ai === 'number') {\n          value = gamepads[i].axes[ai];\n          if (value !== this._oldPads[i].getAxes(ai)) {\n            this.at(i).updateAxes(ai, value);\n            this.at(i).eventDispatcher.emit('axis', new GamepadAxisEvent(ai, value, this.at(i)));\n          }\n        }\n      }\n\n      this._oldPads[i] = this._clonePad(gamepads[i]);\n    }\n  }\n\n  /**\n   * Safely retrieves a Gamepad at a specific index and creates one if it doesn't yet exist\n   */\n  public at(index: number): Gamepad {\n    this._enableAndUpdate(); // implicitly enable gamepads when at() is called\n    if (index >= this._pads.length) {\n      // Ensure there is a pad to retrieve\n      for (let i = this._pads.length - 1, max = index; i < max; i++) {\n        this._pads.push(new Gamepad());\n        this._oldPads.push(new Gamepad());\n      }\n    }\n\n    return this._pads[index];\n  }\n\n  /**\n   * Returns a list of all valid gamepads that meet the minimum configuration requirement.\n   */\n  public getValidGamepads(): Gamepad[] {\n    this._enableAndUpdate();\n    const result: Gamepad[] = [];\n    for (let i = 0; i < this._pads.length; i++) {\n      if (this._isGamepadValid(this.at(i).navigatorGamepad) && this.at(i).connected) {\n        result.push(this.at(i));\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the number of connected gamepads\n   */\n  public count() {\n    return this._pads.filter((p) => p.connected).length;\n  }\n\n  private _clonePads(pads: NavigatorGamepad[]): Gamepad[] {\n    const arr = [];\n    for (let i = 0, len = pads.length; i < len; i++) {\n      arr.push(this._clonePad(pads[i]));\n    }\n    return arr;\n  }\n\n  /**\n   * Fastest way to clone a known object is to do it yourself\n   */\n  private _clonePad(pad: NavigatorGamepad): Gamepad {\n    let i, len;\n    const clonedPad = new Gamepad();\n\n    if (!pad) {\n      return clonedPad;\n    }\n\n    for (i = 0, len = pad.buttons.length; i < len; i++) {\n      if (pad.buttons[i]) {\n        clonedPad.updateButton(i, pad.buttons[i].value);\n      }\n    }\n    for (i = 0, len = pad.axes.length; i < len; i++) {\n      clonedPad.updateAxes(i, pad.axes[i]);\n    }\n\n    return clonedPad;\n  }\n}\n\n/**\n * Gamepad holds state information for a connected controller. See [[Gamepads]]\n * for more information on handling controller input.\n */\nexport class Gamepad extends Class {\n  public connected = false;\n  public navigatorGamepad: NavigatorGamepad;\n  private _buttons: number[] = new Array(16);\n  private _axes: number[] = new Array(4);\n\n  constructor() {\n    super();\n\n    for (let i = 0; i < this._buttons.length; i++) {\n      this._buttons[i] = 0;\n    }\n    for (let i = 0; i < this._axes.length; i++) {\n      this._axes[i] = 0;\n    }\n  }\n\n  /**\n   * Whether or not the given button is pressed\n   * @param button     The button to query\n   * @param threshold  The threshold over which the button is considered to be pressed\n   */\n  public isButtonPressed(button: Buttons, threshold: number = 1) {\n    return this._buttons[button] >= threshold;\n  }\n\n  /**\n   * Gets the given button value between 0 and 1\n   */\n  public getButton(button: Buttons) {\n    return this._buttons[button];\n  }\n\n  /**\n   * Gets the given axis value between -1 and 1. Values below\n   * [[MinAxisMoveThreshold]] are considered 0.\n   */\n  public getAxes(axes: Axes) {\n    const value = this._axes[axes];\n\n    if (Math.abs(value) < Gamepads.MinAxisMoveThreshold) {\n      return 0;\n    } else {\n      return value;\n    }\n  }\n\n  public updateButton(buttonIndex: number, value: number) {\n    this._buttons[buttonIndex] = value;\n  }\n\n  public updateAxes(axesIndex: number, value: number) {\n    this._axes[axesIndex] = value;\n  }\n}\n\n/**\n * Gamepad Buttons enumeration\n */\nexport enum Buttons {\n  /**\n   * Face 1 button (e.g. A)\n   */\n  Face1 = 0,\n  /**\n   * Face 2 button (e.g. B)\n   */\n  Face2 = 1,\n  /**\n   * Face 3 button (e.g. X)\n   */\n  Face3 = 2,\n  /**\n   * Face 4 button (e.g. Y)\n   */\n  Face4 = 3,\n  /**\n   * Left bumper button\n   */\n  LeftBumper = 4,\n  /**\n   * Right bumper button\n   */\n  RightBumper = 5,\n  /**\n   * Left trigger button\n   */\n  LeftTrigger = 6,\n  /**\n   * Right trigger button\n   */\n  RightTrigger = 7,\n  /**\n   * Select button\n   */\n  Select = 8,\n  /**\n   * Start button\n   */\n  Start = 9,\n  /**\n   * Left analog stick press (e.g. L3)\n   */\n  LeftStick = 10,\n  /**\n   * Right analog stick press (e.g. R3)\n   */\n  RightStick = 11,\n  /**\n   * D-pad up\n   */\n  DpadUp = 12,\n  /**\n   * D-pad down\n   */\n  DpadDown = 13,\n  /**\n   * D-pad left\n   */\n  DpadLeft = 14,\n  /**\n   * D-pad right\n   */\n  DpadRight = 15\n}\n\n/**\n * Gamepad Axes enumeration\n */\nexport enum Axes {\n  /**\n   * Left analogue stick X direction\n   */\n  LeftStickX = 0,\n  /**\n   * Left analogue stick Y direction\n   */\n  LeftStickY = 1,\n  /**\n   * Right analogue stick X direction\n   */\n  RightStickX = 2,\n  /**\n   * Right analogue stick Y direction\n   */\n  RightStickY = 3\n}\n\n/**\n * @internal\n */\nexport interface NavigatorGamepads {\n  getGamepads(): NavigatorGamepad[];\n}\n\n/**\n * @internal\n */\nexport interface NavigatorGamepad {\n  axes: number[];\n  buttons: NavigatorGamepadButton[];\n  connected: boolean;\n  id: string;\n  index: number;\n  mapping: string;\n  timestamp: number;\n}\n\n/**\n * @internal\n */\nexport interface NavigatorGamepadButton {\n  pressed: boolean;\n  value: number;\n}\n\n/**\n * @internal\n */\nexport interface NavigatorGamepadEvent {\n  gamepad: NavigatorGamepad;\n}\n\n/**\n * @internal\n */\nexport interface GamepadConfiguration {\n  axis: number;\n  buttons: number;\n}\n","import { Actor } from '../Actor';\nimport { Vector } from '../Algebra';\nimport { Class } from '../Class';\nimport * as Actors from '../Util/Actors';\nimport { removeItemFromArray } from '../Util/Util';\nimport { PointerMoveEvent, PointerDownEvent, PointerUpEvent, WheelEvent } from './PointerEvents';\n\nexport interface ActorsUnderPointer {\n  [ActorId: number]: Actor;\n  length: number;\n}\n\n/**\n * The type of pointer for a [[PointerEvent]].\n */\nexport enum PointerType {\n  Touch = 'Touch',\n  Mouse = 'Mouse',\n  Pen = 'Pen',\n  Unknown = 'Unknown'\n}\n\n/**\n * Determines the scope of handling mouse/touch events. See [[Pointers]] for more information.\n */\nexport enum PointerScope {\n  /**\n   * Handle events on the `canvas` element only. Events originating outside the\n   * `canvas` will not be handled.\n   */\n  Canvas = 'Canvas',\n\n  /**\n   * Handles events on the entire document. All events will be handled by Excalibur.\n   */\n  Document = 'Document'\n}\n\n/**\n * Captures and dispatches PointerEvents\n */\nexport class Pointer extends Class {\n  private static _MAX_ID = 0;\n  public readonly id = Pointer._MAX_ID++;\n  private _isDown: boolean = false;\n  private _wasDown: boolean = false;\n\n  private _actorsUnderPointer: ActorsUnderPointer = { length: 0 };\n\n  private _actors: Actor[] = [];\n  private _actorsLastFrame: Actor[] = [];\n  private _actorsNoLongerUnderPointer: Actor[] = [];\n\n  /**\n   * Whether the Pointer is currently dragging.\n   */\n  public get isDragging(): boolean {\n    return this._isDown;\n  }\n\n  /**\n   * Whether the Pointer just started dragging.\n   */\n  public get isDragStart(): boolean {\n    return !this._wasDown && this._isDown;\n  }\n\n  /**\n   * Whether the Pointer just ended dragging.\n   */\n  public get isDragEnd(): boolean {\n    return this._wasDown && !this._isDown;\n  }\n\n  /**\n   * Returns true if pointer has any actors under\n   */\n  public get hasActorsUnderPointer(): boolean {\n    return !!this._actorsUnderPointer.length;\n  }\n\n  /**\n   * The last position on the document this pointer was at. Can be `null` if pointer was never active.\n   */\n  public lastPagePos: Vector = null;\n\n  /**\n   * The last position on the screen this pointer was at. Can be `null` if pointer was never active.\n   */\n  public lastScreenPos: Vector = null;\n\n  /**\n   * The last position in the game world coordinates this pointer was at. Can be `null` if pointer was never active.\n   */\n  public lastWorldPos: Vector = null;\n\n  /**\n   * Returns the currently dragging target or null if it isn't exist\n   */\n  public dragTarget: Actor = null;\n\n  constructor() {\n    super();\n\n    this.on('move', this._onPointerMove);\n    this.on('down', this._onPointerDown);\n    this.on('up', this._onPointerUp);\n  }\n\n  on(event: 'move', handler: (event: PointerMoveEvent) => void): void;\n  on(event: 'down', handler: (event: PointerDownEvent) => void): void;\n  on(event: 'up', handler: (event: PointerUpEvent) => void): void;\n  on(event: 'wheel', handler: (event: WheelEvent) => void): void;\n  on(event: string, handler: (event: any) => void): void {\n    super.on(event, handler);\n  }\n\n  once(event: 'move', handler: (event: PointerMoveEvent) => void): void;\n  once(event: 'down', handler: (event: PointerDownEvent) => void): void;\n  once(event: 'up', handler: (event: PointerUpEvent) => void): void;\n  once(event: 'wheel', handler: (event: WheelEvent) => void): void;\n  once(event: string, handler: (event: any) => void): void {\n    super.once(event, handler);\n  }\n\n  off(event: 'move', handler?: (event: PointerMoveEvent) => void): void;\n  off(event: 'down', handler?: (event: PointerDownEvent) => void): void;\n  off(event: 'up', handler?: (event: PointerUpEvent) => void): void;\n  off(event: 'wheel', handler?: (event: WheelEvent) => void): void;\n  off(event: string, handler?: (event: any) => void): void {\n    super.off(event, handler);\n  }\n\n  /**\n   * Update the state of current pointer, meant to be called a the end of frame\n   */\n  public update(): void {\n    if (this._wasDown && !this._isDown) {\n      this._wasDown = false;\n    } else if (!this._wasDown && this._isDown) {\n      this._wasDown = true;\n    }\n    this._actorsLastFrame = [...this._actors];\n    this._actorsNoLongerUnderPointer = [];\n  }\n\n  /**\n   * Adds an Actor to actorsUnderPointer object.\n   * @param actor An Actor to be added;\n   */\n  public addActorUnderPointer(actor: Actor): void {\n    if (!this.isActorAliveUnderPointer(actor)) {\n      this._actorsUnderPointer[actor.id] = actor;\n      this._actorsUnderPointer.length += 1;\n      this._actors.push(actor);\n    }\n\n    // Actors under the pointer are sorted by z, ties are broken by id\n    this._actors.sort((a, b) => {\n      if (a.z === b.z) {\n        return a.id - b.id;\n      }\n      return a.z - b.z;\n    });\n  }\n\n  /**\n   * Removes an Actor from actorsUnderPointer object.\n   * @param actor An Actor to be removed;\n   */\n  public removeActorUnderPointer(actor: Actor): void {\n    if (this.isActorAliveUnderPointer(actor)) {\n      delete this._actorsUnderPointer[actor.id];\n      this._actorsUnderPointer.length -= 1;\n      removeItemFromArray(actor, this._actors);\n      this._actorsNoLongerUnderPointer.push(actor);\n    }\n  }\n\n  /**\n   * Returns all actors under this pointer this frame\n   */\n  public getActorsUnderPointer(): Actor[] {\n    return this._actors;\n  }\n\n  /**\n   * Returns all actors that are no longer under the pointer this frame\n   */\n  public getActorsUnderPointerLastFrame(): Actor[] {\n    return this._actorsLastFrame;\n  }\n\n  /**\n   * Returns all actors relevant for events to pointer this frame\n   */\n  public getActorsForEvents(): Actor[] {\n    return this._actors.concat(this._actorsLastFrame).filter((actor, i, self) => {\n      return self.indexOf(actor) === i;\n    });\n  }\n\n  /**\n   * Checks if Pointer location has a specific Actor bounds contained underneath.\n   * @param actor An Actor for check;\n   */\n  public checkActorUnderPointer(actor: Actor): boolean {\n    if (this.lastWorldPos) {\n      return actor.contains(this.lastWorldPos.x, this.lastWorldPos.y, !Actors.isScreenElement(actor));\n    }\n    return false;\n  }\n\n  /**\n   * Checks if an actor was under the pointer last frame\n   * @param actor\n   */\n  public wasActorUnderPointer(actor: Actor): boolean {\n    return this._actorsLastFrame.indexOf(actor) > -1; // || !!this._actorsUnderPointerLastFrame.hasOwnProperty(actor.id.toString());\n  }\n\n  /**\n   * Checks if Pointer has a specific Actor in ActorsUnderPointer list.\n   * @param actor An Actor for check;\n   */\n  public isActorAliveUnderPointer(actor: Actor): boolean {\n    return !!(!actor.isKilled() && actor.scene && this._actorsUnderPointer.hasOwnProperty(actor.id.toString()));\n  }\n\n  private _onPointerMove(ev: PointerMoveEvent): void {\n    this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n    this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n    this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n  }\n\n  private _onPointerDown(ev: PointerDownEvent): void {\n    this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n    this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n    this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n    this._isDown = true;\n  }\n\n  private _onPointerUp(_ev: PointerUpEvent): void {\n    this._isDown = false;\n    this.dragTarget = null;\n  }\n}\n","import { Actor } from '../Actor';\nimport { Vector, GlobalCoordinates } from '../Algebra';\nimport { Pointer, PointerType } from './Pointer';\nimport { GameEvent } from '../Events';\n\n/**\n * Native browser button enumeration\n */\nexport enum NativePointerButton {\n  NoButton = -1,\n  Left = 0,\n  Middle = 1,\n  Right = 2,\n  Unknown = 3\n}\n\n/**\n * The mouse button being pressed.\n */\nexport enum PointerButton {\n  Left = 'Left',\n  Middle = 'Middle',\n  Right = 'Right',\n  Unknown = 'Unknown',\n  NoButton = 'NoButton'\n}\n\nexport enum WheelDeltaMode {\n  Pixel = 'Pixel',\n  Line = 'Line',\n  Page = 'Page'\n}\n\n/**\n * Type that indicates Excalibur's valid synthetic pointer events\n */\nexport type PointerEventName =\n  | 'pointerdragstart'\n  | 'pointerdragend'\n  | 'pointerdragmove'\n  | 'pointerdragenter'\n  | 'pointerdragleave'\n  | 'pointermove'\n  | 'pointerenter'\n  | 'pointerleave'\n  | 'pointerup'\n  | 'pointerdown';\n\n/**\n * Pointer events\n *\n * Represents a mouse, touch, or stylus event. See [[Pointers]] for more information on\n * handling pointer input.\n *\n * For mouse-based events, you can inspect [[PointerEvent.button]] to see what button was pressed.\n */\nexport class PointerEvent extends GameEvent<Actor> {\n  protected _name: string;\n\n  public get name() {\n    return this._name;\n  }\n\n  /** The world coordinates of the event. */\n  public get worldPos(): Vector {\n    return this.coordinates.worldPos.clone();\n  }\n\n  /** The page coordinates of the event. */\n  public get pagePos(): Vector {\n    return this.coordinates.pagePos.clone();\n  }\n\n  /** The screen coordinates of the event. */\n  public get screenPos(): Vector {\n    return this.coordinates.screenPos.clone();\n  }\n\n  /**\n   * @param coordinates         The [[GlobalCoordinates]] of the event\n   * @param pointer             The [[Pointer]] of the event\n   * @param index               The index of the pointer (zero-based)\n   * @param pointerType         The type of pointer\n   * @param button              The button pressed (if [[PointerType.Mouse]])\n   * @param ev                  The raw DOM event being handled\n   */\n  constructor(\n    protected coordinates: GlobalCoordinates,\n    public pointer: Pointer,\n    public index: number,\n    public pointerType: PointerType,\n    public button: PointerButton,\n    public ev: any\n  ) {\n    super();\n  }\n\n  public get pos(): Vector {\n    return this.coordinates.worldPos.clone();\n  }\n\n  public propagate(actor: Actor): void {\n    this.doAction(actor);\n\n    if (this.bubbles && actor.parent) {\n      this.propagate(actor.parent as Actor); // TODO not true\n    }\n  }\n\n  /**\n   * Action, that calls when event happens\n   */\n  public doAction(actor: Actor): void {\n    if (actor) {\n      this._onActionStart(actor);\n      actor.emit(this._name, this);\n      this._onActionEnd(actor);\n    }\n  }\n\n  protected _onActionStart(_actor?: Actor) {\n    // to be rewritten\n  }\n\n  protected _onActionEnd(_actor?: Actor) {\n    // to be rewritten\n  }\n}\n\nexport class PointerEventFactory<T extends PointerEvent> {\n  constructor(\n    protected _pointerEventType: new (\n      coordinates: GlobalCoordinates,\n      pointer: Pointer,\n      index: number,\n      pointerType: PointerType,\n      button: PointerButton,\n      ev: any\n    ) => T\n  ) {}\n\n  /**\n   * Create specific PointerEvent\n   */\n  public create(\n    coordinates: GlobalCoordinates,\n    pointer: Pointer,\n    index: number,\n    pointerType: PointerType,\n    button: PointerButton,\n    ev: any\n  ): T {\n    return new this._pointerEventType(coordinates, pointer, index, pointerType, button, ev);\n  }\n}\n\nexport class PointerDragEvent extends PointerEvent {}\n\nexport class PointerUpEvent extends PointerEvent {\n  protected _name = 'pointerup';\n\n  protected _onActionEnd(actor: Actor) {\n    const pointer = this.pointer;\n\n    if (pointer.isDragEnd && actor.capturePointer.captureDragEvents) {\n      actor.eventDispatcher.emit('pointerdragend', this);\n    }\n  }\n}\n\nexport class PointerDownEvent extends PointerEvent {\n  protected _name = 'pointerdown';\n\n  protected _onActionEnd(actor: Actor) {\n    if (this.pointer.isDragStart && actor.capturePointer.captureDragEvents) {\n      actor.eventDispatcher.emit('pointerdragstart', this);\n    }\n  }\n}\n\nexport class PointerMoveEvent extends PointerEvent {\n  protected _name = 'pointermove';\n\n  public propagate(actor: Actor): void {\n    // If the actor was under the pointer last frame, but not this one it left\n    // if (this.pointer.wasActorUnderPointer(actor) && !this.pointer.isActorUnderPointer(actor)) {\n    //   this._onActorLeave(actor);\n    //   return;\n    // }\n\n    if (this.pointer.isActorAliveUnderPointer(actor)) {\n      this.doAction(actor);\n\n      if (this.bubbles && actor.parent) {\n        this.propagate(actor.parent as Actor); // TODO not true\n      }\n    }\n  }\n\n  protected _onActionStart(actor: Actor) {\n    if (!actor.capturePointer.captureMoveEvents) {\n      return;\n    }\n\n    // In the case this is new\n    // if (this.pointer.checkActorUnderPointer(actor) && !this.pointer.wasActorUnderPointer(actor)) {\n    //   this._onActorEnter(actor);\n    // }\n\n    if (this.pointer.isDragging && actor.capturePointer.captureDragEvents) {\n      actor.eventDispatcher.emit('pointerdragmove', this);\n    }\n  }\n\n  // private _onActorEnter(actor: Actor) {\n  //   const pe = createPointerEventByName('enter', this.coordinates, this.pointer, this.index, this.pointerType, this.button, this.ev);\n  //   pe.propagate(actor);\n  //   this.pointer.addActorUnderPointer(actor);\n\n  //   if (this.pointer.isDragging) {\n  //     this.pointer.dragTarget = actor;\n  //   }\n  // }\n\n  // private _onActorLeave(actor: Actor) {\n  //   const pe = createPointerEventByName('leave', this.coordinates, this.pointer, this.index, this.pointerType, this.button, this.ev);\n  //   pe.propagate(actor);\n  //   this.pointer.removeActorUnderPointer(actor);\n  // }\n}\n\nexport class PointerEnterEvent extends PointerEvent {\n  protected _name = 'pointerenter';\n\n  protected _onActionStart(actor: Actor) {\n    if (!actor.capturePointer.captureMoveEvents) {\n      return;\n    }\n  }\n\n  protected _onActionEnd(actor: Actor) {\n    const pointer = this.pointer;\n\n    if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\n      actor.eventDispatcher.emit('pointerdragenter', this);\n    }\n  }\n}\n\nexport class PointerLeaveEvent extends PointerEvent {\n  protected _name = 'pointerleave';\n\n  protected _onActionStart(actor: Actor) {\n    if (!actor.capturePointer.captureMoveEvents) {\n      return;\n    }\n  }\n\n  protected _onActionEnd(actor: Actor) {\n    const pointer = this.pointer;\n\n    if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\n      actor.eventDispatcher.emit('pointerdragleave', this);\n    }\n  }\n}\n\nexport class PointerCancelEvent extends PointerEvent {\n  protected _name = 'pointercancel';\n}\n/**\n * Wheel Events\n *\n * Represents a mouse wheel event. See [[Pointers]] for more information on\n * handling point input.\n */\nexport class WheelEvent extends GameEvent<Actor> {\n  /**\n   * @param x            The `x` coordinate of the event (in world coordinates)\n   * @param y            The `y` coordinate of the event (in world coordinates)\n   * @param pageX        The `x` coordinate of the event (in document coordinates)\n   * @param pageY        The `y` coordinate of the event (in document coordinates)\n   * @param screenX      The `x` coordinate of the event (in screen coordinates)\n   * @param screenY      The `y` coordinate of the event (in screen coordinates)\n   * @param index        The index of the pointer (zero-based)\n   * @param deltaX       The type of pointer\n   * @param deltaY       The type of pointer\n   * @param deltaZ       The type of pointer\n   * @param deltaMode    The type of movement [[WheelDeltaMode]]\n   * @param ev           The raw DOM event being handled\n   */\n  constructor(\n    public x: number,\n    public y: number,\n    public pageX: number,\n    public pageY: number,\n    public screenX: number,\n    public screenY: number,\n    public index: number,\n    public deltaX: number,\n    public deltaY: number,\n    public deltaZ: number,\n    public deltaMode: WheelDeltaMode,\n    public ev: any\n  ) {\n    super();\n  }\n}\n\n/**\n *\n */\nexport function createPointerEventByName(\n  eventName: string,\n  coordinates: GlobalCoordinates,\n  pointer: Pointer,\n  index: number,\n  pointerType: PointerType,\n  button: PointerButton,\n  ev: any\n) {\n  let factory: PointerEventFactory<PointerEvent>;\n\n  switch (eventName) {\n    case 'up':\n      factory = new PointerEventFactory(<any>PointerUpEvent);\n      break;\n    case 'down':\n      factory = new PointerEventFactory(<any>PointerDownEvent);\n      break;\n    case 'move':\n      factory = new PointerEventFactory(<any>PointerMoveEvent);\n      break;\n    case 'cancel':\n      factory = new PointerEventFactory(<any>PointerCancelEvent);\n      break;\n    case 'enter':\n      factory = new PointerEventFactory(<any>PointerEnterEvent);\n      break;\n    case 'leave':\n      factory = new PointerEventFactory(<any>PointerLeaveEvent);\n      break;\n  }\n\n  return factory.create(coordinates, pointer, index, pointerType, button, ev);\n}\n","import { Class } from '../Class';\nimport { Engine, ScrollPreventionMode } from '../Engine';\nimport { Pointer, PointerType } from './Pointer';\nimport {\n  PointerEvent,\n  WheelEvent,\n  NativePointerButton,\n  PointerButton,\n  WheelDeltaMode,\n  createPointerEventByName,\n  PointerLeaveEvent,\n  PointerEnterEvent\n} from './PointerEvents';\nimport { GameEvent } from '../Events';\n\nimport * as Events from '../Events';\nimport * as Util from '../Util/Util';\nimport { GlobalCoordinates, vec, Vector } from '../Algebra';\nimport { CapturePointer } from '../Traits/CapturePointer';\nimport { Actor } from '../Actor';\n\ninterface TouchEvent extends Event {\n  altKey: boolean;\n  changedTouches: Touch[];\n  ctrlKey: boolean;\n  metaKey: boolean;\n  shiftKey: boolean;\n  targetTouches: Touch[];\n  touches: Touch[];\n  type: string;\n  target: Element;\n}\n\ninterface Touch {\n  identifier: number;\n  screenX: number;\n  screenY: number;\n  clientX: number;\n  clientY: number;\n  pageX: number;\n  pageY: number;\n  radiusX: number;\n  radiusY: number;\n  rotationAngle: number;\n  force: number;\n  target: Element;\n}\n\n/**\n * A constant used to normalize wheel events across different browsers\n *\n * This normalization factor is pulled from https://developer.mozilla.org/en-US/docs/Web/Events/wheel#Listening_to_this_event_across_browser\n */\nconst ScrollWheelNormalizationFactor = -1 / 40;\n\n/**\n * Handles pointer events (mouse, touch, stylus, etc.) and normalizes to\n * [W3C Pointer Events](http://www.w3.org/TR/pointerevents/).\n */\nexport class Pointers extends Class {\n  private _engine: Engine;\n\n  private _pointerDown: PointerEvent[] = [];\n  private _pointerUp: PointerEvent[] = [];\n  private _pointerMove: PointerEvent[] = [];\n  private _pointerCancel: PointerEvent[] = [];\n  private _wheel: WheelEvent[] = [];\n  private _pointers: Pointer[] = [];\n  private _activePointers: number[] = [];\n\n  constructor(engine: Engine) {\n    super();\n\n    this._engine = engine;\n    this._pointers.push(new Pointer());\n    this._activePointers = [-1];\n    this.primary = this._pointers[0];\n  }\n\n  public on(eventName: Events.up, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.down, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.move, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.enter, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.leave, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.cancel, handler: (event: PointerEvent) => void): void;\n  public on(eventName: Events.wheel, handler: (event: WheelEvent) => void): void;\n  public on(eventName: string, handler: (event: GameEvent<any>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    super.on(eventName, handler);\n  }\n\n  /**\n   * Primary pointer (mouse, 1 finger, stylus, etc.)\n   */\n  public primary: Pointer;\n\n  /**\n   * Initializes pointer event listeners\n   */\n  public init(target?: GlobalEventHandlers): void {\n    target = target || this._engine.canvas;\n\n    // Touch Events\n    target.addEventListener('touchstart', this._handleTouchEvent('down', this._pointerDown));\n    target.addEventListener('touchend', this._handleTouchEvent('up', this._pointerUp));\n    target.addEventListener('touchmove', this._handleTouchEvent('move', this._pointerMove));\n    target.addEventListener('touchcancel', this._handleTouchEvent('cancel', this._pointerCancel));\n\n    // W3C Pointer Events\n    // Current: IE11, IE10\n    if ((<any>window).PointerEvent) {\n      // IE11\n      this._engine.canvas.style.touchAction = 'none';\n      target.addEventListener('pointerdown', this._handlePointerEvent('down', this._pointerDown));\n      target.addEventListener('pointerup', this._handlePointerEvent('up', this._pointerUp));\n      target.addEventListener('pointermove', this._handlePointerEvent('move', this._pointerMove));\n      target.addEventListener('pointercancel', this._handlePointerEvent('cancel', this._pointerCancel));\n    } else if ((<any>window).MSPointerEvent) {\n      // IE10\n      (this._engine.canvas.style as any).msTouchAction = 'none';\n      target.addEventListener('MSPointerDown', this._handlePointerEvent('down', this._pointerDown));\n      target.addEventListener('MSPointerUp', this._handlePointerEvent('up', this._pointerUp));\n      target.addEventListener('MSPointerMove', this._handlePointerEvent('move', this._pointerMove));\n      target.addEventListener('MSPointerCancel', this._handlePointerEvent('cancel', this._pointerCancel));\n    } else {\n      // Mouse Events\n      target.addEventListener('mousedown', this._handleMouseEvent('down', this._pointerDown));\n      target.addEventListener('mouseup', this._handleMouseEvent('up', this._pointerUp));\n      target.addEventListener('mousemove', this._handleMouseEvent('move', this._pointerMove));\n    }\n\n    // MDN MouseWheelEvent\n    const wheelOptions = {\n      passive: !(\n        this._engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n        this._engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas\n      )\n    };\n    if ('onwheel' in document.createElement('div')) {\n      // Modern Browsers\n      target.addEventListener('wheel', this._handleWheelEvent('wheel', this._wheel), wheelOptions);\n    } else if (document.onmousewheel !== undefined) {\n      // Webkit and IE\n      target.addEventListener('mousewheel', this._handleWheelEvent('wheel', this._wheel), wheelOptions);\n    } else {\n      // Remaining browser and older Firefox\n      target.addEventListener('MozMousePixelScroll', this._handleWheelEvent('wheel', this._wheel), wheelOptions);\n    }\n  }\n\n  /**\n   * Synthesize a pointer event that looks like a real browser event to excalibur\n   * @param eventName\n   * @param pos\n   */\n  public triggerEvent(\n    eventName: 'up' | 'down' | 'move' | 'cancel' | 'wheel',\n    pos: Vector | GlobalCoordinates,\n    button: NativePointerButton = NativePointerButton.Left,\n    pointerType: 'mouse' | 'touch' | 'pen' = 'mouse',\n    pointerId: number = 0\n  ): void {\n    let x = 0;\n    let y = 0;\n    let coords: GlobalCoordinates;\n    if (pos instanceof GlobalCoordinates) {\n      x = pos.pagePos.x;\n      y = pos.pagePos.y;\n      coords = pos;\n    } else {\n      x = pos.x;\n      y = pos.y;\n      coords = new GlobalCoordinates(pos.clone(), pos.clone(), pos.clone());\n    }\n\n    const eventish = {\n      pageX: x,\n      pageY: y,\n      pointerId: pointerId,\n      pointerType: pointerType,\n      button: button,\n      preventDefault: () => {\n        /* do nothing */\n      }\n    };\n\n    switch (eventName) {\n      case 'move':\n        this._handlePointerEvent(eventName, this._pointerMove, coords)(eventish as MSPointerEvent);\n        break;\n      case 'down':\n        this._handlePointerEvent(eventName, this._pointerDown, coords)(eventish as MSPointerEvent);\n        break;\n      case 'up':\n        this._handlePointerEvent(eventName, this._pointerUp, coords)(eventish as MSPointerEvent);\n        break;\n      case 'cancel':\n        this._handlePointerEvent(eventName, this._pointerCancel, coords)(eventish as MSPointerEvent);\n        break;\n    }\n    for (const actor of this._engine.currentScene.actors) {\n      const capturePointer = actor.traits.filter((t) => t instanceof CapturePointer)[0];\n      if (capturePointer) {\n        capturePointer.update(actor, this._engine, 1);\n      }\n    }\n    this.dispatchPointerEvents();\n    this.update();\n  }\n\n  /**\n   * Update all pointer events and pointers, meant to be called at the end of frame\n   */\n  public update(): void {\n    this._pointerUp.length = 0;\n    this._pointerDown.length = 0;\n    this._pointerMove.length = 0;\n    this._pointerCancel.length = 0;\n    this._wheel.length = 0;\n\n    for (let i = 0; i < this._pointers.length; i++) {\n      this._pointers[i].update();\n    }\n  }\n\n  /**\n   * Safely gets a Pointer at a specific index and initializes one if it doesn't yet exist\n   * @param index  The pointer index to retrieve\n   */\n  public at(index: number): Pointer {\n    if (index >= this._pointers.length) {\n      // Ensure there is a pointer to retrieve\n      for (let i = this._pointers.length - 1, max = index; i < max; i++) {\n        this._pointers.push(new Pointer());\n        this._activePointers.push(-1);\n      }\n    }\n\n    return this._pointers[index];\n  }\n\n  /**\n   * Get number of pointers being watched\n   */\n  public count(): number {\n    return this._pointers.length;\n  }\n\n  public checkAndUpdateActorUnderPointer(actor: Actor) {\n    for (const pointer of this._pointers) {\n      if (pointer.checkActorUnderPointer(actor)) {\n        pointer.addActorUnderPointer(actor);\n      } else {\n        pointer.removeActorUnderPointer(actor);\n      }\n    }\n  }\n\n  private _dispatchWithBubble(events: PointerEvent[]) {\n    for (const evt of events) {\n      for (const actor of evt.pointer.getActorsForEvents()) {\n        evt.propagate(actor);\n        if (!evt.bubbles) {\n          // if the event stops bubbling part way stop processing\n          break;\n        }\n      }\n    }\n  }\n\n  private _dispatchPointerLeaveEvents() {\n    const lastMoveEventPerPointerPerActor: { [pointerId: string]: PointerEvent } = {};\n    const pointerLeave: PointerLeaveEvent[] = [];\n\n    for (const evt of this._pointerMove) {\n      for (const actor of evt.pointer.getActorsForEvents()) {\n        // If the actor was under the pointer last frame, but not this this frame, pointer left\n        if (\n          !lastMoveEventPerPointerPerActor[evt.pointer.id + '+' + actor.id] &&\n          evt.pointer.wasActorUnderPointer(actor) &&\n          !evt.pointer.isActorAliveUnderPointer(actor)\n        ) {\n          lastMoveEventPerPointerPerActor[evt.pointer.id + '+' + actor.id] = evt;\n          const pe = createPointerEventByName(\n            'leave',\n            new GlobalCoordinates(evt.worldPos, evt.pagePos, evt.screenPos),\n            evt.pointer,\n            evt.index,\n            evt.pointerType,\n            evt.button,\n            evt.ev\n          );\n\n          pe.propagate(actor);\n          pointerLeave.push(<PointerLeaveEvent>pe);\n        }\n      }\n    }\n    return pointerLeave;\n  }\n\n  private _dispatchPointerEnterEvents() {\n    const lastMoveEventPerPointer: { [pointerId: number]: PointerEvent } = {};\n    const pointerEnter: PointerEnterEvent[] = [];\n\n    for (const evt of this._pointerMove) {\n      for (const actor of evt.pointer.getActorsForEvents()) {\n        // If the actor was not under the pointer last frame, but it is this frame, pointer entered\n        if (\n          !lastMoveEventPerPointer[evt.pointer.id] &&\n          !evt.pointer.wasActorUnderPointer(actor) &&\n          evt.pointer.isActorAliveUnderPointer(actor)\n        ) {\n          lastMoveEventPerPointer[evt.pointer.id] = evt;\n          const pe = createPointerEventByName(\n            'enter',\n            new GlobalCoordinates(evt.worldPos, evt.pagePos, evt.screenPos),\n            evt.pointer,\n            evt.index,\n            evt.pointerType,\n            evt.button,\n            evt.ev\n          );\n          pe.propagate(actor);\n          pointerEnter.push(<PointerEnterEvent>pe);\n          // if pointer is dragging set the drag target\n          if (evt.pointer.isDragging) {\n            evt.pointer.dragTarget = actor;\n          }\n        }\n      }\n    }\n    return pointerEnter;\n  }\n\n  public dispatchPointerEvents() {\n    this._dispatchWithBubble(this._pointerDown);\n    this._dispatchWithBubble(this._pointerUp);\n    this._dispatchWithBubble(this._pointerMove);\n    this._dispatchPointerLeaveEvents();\n    this._dispatchPointerEnterEvents();\n    this._dispatchWithBubble(this._pointerCancel);\n\n    // TODO some duplication here\n    for (const evt of this._wheel) {\n      for (const actor of this._pointers[evt.index].getActorsUnderPointer()) {\n        this._propagateWheelPointerEvent(actor, evt);\n        if (!evt.bubbles) {\n          // if the event stops bubbling part way stop processing\n          break;\n        }\n      }\n    }\n  }\n\n  private _propagateWheelPointerEvent(actor: Actor, wheelEvent: WheelEvent) {\n    actor.emit('pointerwheel', wheelEvent);\n\n    // Recurse and propagate\n    if (wheelEvent.bubbles && actor.parent) {\n      this._propagateWheelPointerEvent(actor.parent as Actor, wheelEvent); // TODO not true\n    }\n  }\n\n  private _handleMouseEvent(eventName: string, eventArr: PointerEvent[]) {\n    return (e: MouseEvent) => {\n      e.preventDefault();\n\n      const pointer = this.at(0);\n      const coordinates = GlobalCoordinates.fromPagePosition(e.pageX, e.pageY, this._engine);\n      const pe = createPointerEventByName(\n        eventName,\n        coordinates,\n        pointer,\n        0,\n        PointerType.Mouse,\n        this._nativeButtonToPointerButton(e.button),\n        e\n      );\n\n      eventArr.push(pe);\n      pointer.eventDispatcher.emit(eventName, pe);\n    };\n  }\n\n  private _handleTouchEvent(eventName: string, eventArr: PointerEvent[]) {\n    return (e: TouchEvent) => {\n      e.preventDefault();\n      for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n        const index = this._pointers.length > 1 ? this._getPointerIndex(e.changedTouches[i].identifier) : 0;\n        if (index === -1) {\n          continue;\n        }\n\n        const pointer = this.at(index);\n        const coordinates = GlobalCoordinates.fromPagePosition(e.changedTouches[i].pageX, e.changedTouches[i].pageY, this._engine);\n        const pe = createPointerEventByName(eventName, coordinates, pointer, index, PointerType.Touch, PointerButton.Unknown, e);\n\n        eventArr.push(pe);\n        pointer.eventDispatcher.emit(eventName, pe);\n        // only with multi-pointer\n        if (this._pointers.length > 1) {\n          if (eventName === 'up') {\n            // remove pointer ID from pool when pointer is lifted\n            this._activePointers[index] = -1;\n          } else if (eventName === 'down') {\n            // set pointer ID to given index\n            this._activePointers[index] = e.changedTouches[i].identifier;\n          }\n        }\n      }\n    };\n  }\n\n  private _handlePointerEvent(eventName: string, eventArr: PointerEvent[], coords?: GlobalCoordinates) {\n    return (e: MSPointerEvent) => {\n      e.preventDefault();\n\n      // get the index for this pointer ID if multi-pointer is asked for\n      const index = this._pointers.length > 1 ? this._getPointerIndex(e.pointerId) : 0;\n      if (index === -1) {\n        return;\n      }\n\n      const pointer = this.at(index);\n      const coordinates = coords || GlobalCoordinates.fromPagePosition(e.pageX, e.pageY, this._engine);\n      const pe = createPointerEventByName(\n        eventName,\n        coordinates,\n        pointer,\n        index,\n        this._stringToPointerType(e.pointerType),\n        this._nativeButtonToPointerButton(e.button),\n        e\n      );\n\n      eventArr.push(pe);\n      pointer.eventDispatcher.emit(eventName, pe);\n\n      // only with multi-pointer\n      if (this._pointers.length > 1) {\n        if (eventName === 'up') {\n          // remove pointer ID from pool when pointer is lifted\n          this._activePointers[index] = -1;\n        } else if (eventName === 'down') {\n          // set pointer ID to given index\n          this._activePointers[index] = e.pointerId;\n        }\n      }\n    };\n  }\n\n  private _handleWheelEvent(eventName: string, eventArr: WheelEvent[]) {\n    return (e: MouseWheelEvent) => {\n      // Should we prevent page scroll because of this event\n      if (\n        this._engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n        (this._engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas && e.target === this._engine.canvas)\n      ) {\n        e.preventDefault();\n      }\n      const screen = this._engine.screen.pageToScreenCoordinates(vec(e.pageX, e.pageY));\n      const world = this._engine.screen.screenToWorldCoordinates(screen);\n\n      // deltaX, deltaY, and deltaZ are the standard modern properties\n      // wheelDeltaX, wheelDeltaY, are legacy properties in webkit browsers and older IE\n      // e.detail is only used in opera\n\n      const deltaX = e.deltaX || e.wheelDeltaX * ScrollWheelNormalizationFactor || 0;\n      const deltaY =\n        e.deltaY || e.wheelDeltaY * ScrollWheelNormalizationFactor || e.wheelDelta * ScrollWheelNormalizationFactor || e.detail || 0;\n      const deltaZ = e.deltaZ || 0;\n      let deltaMode = WheelDeltaMode.Pixel;\n\n      if (e.deltaMode) {\n        if (e.deltaMode === 1) {\n          deltaMode = WheelDeltaMode.Line;\n        } else if (e.deltaMode === 2) {\n          deltaMode = WheelDeltaMode.Page;\n        }\n      }\n\n      const we = new WheelEvent(world.x, world.y, e.pageX, e.pageY, screen.x, screen.y, 0, deltaX, deltaY, deltaZ, deltaMode, e);\n\n      eventArr.push(we);\n      this.at(0).eventDispatcher.emit(eventName, we);\n    };\n  }\n\n  /**\n   * Gets the index of the pointer specified for the given pointer ID or finds the next empty pointer slot available.\n   * This is required because IE10/11 uses incrementing pointer IDs so we need to store a mapping of ID => idx\n   */\n  private _getPointerIndex(pointerId: number) {\n    let idx;\n    if ((idx = this._activePointers.indexOf(pointerId)) > -1) {\n      return idx;\n    }\n\n    for (let i = 0; i < this._activePointers.length; i++) {\n      if (this._activePointers[i] === -1) {\n        return i;\n      }\n    }\n\n    // ignore pointer because game isn't watching\n    return -1;\n  }\n\n  private _nativeButtonToPointerButton(s: NativePointerButton): PointerButton {\n    switch (s) {\n      case NativePointerButton.NoButton:\n        return PointerButton.NoButton;\n      case NativePointerButton.Left:\n        return PointerButton.Left;\n      case NativePointerButton.Middle:\n        return PointerButton.Middle;\n      case NativePointerButton.Right:\n        return PointerButton.Right;\n      case NativePointerButton.Unknown:\n        return PointerButton.Unknown;\n      default:\n        return Util.fail(s);\n    }\n  }\n\n  private _stringToPointerType(s: string) {\n    switch (s) {\n      case 'touch':\n        return PointerType.Touch;\n      case 'mouse':\n        return PointerType.Mouse;\n      case 'pen':\n        return PointerType.Pen;\n      default:\n        return PointerType.Unknown;\n    }\n  }\n}\n","import { Logger } from '../Util/Log';\nimport { Class } from '../Class';\nimport * as Events from '../Events';\n\n/**\n * Enum representing physical input key codes\n */\nexport enum Keys {\n  // NUMPAD\n  Num0 = 'Numpad0',\n  Num1 = 'Numpad1',\n  Num2 = 'Numpad2',\n  Num3 = 'Numpad3',\n  Num4 = 'Numpad4',\n  Num5 = 'Numpad5',\n  Num6 = 'Numpad6',\n  Num7 = 'Numpad7',\n  Num8 = 'Numpad8',\n  Num9 = 'Numpad9',\n  NumAdd = 'NumpadAdd',\n  NumSubtract = 'NumpadSubtract',\n  NumMultiply = 'NumpadMultiply',\n  NumDivide = 'NumpadDivide',\n  // NumComma = 'NumpadComma', // not x-browser\n  NumDecimal = 'NumpadDecimal',\n  Numpad0 = 'Numpad0',\n  Numpad1 = 'Numpad1',\n  Numpad2 = 'Numpad2',\n  Numpad3 = 'Numpad3',\n  Numpad4 = 'Numpad4',\n  Numpad5 = 'Numpad5',\n  Numpad6 = 'Numpad6',\n  Numpad7 = 'Numpad7',\n  Numpad8 = 'Numpad8',\n  Numpad9 = 'Numpad9',\n  NumpadAdd = 'NumpadAdd',\n  NumpadSubtract = 'NumpadSubtract',\n  NumpadMultiply = 'NumpadMultiply',\n  NumpadDivide = 'NumpadDivide',\n  // NumpadComma = 'NumpadComma', // not x-browser\n  NumpadDecimal = 'NumpadDecimal',\n\n  // MODIFIERS\n  NumLock = 'NumLock',\n  ShiftLeft = 'ShiftLeft',\n  ShiftRight = 'ShiftRight',\n  AltLeft = 'AltLeft',\n  AltRight = 'AltRight',\n\n  // NUMBERS\n  Key0 = 'Digit0',\n  Key1 = 'Digit1',\n  Key2 = 'Digit2',\n  Key3 = 'Digit3',\n  Key4 = 'Digit4',\n  Key5 = 'Digit5',\n  Key6 = 'Digit6',\n  Key7 = 'Digit7',\n  Key8 = 'Digit8',\n  Key9 = 'Digit9',\n  Digit0 = 'Digit0',\n  Digit1 = 'Digit1',\n  Digit2 = 'Digit2',\n  Digit3 = 'Digit3',\n  Digit4 = 'Digit4',\n  Digit5 = 'Digit5',\n  Digit6 = 'Digit6',\n  Digit7 = 'Digit7',\n  Digit8 = 'Digit8',\n  Digit9 = 'Digit9',\n\n  // LETTERS\n  A = 'KeyA',\n  B = 'KeyB',\n  C = 'KeyC',\n  D = 'KeyD',\n  E = 'KeyE',\n  F = 'KeyF',\n  G = 'KeyG',\n  H = 'KeyH',\n  I = 'KeyI',\n  J = 'KeyJ',\n  K = 'KeyK',\n  L = 'KeyL',\n  M = 'KeyM',\n  N = 'KeyN',\n  O = 'KeyO',\n  P = 'KeyP',\n  Q = 'KeyQ',\n  R = 'KeyR',\n  S = 'KeyS',\n  T = 'KeyT',\n  U = 'KeyU',\n  V = 'KeyV',\n  W = 'KeyW',\n  X = 'KeyX',\n  Y = 'KeyY',\n  Z = 'KeyZ',\n  KeyA = 'KeyA',\n  KeyB = 'KeyB',\n  KeyC = 'KeyC',\n  KeyD = 'KeyD',\n  KeyE = 'KeyE',\n  KeyF = 'KeyF',\n  KeyG = 'KeyG',\n  KeyH = 'KeyH',\n  KeyI = 'KeyI',\n  KeyJ = 'KeyJ',\n  KeyK = 'KeyK',\n  KeyL = 'KeyL',\n  KeyM = 'KeyM',\n  KeyN = 'KeyN',\n  KeyO = 'KeyO',\n  KeyP = 'KeyP',\n  KeyQ = 'KeyQ',\n  KeyR = 'KeyR',\n  KeyS = 'KeyS',\n  KeyT = 'KeyT',\n  KeyU = 'KeyU',\n  KeyV = 'KeyV',\n  KeyW = 'KeyW',\n  KeyX = 'KeyX',\n  KeyY = 'KeyY',\n  KeyZ = 'KeyZ',\n\n  // SYMBOLS\n  Semicolon = 'Semicolon',\n  Quote = 'Quote',\n  Comma = 'Comma',\n  Minus = 'Minus',\n  Period = 'Period',\n  Slash = 'Slash',\n  Equal = 'Equal',\n  BracketLeft = 'BracketLeft',\n  Backslash = 'Backslash',\n  BracketRight = 'BracketRight',\n  Backquote = 'Backquote',\n\n  // DIRECTIONS\n  Up = 'ArrowUp',\n  Down = 'ArrowDown',\n  Left = 'ArrowLeft',\n  Right = 'ArrowRight',\n  ArrowUp = 'ArrowUp',\n  ArrowDown = 'ArrowDown',\n  ArrowLeft = 'ArrowLeft',\n  ArrowRight = 'ArrowRight',\n\n  // OTHER\n  Space = 'Space',\n  Esc = 'Escape',\n  Escape = 'Escape'\n}\n\n/**\n * Event thrown on a game object for a key event\n */\nexport class KeyEvent extends Events.GameEvent<any> {\n  /**\n   * @param key  The key responsible for throwing the event\n   * @param value The key's typed value the browser detected\n   * @param originalEvent The original keyboard event that Excalibur handled\n   */\n  constructor(public key: Keys, public value?: string, public originalEvent?: KeyboardEvent) {\n    super();\n  }\n}\n\n/**\n * Provides keyboard support for Excalibur.\n */\nexport class Keyboard extends Class {\n  private _keys: Keys[] = [];\n  private _keysUp: Keys[] = [];\n  private _keysDown: Keys[] = [];\n\n  constructor() {\n    super();\n  }\n\n  public on(eventName: Events.press, handler: (event: KeyEvent) => void): void;\n  public on(eventName: Events.release, handler: (event: KeyEvent) => void): void;\n  public on(eventName: Events.hold, handler: (event: KeyEvent) => void): void;\n  public on(eventName: string, handler: (event: Events.GameEvent<any>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    super.on(eventName, handler);\n  }\n\n  /**\n   * Initialize Keyboard event listeners\n   */\n  init(global?: GlobalEventHandlers): void {\n    if (!global) {\n      try {\n        // Try and listen to events on top window frame if within an iframe.\n        //\n        // See https://github.com/excaliburjs/Excalibur/issues/1294\n        //\n        // Attempt to add an event listener, which triggers a DOMException on\n        // cross-origin iframes\n        const noop = () => {\n          return;\n        };\n        window.top.addEventListener('blur', noop);\n        window.top.removeEventListener('blur', noop);\n\n        // this will be the same as window if not embedded within an iframe\n        global = window.top;\n      } catch {\n        // fallback to current frame\n        global = window;\n\n        Logger.getInstance().warn(\n          'Failed to bind to keyboard events to top frame. ' +\n            'If you are trying to embed Excalibur in a cross-origin iframe, keyboard events will not fire.'\n        );\n      }\n    }\n\n    global.addEventListener('blur', () => {\n      this._keys.length = 0; // empties array efficiently\n    });\n\n    // key up is on window because canvas cannot have focus\n    global.addEventListener('keyup', (ev: KeyboardEvent) => {\n      const code = ev.code as Keys;\n      const key = this._keys.indexOf(code);\n      this._keys.splice(key, 1);\n      this._keysUp.push(code);\n      const keyEvent = new KeyEvent(code, ev.key, ev);\n\n      // alias the old api, we may want to deprecate this in the future\n      this.eventDispatcher.emit('up', keyEvent);\n      this.eventDispatcher.emit('release', keyEvent);\n    });\n\n    // key down is on window because canvas cannot have focus\n    global.addEventListener('keydown', (ev: KeyboardEvent) => {\n      const code = ev.code as Keys;\n      if (this._keys.indexOf(code) === -1) {\n        this._keys.push(code);\n        this._keysDown.push(code);\n        const keyEvent = new KeyEvent(code, ev.key, ev);\n        this.eventDispatcher.emit('down', keyEvent);\n        this.eventDispatcher.emit('press', keyEvent);\n      }\n    });\n  }\n\n  public update() {\n    // Reset keysDown and keysUp after update is complete\n    this._keysDown.length = 0;\n    this._keysUp.length = 0;\n\n    // Emit synthetic \"hold\" event\n    for (let i = 0; i < this._keys.length; i++) {\n      this.eventDispatcher.emit('hold', new KeyEvent(this._keys[i]));\n    }\n  }\n\n  /**\n   * Gets list of keys being pressed down\n   */\n  public getKeys(): Keys[] {\n    return this._keys;\n  }\n\n  /**\n   * Tests if a certain key was just pressed this frame. This is cleared at the end of the update frame.\n   * @param key Test whether a key was just pressed\n   */\n  public wasPressed(key: Keys): boolean {\n    return this._keysDown.indexOf(key) > -1;\n  }\n\n  /**\n   * Tests if a certain key is held down. This is persisted between frames.\n   * @param key  Test whether a key is held down\n   */\n  public isHeld(key: Keys): boolean {\n    return this._keys.indexOf(key) > -1;\n  }\n\n  /**\n   * Tests if a certain key was just released this frame. This is cleared at the end of the update frame.\n   * @param key  Test whether a key was just released\n   */\n  public wasReleased(key: Keys): boolean {\n    return this._keysUp.indexOf(key) > -1;\n  }\n}\n","/**\n * Provides support for mice, keyboards, and controllers.\n */\n\n/**\n * @typedoc\n */\nexport * from './Gamepad';\nexport * from './Pointer';\nexport * from './Pointers';\nexport * from './PointerEvents';\nexport * from './Keyboard';\nexport * from './EngineInput';\n","export interface NativeEventable {\n  addEventListener(name: string, handler: (...any: any[]) => any): any;\n  removeEventListener(name: string, handler: (...any: any[]) => any): any;\n}\n\nexport class BrowserComponent<T extends NativeEventable> {\n  private _paused = false;\n  private _nativeHandlers: { [key: string]: (handler: any) => void } = {};\n\n  on(eventName: string, handler: (evt: any) => void): void {\n    if (this._nativeHandlers[eventName]) {\n      this.off(eventName, this._nativeHandlers[eventName]);\n    }\n    this._nativeHandlers[eventName] = this._decorate(handler);\n    this.nativeComponent.addEventListener(eventName, this._nativeHandlers[eventName]);\n  }\n  off(eventName: string, handler?: (event: any) => void): void {\n    if (!handler) {\n      handler = this._nativeHandlers[eventName];\n    }\n    this.nativeComponent.removeEventListener(eventName, handler);\n    this._nativeHandlers[eventName] = null;\n  }\n\n  private _decorate(handler: (evt: any) => void): (evt: any) => void {\n    return (evt: any) => {\n      if (!this._paused) {\n        handler(evt);\n      }\n    };\n  }\n\n  public pause() {\n    this._paused = true;\n  }\n\n  public resume() {\n    this._paused = false;\n  }\n\n  public clear() {\n    for (const event in this._nativeHandlers) {\n      this.off(event);\n    }\n  }\n\n  constructor(public nativeComponent: T) {}\n}\n\nexport class BrowserEvents {\n  private _windowComponent: BrowserComponent<Window>;\n  private _documentComponent: BrowserComponent<Document>;\n  constructor(private _windowGlobal: Window, private _documentGlobal: Document) {\n    this._windowComponent = new BrowserComponent(this._windowGlobal);\n    this._documentComponent = new BrowserComponent(this._documentGlobal);\n  }\n\n  public get window(): BrowserComponent<Window> {\n    return this._windowComponent;\n  }\n\n  public get document(): BrowserComponent<Document> {\n    return this._documentComponent;\n  }\n\n  public pause() {\n    this.window.pause();\n    this.document.pause();\n  }\n\n  public resume() {\n    this.window.resume();\n    this.document.resume();\n  }\n\n  public clear() {\n    this.window.clear();\n    this.document.clear();\n  }\n}\n","import { EX_VERSION } from './';\nimport { Experiments, Flags } from './Flags';\nimport { polyfill } from './Polyfill';\npolyfill();\nimport { CanUpdate, CanDraw, CanInitialize } from './Interfaces/LifecycleEvents';\nimport { Loadable } from './Interfaces/Loadable';\nimport { Vector } from './Algebra';\nimport { Screen, DisplayMode, AbsolutePosition, ScreenDimension } from './Screen';\nimport { ScreenElement } from './ScreenElement';\nimport { Actor } from './Actor';\nimport { Timer } from './Timer';\nimport { TileMap } from './TileMap';\nimport { Animation } from './Drawing/Animation';\nimport { Loader } from './Loader';\nimport { Detector } from './Util/Detector';\nimport {\n  VisibleEvent,\n  HiddenEvent,\n  GameStartEvent,\n  GameStopEvent,\n  PreUpdateEvent,\n  PostUpdateEvent,\n  PreFrameEvent,\n  PostFrameEvent,\n  GameEvent,\n  DeactivateEvent,\n  ActivateEvent,\n  PreDrawEvent,\n  PostDrawEvent,\n  InitializeEvent\n} from './Events';\nimport { Logger, LogLevel } from './Util/Log';\nimport { Color } from './Drawing/Color';\nimport { Scene } from './Scene';\nimport { PostProcessor } from './PostProcessing/PostProcessor';\nimport { Debug, DebugStats } from './Debug';\nimport { Class } from './Class';\nimport * as Input from './Input/Index';\nimport * as Events from './Events';\nimport { BrowserEvents } from './Util/Browser';\nimport { obsolete } from './Util/Decorators';\nimport { ExcaliburGraphicsContext, ExcaliburGraphicsContext2DCanvas, ExcaliburGraphicsContextWebGL } from './Graphics';\n\n/**\n * Enum representing the different mousewheel event bubble prevention\n */\nexport enum ScrollPreventionMode {\n  /**\n   * Do not prevent any page scrolling\n   */\n  None,\n  /**\n   * Prevent page scroll if mouse is over the game canvas\n   */\n  Canvas,\n  /**\n   * Prevent all page scrolling via mouse wheel\n   */\n  All\n}\n\n/**\n * Defines the available options to configure the Excalibur engine at constructor time.\n */\nexport interface EngineOptions {\n  /**\n   * Optionally configure the width of the viewport in css pixels\n   */\n  width?: number;\n\n  /**\n   * Optionally configure the height of the viewport in css pixels\n   */\n  height?: number;\n\n  /**\n   * Optionally configure the width & height of the viewport in css pixels.\n   * Use `viewport` instead of [[EngineOptions.width]] and [[EngineOptions.height]], or vice versa.\n   */\n  viewport?: ScreenDimension;\n\n  /**\n   * Optionally specify the size the logical pixel resolution, if not specified it will be width x height.\n   * See [[Resolution]] for common presets.\n   */\n  resolution?: ScreenDimension;\n\n  /**\n   * Optionally specify antialiasing (smoothing), by default true (smooth pixels)\n   */\n  antialiasing?: boolean;\n\n  /**\n   * Optionally configure the native canvas transparent backdrop\n   */\n  enableCanvasTransparency?: boolean;\n\n  /**\n   * Optionally specify the target canvas DOM element to render the game in\n   */\n  canvasElementId?: string;\n\n  /**\n   * Optionally specify the target canvas DOM element directly\n   */\n  canvasElement?: HTMLCanvasElement;\n\n  /**\n   * Optionally snap drawings to nearest pixel\n   */\n  snapToPixel?: boolean\n\n  /**\n   * The [[DisplayMode]] of the game. Depending on this value, [[width]] and [[height]] may be ignored.\n   */\n  displayMode?: DisplayMode;\n\n  /**\n   * Configures the pointer scope. Pointers scoped to the 'Canvas' can only fire events within the canvas viewport; whereas, 'Document'\n   * (default) scoped will fire anywhere on the page.\n   */\n  pointerScope?: Input.PointerScope;\n\n  /**\n   * Suppress boot up console message, which contains the \"powered by Excalibur message\"\n   */\n  suppressConsoleBootMessage?: boolean;\n\n  /**\n   * Suppress minimum browser feature detection, it is not recommended users of excalibur switch this off. This feature ensures that\n   * the currently running browser meets the minimum requirements for running excalibur. This can be useful if running on non-standard\n   * browsers or if there is a bug in excalibur preventing execution.\n   */\n  suppressMinimumBrowserFeatureDetection?: boolean;\n\n  /**\n   * Suppress HiDPI auto detection and scaling, it is not recommended users of excalibur switch off this feature. This feature detects\n   * and scales the drawing canvas appropriately to accommodate HiDPI screens.\n   */\n  suppressHiDPIScaling?: boolean;\n\n  /**\n   * Suppress play button, it is not recommended users of excalibur switch this feature. Some browsers require a user gesture (like a click)\n   * for certain browser features to work like web audio.\n   */\n  suppressPlayButton?: boolean;\n\n  /**\n   * Specify how the game window is to be positioned when the [[DisplayMode.Position]] is chosen. This option MUST be specified\n   * if the DisplayMode is set as [[DisplayMode.Position]]. The position can be either a string or an [[AbsolutePosition]].\n   * String must be in the format of css style background-position. The vertical position must precede the horizontal position in strings.\n   *\n   * Valid String examples: \"top left\", \"top\", \"bottom\", \"middle\", \"middle center\", \"bottom right\"\n   * Valid [[AbsolutePosition]] examples: `{top: 5, right: 10%}`, `{bottom: 49em, left: 10px}`, `{left: 10, bottom: 40}`\n   */\n  position?: string | AbsolutePosition;\n\n  /**\n   * Scroll prevention method.\n   */\n  scrollPreventionMode?: ScrollPreventionMode;\n\n  /**\n   * Optionally set the background color\n   */\n  backgroundColor?: Color;\n}\n\n/**\n * The Excalibur Engine\n *\n * The [[Engine]] is the main driver for a game. It is responsible for\n * starting/stopping the game, maintaining state, transmitting events,\n * loading resources, and managing the scene.\n */\nexport class Engine extends Class implements CanInitialize, CanUpdate, CanDraw {\n  /**\n   *\n   */\n  public browser: BrowserEvents;\n\n  /**\n   * Screen abstraction\n   */\n  public screen: Screen;\n\n  /**\n   * Direct access to the engine's canvas element\n   */\n  public canvas: HTMLCanvasElement;\n\n  /**\n   * Direct access to the engine's 2D rendering context\n   */\n  public ctx: CanvasRenderingContext2D;\n\n  public graphicsContext: ExcaliburGraphicsContext;\n\n  /**\n   * Direct access to the canvas element ID, if an ID exists\n   */\n  public canvasElementId: string;\n\n  /**\n   * The width of the game canvas in pixels (physical width component of the\n   * resolution of the canvas element)\n   */\n  public get canvasWidth(): number {\n    return this.screen.canvasWidth;\n  }\n\n  /**\n   * Returns half width of the game canvas in pixels (half physical width component)\n   */\n  public get halfCanvasWidth(): number {\n    return this.screen.halfCanvasWidth;\n  }\n\n  /**\n   * The height of the game canvas in pixels, (physical height component of\n   * the resolution of the canvas element)\n   */\n  public get canvasHeight(): number {\n    return this.screen.canvasHeight;\n  }\n\n  /**\n   * Returns half height of the game canvas in pixels (half physical height component)\n   */\n  public get halfCanvasHeight(): number {\n    return this.screen.halfCanvasHeight;\n  }\n\n  /**\n   * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get drawWidth(): number {\n    return this.screen.drawWidth;\n  }\n\n  /**\n   * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get halfDrawWidth(): number {\n    return this.screen.halfDrawWidth;\n  }\n\n  /**\n   * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get drawHeight(): number {\n    return this.screen.drawHeight;\n  }\n\n  /**\n   * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n   */\n  public get halfDrawHeight(): number {\n    return this.screen.halfDrawHeight;\n  }\n\n  /**\n   * Returns whether excalibur detects the current screen to be HiDPI\n   */\n  public get isHiDpi(): boolean {\n    return this.screen.isHiDpi;\n  }\n\n  /**\n   * Access engine input like pointer, keyboard, or gamepad\n   */\n  public input: Input.EngineInput;\n\n  private _hasStarted: boolean = false;\n\n  /**\n   * Access Excalibur debugging functionality.\n   */\n  public debug: Debug;\n\n  /**\n   * Access [[stats]] that holds frame statistics.\n   */\n  public get stats(): DebugStats {\n    return this.debug.stats;\n  }\n\n  /**\n   * Gets or sets the list of post processors to apply at the end of drawing a frame (such as [[ColorBlindCorrector]])\n   */\n  public postProcessors: PostProcessor[] = [];\n\n  /**\n   * The current [[Scene]] being drawn and updated on screen\n   */\n  public currentScene: Scene;\n\n  /**\n   * The default [[Scene]] of the game, use [[Engine.goToScene]] to transition to different scenes.\n   */\n  public rootScene: Scene;\n\n  /**\n   * Contains all the scenes currently registered with Excalibur\n   */\n  public scenes: { [key: string]: Scene } = {};\n\n  private _animations: AnimationNode[] = [];\n\n  /**\n   * Indicates whether the engine is set to fullscreen or not\n   */\n  public get isFullscreen(): boolean {\n    return this.screen.isFullScreen;\n  }\n\n  /**\n   * Indicates the current [[DisplayMode]] of the engine.\n   */\n  public get displayMode(): DisplayMode {\n    return this.screen.displayMode;\n  }\n\n  private _suppressPlayButton: boolean = false;\n  /**\n   * Returns the calculated pixel ration for use in rendering\n   */\n  public get pixelRatio(): number {\n    return this.screen.pixelRatio;\n  }\n\n  /**\n   * Indicates the current position of the engine. Valid only when DisplayMode is DisplayMode.Position\n   */\n  public position: string | AbsolutePosition;\n  /**\n   * Indicates whether audio should be paused when the game is no longer visible.\n   */\n  public pauseAudioWhenHidden: boolean = true;\n\n  /**\n   * Indicates whether the engine should draw with debug information\n   */\n  private _isDebug: boolean = false;\n  public get isDebug(): boolean {\n    return this._isDebug;\n  }\n  public debugColor: Color = new Color(255, 255, 255);\n  /**\n   * Sets the background color for the engine.\n   */\n  public backgroundColor: Color;\n\n  /**\n   * Sets the Transparency for the engine.\n   */\n  public enableCanvasTransparency: boolean = true;\n\n  /**\n   * The action to take when a fatal exception is thrown\n   */\n  public onFatalException = (e: any) => {\n    Logger.getInstance().fatal(e);\n  };\n\n  /**\n   * The mouse wheel scroll prevention mode\n   */\n  public pageScrollPreventionMode: ScrollPreventionMode;\n\n  private _logger: Logger;\n\n  // this is a reference to the current requestAnimationFrame return value\n  private _requestId: number;\n\n  // this determines whether excalibur is compatible with your browser\n  private _compatible: boolean;\n\n  private _timescale: number = 1.0;\n\n  // loading\n  private _loader: Loader;\n  private _isLoading: boolean = false;\n\n  private _isInitialized: boolean = false;\n\n  public on(eventName: Events.initialize, handler: (event: Events.InitializeEvent<Engine>) => void): void;\n  public on(eventName: Events.visible, handler: (event: VisibleEvent) => void): void;\n  public on(eventName: Events.hidden, handler: (event: HiddenEvent) => void): void;\n  public on(eventName: Events.start, handler: (event: GameStartEvent) => void): void;\n  public on(eventName: Events.stop, handler: (event: GameStopEvent) => void): void;\n  public on(eventName: Events.preupdate, handler: (event: PreUpdateEvent<Engine>) => void): void;\n  public on(eventName: Events.postupdate, handler: (event: PostUpdateEvent<Engine>) => void): void;\n  public on(eventName: Events.preframe, handler: (event: PreFrameEvent) => void): void;\n  public on(eventName: Events.postframe, handler: (event: PostFrameEvent) => void): void;\n  public on(eventName: Events.predraw, handler: (event: PreDrawEvent) => void): void;\n  public on(eventName: Events.postdraw, handler: (event: PostDrawEvent) => void): void;\n  public on(eventName: string, handler: (event: GameEvent<any>) => void): void;\n  public on(eventName: string, handler: (event: any) => void): void {\n    super.on(eventName, handler);\n  }\n\n  public once(eventName: Events.initialize, handler: (event: Events.InitializeEvent<Engine>) => void): void;\n  public once(eventName: Events.visible, handler: (event: VisibleEvent) => void): void;\n  public once(eventName: Events.hidden, handler: (event: HiddenEvent) => void): void;\n  public once(eventName: Events.start, handler: (event: GameStartEvent) => void): void;\n  public once(eventName: Events.stop, handler: (event: GameStopEvent) => void): void;\n  public once(eventName: Events.preupdate, handler: (event: PreUpdateEvent<Engine>) => void): void;\n  public once(eventName: Events.postupdate, handler: (event: PostUpdateEvent<Engine>) => void): void;\n  public once(eventName: Events.preframe, handler: (event: PreFrameEvent) => void): void;\n  public once(eventName: Events.postframe, handler: (event: PostFrameEvent) => void): void;\n  public once(eventName: Events.predraw, handler: (event: PreDrawEvent) => void): void;\n  public once(eventName: Events.postdraw, handler: (event: PostDrawEvent) => void): void;\n  public once(eventName: string, handler: (event: GameEvent<any>) => void): void;\n  public once(eventName: string, handler: (event: any) => void): void {\n    super.once(eventName, handler);\n  }\n\n  public off(eventName: Events.initialize, handler?: (event: Events.InitializeEvent<Engine>) => void): void;\n  public off(eventName: Events.visible, handler?: (event: VisibleEvent) => void): void;\n  public off(eventName: Events.hidden, handler?: (event: HiddenEvent) => void): void;\n  public off(eventName: Events.start, handler?: (event: GameStartEvent) => void): void;\n  public off(eventName: Events.stop, handler?: (event: GameStopEvent) => void): void;\n  public off(eventName: Events.preupdate, handler?: (event: PreUpdateEvent<Engine>) => void): void;\n  public off(eventName: Events.postupdate, handler?: (event: PostUpdateEvent<Engine>) => void): void;\n  public off(eventName: Events.preframe, handler?: (event: PreFrameEvent) => void): void;\n  public off(eventName: Events.postframe, handler?: (event: PostFrameEvent) => void): void;\n  public off(eventName: Events.predraw, handler?: (event: PreDrawEvent) => void): void;\n  public off(eventName: Events.postdraw, handler?: (event: PostDrawEvent) => void): void;\n  public off(eventName: string, handler?: (event: GameEvent<any>) => void): void;\n  public off(eventName: string, handler?: (event: any) => void): void {\n    super.off(eventName, handler);\n  }\n\n  /**\n   * Default [[EngineOptions]]\n   */\n  private static _DEFAULT_ENGINE_OPTIONS: EngineOptions = {\n    width: 0,\n    height: 0,\n    enableCanvasTransparency: true,\n    canvasElementId: '',\n    canvasElement: undefined,\n    snapToPixel: false,\n    pointerScope: Input.PointerScope.Document,\n    suppressConsoleBootMessage: null,\n    suppressMinimumBrowserFeatureDetection: null,\n    suppressHiDPIScaling: null,\n    suppressPlayButton: null,\n    scrollPreventionMode: ScrollPreventionMode.Canvas,\n    backgroundColor: Color.fromHex('#2185d0') // Excalibur blue\n  };\n\n  /**\n   * Creates a new game using the given [[EngineOptions]]. By default, if no options are provided,\n   * the game will be rendered full screen (taking up all available browser window space).\n   * You can customize the game rendering through [[EngineOptions]].\n   *\n   * Example:\n   *\n   * ```js\n   * var game = new ex.Engine({\n   *   width: 0, // the width of the canvas\n   *   height: 0, // the height of the canvas\n   *   enableCanvasTransparency: true, // the transparencySection of the canvas\n   *   canvasElementId: '', // the DOM canvas element ID, if you are providing your own\n   *   displayMode: ex.DisplayMode.FullScreen, // the display mode\n   *   pointerScope: ex.Input.PointerScope.Document, // the scope of capturing pointer (mouse/touch) events\n   *   backgroundColor: ex.Color.fromHex('#2185d0') // background color of the engine\n   * });\n   *\n   * // call game.start, which is a Promise\n   * game.start().then(function () {\n   *   // ready, set, go!\n   * });\n   * ```\n   */\n  constructor(options?: EngineOptions) {\n    super();\n\n    options = { ...Engine._DEFAULT_ENGINE_OPTIONS, ...options };\n\n    Flags.freeze();\n\n    // Initialize browser events facade\n    this.browser = new BrowserEvents(window, document);\n\n    // Check compatibility\n    const detector = new Detector();\n    if (!options.suppressMinimumBrowserFeatureDetection && !(this._compatible = detector.test())) {\n      const message = document.createElement('div');\n      message.innerText = 'Sorry, your browser does not support all the features needed for Excalibur';\n      document.body.appendChild(message);\n\n      detector.failedTests.forEach(function (test) {\n        const testMessage = document.createElement('div');\n        testMessage.innerText = 'Browser feature missing ' + test;\n        document.body.appendChild(testMessage);\n      });\n\n      if (options.canvasElementId) {\n        const canvas = document.getElementById(options.canvasElementId);\n        if (canvas) {\n          canvas.parentElement.removeChild(canvas);\n        }\n      }\n\n      return;\n    } else {\n      this._compatible = true;\n    }\n\n    // Use native console API for color fun\n    // eslint-disable-next-line no-console\n    if (console.log && !options.suppressConsoleBootMessage) {\n      // eslint-disable-next-line no-console\n      console.log(\n        `%cPowered by Excalibur.js (v${EX_VERSION})`,\n        'background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;'\n      );\n      // eslint-disable-next-line no-console\n      console.log('\\n\\\n      /| ________________\\n\\\nO|===|* >________________>\\n\\\n      \\\\|');\n      // eslint-disable-next-line no-console\n      console.log('Visit', 'http://excaliburjs.com', 'for more information');\n    }\n\n    // Suppress play button\n    if (options.suppressPlayButton) {\n      this._suppressPlayButton = true;\n    }\n\n    this._logger = Logger.getInstance();\n\n    // If debug is enabled, let's log browser features to the console.\n    if (this._logger.defaultLevel === LogLevel.Debug) {\n      detector.logBrowserFeatures();\n    }\n\n    this._logger.debug('Building engine...');\n\n    this.canvasElementId = options.canvasElementId;\n\n    if (options.canvasElementId) {\n      this._logger.debug('Using Canvas element specified: ' + options.canvasElementId);\n      this.canvas = <HTMLCanvasElement>document.getElementById(options.canvasElementId);\n    } else if (options.canvasElement) {\n      this._logger.debug('Using Canvas element specified:', options.canvasElement);\n      this.canvas = options.canvasElement;\n    } else {\n      this._logger.debug('Using generated canvas element');\n      this.canvas = <HTMLCanvasElement>document.createElement('canvas');\n    }\n\n    let displayMode = options.displayMode ?? DisplayMode.Fixed;\n    if ((options.width && options.height) || options.viewport) {\n      if (options.displayMode === undefined) {\n        displayMode = DisplayMode.Fixed;\n      }\n      this._logger.debug('Engine viewport is size ' + options.width + ' x ' + options.height);\n    } else if (!options.displayMode) {\n      this._logger.debug('Engine viewport is fit');\n      displayMode = DisplayMode.Fit;\n    }\n\n    if (Flags.isEnabled(Experiments.WebGL)) {\n      const exWebglCtx = new ExcaliburGraphicsContextWebGL({\n        canvasElement: this.canvas,\n        enableTransparency: this.enableCanvasTransparency,\n        smoothing: options.antialiasing,\n        backgroundColor: options.backgroundColor,\n        snapToPixel: options.snapToPixel\n      });\n      this.graphicsContext = exWebglCtx;\n      this.ctx = exWebglCtx.__ctx;\n    } else {\n      const ex2dCtx = new ExcaliburGraphicsContext2DCanvas({\n        canvasElement: this.canvas,\n        enableTransparency: this.enableCanvasTransparency,\n        smoothing: options.antialiasing,\n        backgroundColor: options.backgroundColor,\n        snapToPixel: options.snapToPixel\n      });\n      this.graphicsContext = ex2dCtx;\n      this.ctx = ex2dCtx.__ctx;\n    }\n\n    this.screen = new Screen({\n      canvas: this.canvas,\n      context: this.graphicsContext,\n      antialiasing: options.antialiasing ?? true,\n      browser: this.browser,\n      viewport: options.viewport ?? { width: options.width, height: options.height },\n      resolution: options.resolution,\n      displayMode,\n      position: options.position,\n      pixelRatio: options.suppressHiDPIScaling ? 1 : null\n    });\n\n    this.screen.applyResolutionAndViewport();\n\n    if (options.backgroundColor) {\n      this.backgroundColor = options.backgroundColor.clone();\n    }\n\n    this.enableCanvasTransparency = options.enableCanvasTransparency;\n\n    this._loader = new Loader();\n    this.debug = new Debug(this);\n\n    this._initialize(options);\n\n    this.rootScene = this.currentScene = new Scene(this);\n\n    this.addScene('root', this.rootScene);\n    this.goToScene('root');\n  }\n\n  /**\n   * Returns a BoundingBox of the top left corner of the screen\n   * and the bottom right corner of the screen.\n   */\n  public getWorldBounds() {\n    return this.screen.getWorldBounds();\n  }\n\n  /**\n   * Gets the current engine timescale factor (default is 1.0 which is 1:1 time)\n   */\n  public get timescale() {\n    return this._timescale;\n  }\n\n  /**\n   * Sets the current engine timescale factor. Useful for creating slow-motion effects or fast-forward effects\n   * when using time-based movement.\n   */\n  public set timescale(value: number) {\n    if (value <= 0) {\n      Logger.getInstance().error('Cannot set engine.timescale to a value of 0 or less than 0.');\n      return;\n    }\n\n    this._timescale = value;\n  }\n\n  /**\n   * Plays a sprite animation on the screen at the specified `x` and `y`\n   * (in game coordinates, not screen pixels). These animations play\n   * independent of actors, and will be cleaned up internally as soon\n   * as they are complete. Note animations that loop will never be\n   * cleaned up.\n   *\n   * @param animation  Animation to play\n   * @param x          x game coordinate to play the animation\n   * @param y          y game coordinate to play the animation\n   * @deprecated\n   */\n  @obsolete({ message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use Actor.graphics' })\n  public playAnimation(animation: Animation, x: number, y: number) {\n    this._animations.push(new AnimationNode(animation, x, y));\n  }\n\n  /**\n   * Adds a [[TileMap]] to the [[currentScene]], once this is done the TileMap\n   * will be drawn and updated.\n   */\n  public addTileMap(tileMap: TileMap) {\n    this.currentScene.addTileMap(tileMap);\n  }\n\n  /**\n   * Removes a [[TileMap]] from the [[currentScene]], it will no longer be drawn or updated.\n   */\n  public removeTileMap(tileMap: TileMap) {\n    this.currentScene.removeTileMap(tileMap);\n  }\n\n  /**\n   * Adds a [[Timer]] to the [[currentScene]].\n   * @param timer  The timer to add to the [[currentScene]].\n   */\n  public addTimer(timer: Timer): Timer {\n    return this.currentScene.addTimer(timer);\n  }\n\n  /**\n   * Removes a [[Timer]] from the [[currentScene]].\n   * @param timer  The timer to remove to the [[currentScene]].\n   */\n  public removeTimer(timer: Timer): Timer {\n    return this.currentScene.removeTimer(timer);\n  }\n\n  /**\n   * Adds a [[Scene]] to the engine, think of scenes in Excalibur as you\n   * would levels or menus.\n   *\n   * @param key  The name of the scene, must be unique\n   * @param scene The scene to add to the engine\n   */\n  public addScene(key: string, scene: Scene) {\n    if (this.scenes[key]) {\n      this._logger.warn('Scene', key, 'already exists overwriting');\n    }\n    this.scenes[key] = scene;\n  }\n\n  /**\n   * Removes a [[Scene]] instance from the engine\n   * @param scene  The scene to remove\n   */\n  public removeScene(scene: Scene): void;\n  /**\n   * Removes a scene from the engine by key\n   * @param key  The scene key to remove\n   */\n  public removeScene(key: string): void;\n  /**\n   * @internal\n   */\n  public removeScene(entity: any): void {\n    if (entity instanceof Scene) {\n      // remove scene\n      for (const key in this.scenes) {\n        if (this.scenes.hasOwnProperty(key)) {\n          if (this.scenes[key] === entity) {\n            delete this.scenes[key];\n          }\n        }\n      }\n    }\n\n    if (typeof entity === 'string') {\n      // remove scene\n      delete this.scenes[entity];\n    }\n  }\n\n  /**\n   * Adds a [[Scene]] to the engine, think of scenes in Excalibur as you\n   * would levels or menus.\n   * @param sceneKey  The key of the scene, must be unique\n   * @param scene     The scene to add to the engine\n   */\n  public add(sceneKey: string, scene: Scene): void;\n  /**\n   * Adds a [[Timer]] to the [[currentScene]].\n   * @param timer  The timer to add to the [[currentScene]].\n   */\n  public add(timer: Timer): void;\n  /**\n   * Adds a [[TileMap]] to the [[currentScene]], once this is done the TileMap\n   * will be drawn and updated.\n   */\n  public add(tileMap: TileMap): void;\n  /**\n   * Adds an actor to the [[currentScene]] of the game. This is synonymous\n   * to calling `engine.currentScene.add(actor)`.\n   *\n   * Actors can only be drawn if they are a member of a scene, and only\n   * the [[currentScene]] may be drawn or updated.\n   *\n   * @param actor  The actor to add to the [[currentScene]]\n   */\n  public add(actor: Actor): void;\n\n  /**\n   * Adds a [[ScreenElement]] to the [[currentScene]] of the game,\n   * ScreenElements do not participate in collisions, instead the\n   * remain in the same place on the screen.\n   * @param screenElement  The ScreenElement to add to the [[currentScene]]\n   */\n  public add(screenElement: ScreenElement): void;\n  public add(entity: any): void {\n    if (arguments.length === 2) {\n      this.addScene(<string>arguments[0], <Scene>arguments[1]);\n    }\n    this.currentScene.add(entity);\n  }\n\n  /**\n   * Removes a scene instance from the engine\n   * @param scene  The scene to remove\n   */\n  public remove(scene: Scene): void;\n  /**\n   * Removes a scene from the engine by key\n   * @param sceneKey  The scene to remove\n   */\n  public remove(sceneKey: string): void;\n  /**\n   * Removes a [[Timer]] from the [[currentScene]].\n   * @param timer  The timer to remove to the [[currentScene]].\n   */\n  public remove(timer: Timer): void;\n  /**\n   * Removes a [[TileMap]] from the [[currentScene]], it will no longer be drawn or updated.\n   */\n  public remove(tileMap: TileMap): void;\n  /**\n   * Removes an actor from the [[currentScene]] of the game. This is synonymous\n   * to calling `engine.currentScene.removeChild(actor)`.\n   * Actors that are removed from a scene will no longer be drawn or updated.\n   *\n   * @param actor  The actor to remove from the [[currentScene]].\n   */\n  public remove(actor: Actor): void;\n  /**\n   * Removes a [[ScreenElement]] to the scene, it will no longer be drawn or updated\n   * @param screenElement  The ScreenElement to remove from the [[currentScene]]\n   */\n  public remove(screenElement: ScreenElement): void;\n  public remove(entity: any): void {\n    if (entity instanceof Actor) {\n      this.currentScene.remove(entity);\n    }\n\n    if (entity instanceof Scene) {\n      this.removeScene(entity);\n    }\n\n    if (typeof entity === 'string') {\n      this.removeScene(entity);\n    }\n  }\n\n  /**\n   * Changes the currently updating and drawing scene to a different,\n   * named scene. Calls the [[Scene]] lifecycle events.\n   * @param key  The key of the scene to transition to.\n   */\n  public goToScene(key: string) {\n    if (this.scenes[key]) {\n      const oldScene = this.currentScene;\n      const newScene = this.scenes[key];\n\n      this._logger.debug('Going to scene:', key);\n\n      // only deactivate when initialized\n      if (this.currentScene.isInitialized) {\n        this.currentScene._deactivate.call(this.currentScene, [oldScene, newScene]);\n        this.currentScene.eventDispatcher.emit('deactivate', new DeactivateEvent(newScene, this.currentScene));\n      }\n\n      // set current scene to new one\n      this.currentScene = newScene;\n      this.screen.setCurrentCamera(newScene.camera);\n\n      // initialize the current scene if has not been already\n      this.currentScene._initialize(this);\n\n      this.currentScene._activate.call(this.currentScene, [oldScene, newScene]);\n      this.currentScene.eventDispatcher.emit('activate', new ActivateEvent(oldScene, this.currentScene));\n    } else {\n      this._logger.error('Scene', key, 'does not exist!');\n    }\n  }\n\n  /**\n   * Transforms the current x, y from screen coordinates to world coordinates\n   * @param point  Screen coordinate to convert\n   */\n  public screenToWorldCoordinates(point: Vector): Vector {\n    return this.screen.screenToWorldCoordinates(point);\n  }\n\n  /**\n   * Transforms a world coordinate, to a screen coordinate\n   * @param point  World coordinate to convert\n   */\n  public worldToScreenCoordinates(point: Vector): Vector {\n    return this.screen.worldToScreenCoordinates(point);\n  }\n\n  /**\n   * Initializes the internal canvas, rendering context, display mode, and native event listeners\n   */\n  private _initialize(options?: EngineOptions) {\n    this.pageScrollPreventionMode = options.scrollPreventionMode;\n\n    // initialize inputs\n    this.input = {\n      keyboard: new Input.Keyboard(),\n      pointers: new Input.Pointers(this),\n      gamepads: new Input.Gamepads()\n    };\n    this.input.keyboard.init();\n    this.input.pointers.init(options && options.pointerScope === Input.PointerScope.Document ? document : this.canvas);\n    this.input.gamepads.init();\n\n    // Issue #385 make use of the visibility api\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API\n\n    let hidden: keyof HTMLDocument, visibilityChange: string;\n    if (typeof document.hidden !== 'undefined') {\n      // Opera 12.10 and Firefox 18 and later support\n      hidden = 'hidden';\n      visibilityChange = 'visibilitychange';\n    } else if ('msHidden' in document) {\n      hidden = <keyof HTMLDocument>'msHidden';\n      visibilityChange = 'msvisibilitychange';\n    } else if ('webkitHidden' in document) {\n      hidden = <keyof HTMLDocument>'webkitHidden';\n      visibilityChange = 'webkitvisibilitychange';\n    }\n\n    this.browser.document.on(visibilityChange, () => {\n      if (document[hidden]) {\n        this.eventDispatcher.emit('hidden', new HiddenEvent(this));\n        this._logger.debug('Window hidden');\n      } else {\n        this.eventDispatcher.emit('visible', new VisibleEvent(this));\n        this._logger.debug('Window visible');\n      }\n    });\n\n    if (!this.canvasElementId && !options.canvasElement) {\n      document.body.appendChild(this.canvas);\n    }\n  }\n\n  public onInitialize(_engine: Engine) {\n    // Override me\n  }\n\n  /**\n   * If supported by the browser, this will set the antialiasing flag on the\n   * canvas. Set this to `false` if you want a 'jagged' pixel art look to your\n   * image resources.\n   * @param isSmooth  Set smoothing to true or false\n   */\n  public setAntialiasing(isSmooth: boolean) {\n    this.screen.antialiasing = isSmooth;\n  }\n\n  /**\n   * Return the current smoothing status of the canvas\n   */\n  public getAntialiasing(): boolean {\n    return this.screen.antialiasing;\n  }\n\n  /**\n   * Gets whether the actor is Initialized\n   */\n  public get isInitialized(): boolean {\n    return this._isInitialized;\n  }\n\n  private _overrideInitialize(engine: Engine) {\n    if (!this.isInitialized) {\n      this.onInitialize(engine);\n      super.emit('initialize', new InitializeEvent(engine, this));\n      this._isInitialized = true;\n    }\n  }\n\n  /**\n   * Updates the entire state of the game\n   * @param delta  Number of milliseconds elapsed since the last update.\n   */\n  private _update(delta: number) {\n    if (this._isLoading) {\n      // suspend updates until loading is finished\n      this._loader.update(this, delta);\n      // Update input listeners\n      this.input.keyboard.update();\n      this.input.pointers.update();\n      this.input.gamepads.update();\n      return;\n    }\n    this._overrideInitialize(this);\n    // Publish preupdate events\n    this._preupdate(delta);\n\n    // process engine level events\n    this.currentScene.update(this, delta);\n\n    // update animations\n    // TODO remove\n    this._animations = this._animations.filter(function (a) {\n      return !a.animation.isDone();\n    });\n\n    // Update input listeners\n    this.input.keyboard.update();\n    this.input.pointers.update();\n    this.input.gamepads.update();\n\n    // Publish update event\n    this._postupdate(delta);\n  }\n\n  /**\n   * @internal\n   */\n  public _preupdate(delta: number) {\n    this.emit('preupdate', new PreUpdateEvent(this, delta, this));\n    this.onPreUpdate(this, delta);\n  }\n\n  public onPreUpdate(_engine: Engine, _delta: number) {\n    // Override me\n  }\n\n  /**\n   * @internal\n   */\n  public _postupdate(delta: number) {\n    this.emit('postupdate', new PostUpdateEvent(this, delta, this));\n    this.onPostUpdate(this, delta);\n  }\n\n  public onPostUpdate(_engine: Engine, _delta: number) {\n    // Override me\n  }\n\n  /**\n   * Draws the entire game\n   * @param delta  Number of milliseconds elapsed since the last draw.\n   */\n  private _draw(delta: number) {\n    const ctx = this.ctx;\n    this._predraw(ctx, delta);\n\n    if (this._isLoading) {\n      this._loader.canvas.draw(this.graphicsContext, 0, 0);\n      this.graphicsContext.flush();\n      // Drawing nothing else while loading\n      return;\n    }\n\n    // TODO move to graphics systems?\n    this.graphicsContext.backgroundColor = this.backgroundColor;\n\n    this.currentScene.draw(this.ctx, delta);\n\n    // todo needs to be a better way of doing this\n    let a = 0;\n    const len = this._animations.length;\n    for (a; a < len; a++) {\n      this._animations[a].animation.draw(ctx, this._animations[a].x, this._animations[a].y);\n    }\n\n    // Draw debug information\n    // TODO don't access ctx directly\n    if (this.isDebug) {\n      this.ctx.font = 'Consolas';\n      this.ctx.fillStyle = this.debugColor.toString();\n      const keys = this.input.keyboard.getKeys();\n      for (let j = 0; j < keys.length; j++) {\n        this.ctx.fillText(keys[j].toString() + ' : ' + (Input.Keys[keys[j]] ? Input.Keys[keys[j]] : 'Not Mapped'), 100, 10 * j + 10);\n      }\n\n      this.ctx.fillText('FPS:' + this.stats.currFrame.fps.toFixed(2).toString(), 10, 10);\n    }\n\n    // Post processing\n    for (let i = 0; i < this.postProcessors.length; i++) {\n      this.postProcessors[i].process(this.ctx.getImageData(0, 0, this.canvasWidth, this.canvasHeight), this.ctx);\n    }\n\n    this._postdraw(ctx, delta);\n  }\n\n  /**\n   * @internal\n   */\n  public _predraw(_ctx: CanvasRenderingContext2D, delta: number) {\n    this.emit('predraw', new PreDrawEvent(_ctx, delta, this));\n    this.onPreDraw(_ctx, delta);\n  }\n\n  public onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number) {\n    // Override me\n  }\n\n  /**\n   * @internal\n   */\n  public _postdraw(_ctx: CanvasRenderingContext2D, delta: number) {\n    this.emit('postdraw', new PostDrawEvent(_ctx, delta, this));\n    this.onPostDraw(_ctx, delta);\n  }\n\n  public onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number) {\n    // Override me\n  }\n\n  /**\n   * Enable or disable Excalibur debugging functionality.\n   * @param toggle a value that debug drawing will be changed to\n   */\n  public showDebug(toggle: boolean): void {\n    this._isDebug = toggle;\n  }\n\n  /**\n   * Toggle Excalibur debugging functionality.\n   */\n  public toggleDebug(): boolean {\n    this._isDebug = !this._isDebug;\n    return this._isDebug;\n  }\n\n  /**\n   * Starts the internal game loop for Excalibur after loading\n   * any provided assets.\n   * @param loader  Optional [[Loader]] to use to load resources. The default loader is [[Loader]], override to provide your own\n   * custom loader.\n   */\n  public start(loader?: Loader): Promise<any> {\n    if (!this._compatible) {\n      return Promise.reject('Excalibur is incompatible with your browser');\n    }\n    this.screen.pushResolutionAndViewport();\n    this.screen.resolution = this.screen.viewport;\n    this.screen.applyResolutionAndViewport();\n    this.graphicsContext.updateViewport();\n    let loadingComplete: Promise<any>;\n    if (loader) {\n      this._loader = loader;\n      this._loader.suppressPlayButton = this._suppressPlayButton || this._loader.suppressPlayButton;\n      this._loader.wireEngine(this);\n      loadingComplete = this.load(this._loader);\n    } else {\n      loadingComplete = Promise.resolve();\n    }\n\n    loadingComplete.then(() => {\n      this.screen.popResolutionAndViewport();\n      this.screen.applyResolutionAndViewport();\n      this.graphicsContext.updateViewport();\n      this.emit('start', new GameStartEvent(this));\n    });\n\n    if (!this._hasStarted) {\n      this._hasStarted = true;\n      this._logger.debug('Starting game...');\n      this.browser.resume();\n      Engine.createMainLoop(this, window.requestAnimationFrame, Date.now)();\n\n      this._logger.debug('Game started');\n    } else {\n      // Game already started;\n    }\n    return loadingComplete;\n  }\n\n  public static createMainLoop(game: Engine, raf: (func: Function) => number, nowFn: () => number) {\n    let lastTime = nowFn();\n\n    return function mainloop() {\n      if (!game._hasStarted) {\n        return;\n      }\n      try {\n        game._requestId = raf(mainloop);\n        game.emit('preframe', new PreFrameEvent(game, game.stats.prevFrame));\n\n        // Get the time to calculate time-elapsed\n        const now = nowFn();\n        let elapsed = Math.floor(now - lastTime) || 1;\n        // Resolves issue #138 if the game has been paused, or blurred for\n        // more than a 200 milliseconds, reset elapsed time to 1. This improves reliability\n        // and provides more expected behavior when the engine comes back\n        // into focus\n        if (elapsed > 200) {\n          elapsed = 1;\n        }\n        const delta = elapsed * game.timescale;\n\n        // reset frame stats (reuse existing instances)\n        const frameId = game.stats.prevFrame.id + 1;\n        game.stats.currFrame.reset();\n        game.stats.currFrame.id = frameId;\n        game.stats.currFrame.delta = delta;\n        game.stats.currFrame.fps = 1.0 / (delta / 1000);\n\n        const beforeUpdate = nowFn();\n        game._update(delta);\n        const afterUpdate = nowFn();\n        game._draw(delta);\n        const afterDraw = nowFn();\n\n        game.stats.currFrame.duration.update = afterUpdate - beforeUpdate;\n        game.stats.currFrame.duration.draw = afterDraw - afterUpdate;\n\n        lastTime = now;\n\n        game.emit('postframe', new PostFrameEvent(game, game.stats.currFrame));\n        game.stats.prevFrame.reset(game.stats.currFrame);\n      } catch (e) {\n        window.cancelAnimationFrame(game._requestId);\n        game.stop();\n        game.onFatalException(e);\n      }\n    };\n  }\n\n  /**\n   * Stops Excalibur's main loop, useful for pausing the game.\n   */\n  public stop() {\n    if (this._hasStarted) {\n      this.emit('stop', new GameStopEvent(this));\n      this.browser.pause();\n      this._hasStarted = false;\n      this._logger.debug('Game stopped');\n    }\n  }\n\n  /**\n   * Returns the Engine's Running status, Useful for checking whether engine is running or paused.\n   */\n  public isPaused(): boolean {\n    return !this._hasStarted;\n  }\n\n  /**\n   * Takes a screen shot of the current viewport and returns it as an\n   * HTML Image Element.\n   */\n  public screenshot(): HTMLImageElement {\n    const result = new Image();\n    const raw = this.canvas.toDataURL('image/png');\n    result.src = raw;\n    return result;\n  }\n\n  /**\n   * Another option available to you to load resources into the game.\n   * Immediately after calling this the game will pause and the loading screen\n   * will appear.\n   * @param loader  Some [[Loadable]] such as a [[Loader]] collection, [[Sound]], or [[Texture]].\n   */\n  public load(loader: Loadable<any>): Promise<void> {\n    const complete = new Promise<void>((resolve) => {\n      this._isLoading = true;\n\n      loader.load().then(() => {\n        if (this._suppressPlayButton) {\n          setTimeout(() => {\n            this._isLoading = false;\n            resolve();\n            // Delay is to give the logo a chance to show, otherwise don't delay\n          }, 500);\n        } else {\n          this._isLoading = false;\n          resolve();\n        }\n      });\n    });\n\n    return complete;\n  }\n}\n\n/**\n * @internal\n * @deprecated\n */\n@obsolete({ message: 'Will be removed in excalibur v0.26.0' })\nclass AnimationNode {\n  constructor(public animation: Animation, public x: number, public y: number) {}\n}\n","import { GameEvent } from '../Events';\nimport { Sound } from '../Resources/Sound/Sound';\nimport { Actor } from '../Actor';\nimport { WebAudioInstance } from '../Resources/Sound/WebAudioInstance';\n\nexport class MediaEvent extends GameEvent<Sound> {\n  /**\n   * Media event cannot bubble\n   */\n  public set bubbles(_value: boolean) {\n    // stubbed\n  }\n  /**\n   * Media event cannot bubble\n   */\n  public get bubbles(): boolean {\n    return false;\n  }\n  /**\n   * Media event cannot bubble, so they have no path\n   */\n  protected get _path(): Actor[] {\n    return null;\n  }\n  /**\n   * Media event cannot bubble, so they have no path\n   */\n  protected set _path(_val: Actor[]) {\n    // stubbed\n  }\n\n  constructor(public target: Sound, protected _name: string = 'MediaEvent') {\n    super();\n  }\n\n  /**\n   * Prevents event from bubbling\n   */\n  public stopPropagation(): void {\n    /**\n     * Stub\n     */\n  }\n  /**\n   * Action, that calls when event happens\n   */\n  public action(): void {\n    /**\n     * Stub\n     */\n  }\n  /**\n   * Propagate event further through event path\n   */\n  public propagate(): void {\n    /**\n     * Stub\n     */\n  }\n\n  public layPath(_actor: Actor): void {\n    /**\n     * Stub\n     */\n  }\n}\n\nexport class NativeSoundEvent extends MediaEvent {\n  constructor(target: Sound, public track?: WebAudioInstance) {\n    super(target, 'NativeSoundEvent');\n  }\n}\n\nexport class NativeSoundProcessedEvent extends MediaEvent {\n  public data: string | AudioBuffer;\n\n  constructor(target: Sound, private _processedData: string | AudioBuffer) {\n    super(target, 'NativeSoundProcessedEvent');\n\n    this.data = this._processedData;\n  }\n}\n","import { Engine } from './Engine';\nimport { Actor } from './Actor';\nimport { Sprite } from './Drawing/Sprite';\nimport { Color } from './Drawing/Color';\nimport { vec, Vector } from './Algebra';\nimport * as Util from './Util/Util';\nimport * as DrawUtil from './Util/DrawUtil';\nimport * as Traits from './Traits/Index';\nimport { Configurable } from './Configurable';\nimport { Random } from './Math/Random';\nimport { CollisionType } from './Collision/CollisionType';\nimport { TransformComponent } from './EntityComponentSystem/Components/TransformComponent';\nimport { GraphicsComponent } from './Graphics/GraphicsComponent';\nimport { Entity } from './EntityComponentSystem/Entity';\nimport { Graphics } from '.';\nimport { CanvasDrawComponent } from './Drawing/Index';\n\n/**\n * An enum that represents the types of emitter nozzles\n */\nexport enum EmitterType {\n  /**\n   * Constant for the circular emitter type\n   */\n  Circle,\n  /**\n   * Constant for the rectangular emitter type\n   */\n  Rectangle\n}\n\n/**\n * @hidden\n */\nexport class ParticleImpl extends Entity {\n  public position: Vector = new Vector(0, 0);\n  public velocity: Vector = new Vector(0, 0);\n  public acceleration: Vector = new Vector(0, 0);\n  public particleRotationalVelocity: number = 0;\n  public currentRotation: number = 0;\n\n  public focus: Vector = null;\n  public focusAccel: number = 0;\n  public opacity: number = 1;\n  public beginColor: Color = Color.White;\n  public endColor: Color = Color.White;\n\n  // Life is counted in ms\n  public life: number = 300;\n  public fadeFlag: boolean = false;\n\n  // Color transitions\n  private _rRate: number = 1;\n  private _gRate: number = 1;\n  private _bRate: number = 1;\n  private _aRate: number = 0;\n  private _currentColor: Color = Color.White;\n\n  public emitter: ParticleEmitter = null;\n  public particleSize: number = 5;\n  public particleSprite: Sprite = null;\n\n  public startSize: number;\n  public endSize: number;\n  public sizeRate: number = 0;\n  public elapsedMultiplier: number = 0;\n\n  public visible = true;\n  public isOffscreen = false;\n\n  public transform: TransformComponent;\n  public graphics: GraphicsComponent;\n\n  constructor(\n    emitterOrConfig: ParticleEmitter | ParticleArgs,\n    life?: number,\n    opacity?: number,\n    beginColor?: Color,\n    endColor?: Color,\n    position?: Vector,\n    velocity?: Vector,\n    acceleration?: Vector,\n    startSize?: number,\n    endSize?: number\n  ) {\n    super();\n    let emitter = emitterOrConfig;\n    if (emitter && !(emitterOrConfig instanceof ParticleEmitter)) {\n      const config = emitterOrConfig;\n      emitter = config.emitter;\n      life = config.life;\n      opacity = config.opacity;\n      endColor = config.endColor;\n      beginColor = config.beginColor;\n      position = config.position;\n      velocity = config.velocity;\n      acceleration = config.acceleration;\n      startSize = config.startSize;\n      endSize = config.endSize;\n    }\n    this.emitter = <ParticleEmitter>emitter;\n    this.life = life || this.life;\n    this.opacity = opacity || this.opacity;\n    this.endColor = endColor || this.endColor.clone();\n    this.beginColor = beginColor || this.beginColor.clone();\n    this._currentColor = this.beginColor.clone();\n    this.position = (position || this.position).add(this.emitter.pos);\n    this.velocity = velocity || this.velocity;\n    this.acceleration = acceleration || this.acceleration;\n    this._rRate = (this.endColor.r - this.beginColor.r) / this.life;\n    this._gRate = (this.endColor.g - this.beginColor.g) / this.life;\n    this._bRate = (this.endColor.b - this.beginColor.b) / this.life;\n    this._aRate = this.opacity / this.life;\n\n    this.startSize = startSize || 0;\n    this.endSize = endSize || 0;\n\n    if (this.endSize > 0 && this.startSize > 0) {\n      this.sizeRate = (this.endSize - this.startSize) / this.life;\n      this.particleSize = this.startSize;\n    }\n\n    this.addComponent((this.transform = new TransformComponent()));\n    this.addComponent(new CanvasDrawComponent((ctx) => this.draw(ctx)));\n    this.addComponent((this.graphics = new GraphicsComponent()));\n\n    this.transform.pos = this.position;\n    this.transform.rotation = this.currentRotation;\n    this.transform.scale = vec(1, 1); // TODO wut\n    if (this.particleSprite) {\n      this.graphics.opacity = this.opacity;\n      this.graphics.use(Graphics.Sprite.fromLegacySprite(this.particleSprite));\n    } else {\n      this.graphics.onPostDraw = (ctx) => {\n        ctx.save();\n        this.graphics.opacity = this.opacity;\n        const tmpColor = this._currentColor.clone();\n        tmpColor.a = 1;\n        ctx.debug.drawPoint(vec(0, 0), { color: tmpColor, size: this.particleSize });\n        ctx.restore();\n      };\n    }\n  }\n\n  public kill() {\n    this.emitter.removeParticle(this);\n  }\n\n  public update(_engine: Engine, delta: number) {\n    this.life = this.life - delta;\n    this.elapsedMultiplier = this.elapsedMultiplier + delta;\n\n    if (this.life < 0) {\n      this.kill();\n    }\n\n    if (this.fadeFlag) {\n      this.opacity = Util.clamp(this._aRate * this.life, 0.0001, 1);\n    }\n\n    if (this.startSize > 0 && this.endSize > 0) {\n      this.particleSize = Util.clamp(\n        this.sizeRate * delta + this.particleSize,\n        Math.min(this.startSize, this.endSize),\n        Math.max(this.startSize, this.endSize)\n      );\n    }\n\n    this._currentColor.r = Util.clamp(this._currentColor.r + this._rRate * delta, 0, 255);\n    this._currentColor.g = Util.clamp(this._currentColor.g + this._gRate * delta, 0, 255);\n    this._currentColor.b = Util.clamp(this._currentColor.b + this._bRate * delta, 0, 255);\n    this._currentColor.a = Util.clamp(this.opacity, 0.0001, 1);\n\n    if (this.focus) {\n      const accel = this.focus\n        .sub(this.position)\n        .normalize()\n        .scale(this.focusAccel)\n        .scale(delta / 1000);\n      this.velocity = this.velocity.add(accel);\n    } else {\n      this.velocity = this.velocity.add(this.acceleration.scale(delta / 1000));\n    }\n    this.position = this.position.add(this.velocity.scale(delta / 1000));\n\n    if (this.particleRotationalVelocity) {\n      this.currentRotation = (this.currentRotation + (this.particleRotationalVelocity * delta) / 1000) % (2 * Math.PI);\n    }\n\n    this.transform.pos = this.position;\n    this.transform.rotation = this.currentRotation;\n    this.transform.scale = vec(1, 1); // todo wut\n    this.graphics.opacity = this.opacity;\n  }\n\n  public draw(ctx: CanvasRenderingContext2D) {\n    if (this.particleSprite) {\n      this.particleSprite.opacity(this.opacity);\n      this.particleSprite.draw(ctx, 0, 0);\n      return;\n    }\n\n    ctx.save();\n    this._currentColor.a = Util.clamp(this.opacity, 0.0001, 1);\n    ctx.fillStyle = this._currentColor.toString();\n    ctx.beginPath();\n    ctx.arc(0, 0, this.particleSize, 0, Math.PI * 2);\n    ctx.fill();\n    ctx.closePath();\n    ctx.restore();\n  }\n}\n\nexport interface ParticleArgs extends Partial<ParticleImpl> {\n  emitter: ParticleEmitter;\n  position?: Vector;\n  velocity?: Vector;\n  acceleration?: Vector;\n  particleRotationalVelocity?: number;\n  currentRotation?: number;\n  particleSize?: number;\n  particleSprite?: Sprite;\n}\n\n/**\n * Particle is used in a [[ParticleEmitter]]\n */\nexport class Particle extends Configurable(ParticleImpl) {\n  constructor(config: ParticleArgs);\n  constructor(\n    emitter: ParticleEmitter,\n    life?: number,\n    opacity?: number,\n    beginColor?: Color,\n    endColor?: Color,\n    position?: Vector,\n    velocity?: Vector,\n    acceleration?: Vector,\n    startSize?: number,\n    endSize?: number\n  );\n  constructor(\n    emitterOrConfig: ParticleEmitter | ParticleArgs,\n    life?: number,\n    opacity?: number,\n    beginColor?: Color,\n    endColor?: Color,\n    position?: Vector,\n    velocity?: Vector,\n    acceleration?: Vector,\n    startSize?: number,\n    endSize?: number\n  ) {\n    super(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize);\n  }\n}\n\n/**\n * @hidden\n */\nexport class ParticleEmitterImpl extends Actor {\n  private _particlesToEmit: number;\n\n  public numParticles: number = 0;\n\n  /**\n   * Random number generator\n   */\n  public random: Random;\n\n  /**\n   * Gets or sets the isEmitting flag\n   */\n  public isEmitting: boolean = true;\n  /**\n   * Gets or sets the backing particle collection\n   */\n  public particles: Particle[] = [];\n\n  /**\n   * Gets or sets the backing deadParticle collection\n   */\n  public deadParticles: Particle[] = [];\n\n  /**\n   * Gets or sets the minimum particle velocity\n   */\n  public minVel: number = 0;\n  /**\n   * Gets or sets the maximum particle velocity\n   */\n  public maxVel: number = 0;\n\n  /**\n   * Gets or sets the acceleration vector for all particles\n   */\n  public acceleration: Vector = new Vector(0, 0);\n\n  /**\n   * Gets or sets the minimum angle in radians\n   */\n  public minAngle: number = 0;\n  /**\n   * Gets or sets the maximum angle in radians\n   */\n  public maxAngle: number = 0;\n\n  /**\n   * Gets or sets the emission rate for particles (particles/sec)\n   */\n  public emitRate: number = 1; //particles/sec\n  /**\n   * Gets or sets the life of each particle in milliseconds\n   */\n  public particleLife: number = 2000;\n  /**\n   * Gets or sets the opacity of each particle from 0 to 1.0\n   */\n  public opacity: number = 1;\n  /**\n   * Gets or sets the fade flag which causes particles to gradually fade out over the course of their life.\n   */\n  public fadeFlag: boolean = false;\n\n  /**\n   * Gets or sets the optional focus where all particles should accelerate towards\n   */\n  public focus: Vector = null;\n  /**\n   * Gets or sets the acceleration for focusing particles if a focus has been specified\n   */\n  public focusAccel: number = 1;\n  /*\n   * Gets or sets the optional starting size for the particles\n   */\n  public startSize: number = null;\n  /*\n   * Gets or sets the optional ending size for the particles\n   */\n  public endSize: number = null;\n\n  /**\n   * Gets or sets the minimum size of all particles\n   */\n  public minSize: number = 5;\n  /**\n   * Gets or sets the maximum size of all particles\n   */\n  public maxSize: number = 5;\n\n  /**\n   * Gets or sets the beginning color of all particles\n   */\n  public beginColor: Color = Color.White;\n  /**\n   * Gets or sets the ending color of all particles\n   */\n  public endColor: Color = Color.White;\n\n  private _og: Sprite = null;\n  private _sprite: Graphics.Sprite = null;\n  /**\n   * Gets or sets the sprite that a particle should use\n   */\n  public get particleSprite(): Sprite {\n    return this._og;\n  }\n\n  public set particleSprite(val: Sprite) {\n    this._og = val;\n    if (val) {\n      this._sprite = Graphics.Sprite.fromLegacySprite(val);\n    }\n  }\n\n  /**\n   * Gets or sets the emitter type for the particle emitter\n   */\n  public emitterType: EmitterType = EmitterType.Rectangle;\n\n  /**\n   * Gets or sets the emitter radius, only takes effect when the [[emitterType]] is [[EmitterType.Circle]]\n   */\n  public radius: number = 0;\n\n  /**\n   * Gets or sets the particle rotational speed velocity\n   */\n  public particleRotationalVelocity: number = 0;\n\n  /**\n   * Indicates whether particles should start with a random rotation\n   */\n  public randomRotation: boolean = false;\n\n  /**\n   * @param xOrConfig The x position of the emitter, or the particle emitter options bag\n   * @param y         The y position of the emitter\n   * @param width     The width of the emitter\n   * @param height    The height of the emitter\n   */\n  constructor(xOrConfig?: number | ParticleEmitterArgs, y?: number, width?: number, height?: number) {\n    super(typeof xOrConfig === 'number' ? { pos: new Vector(xOrConfig, y), width: width, height: height } : xOrConfig);\n    this._particlesToEmit = 0;\n    this.body.collider.type = CollisionType.PreventCollision;\n    this.random = new Random();\n    this.removeComponent('canvas');\n\n    // Remove offscreen culling from particle emitters\n    for (let i = 0; i < this.traits.length; i++) {\n      if (this.traits[i] instanceof Traits.OffscreenCulling) {\n        this.traits.splice(i, 1);\n      }\n    }\n  }\n\n  public removeParticle(particle: Particle) {\n    this.deadParticles.push(particle);\n  }\n\n  /**\n   * Causes the emitter to emit particles\n   * @param particleCount  Number of particles to emit right now\n   */\n  public emitParticles(particleCount: number) {\n    for (let i = 0; i < particleCount; i++) {\n      const p = this._createParticle();\n      this.particles.push(p);\n      if (this?.scene?.world) {\n        this.scene.world.add(p);\n      }\n    }\n  }\n\n  public clearParticles() {\n    this.particles.length = 0;\n  }\n\n  // Creates a new particle given the constraints of the emitter\n  private _createParticle(): Particle {\n    // todo implement emitter constraints;\n    let ranX = 0;\n    let ranY = 0;\n\n    const angle = Util.randomInRange(this.minAngle, this.maxAngle, this.random);\n    const vel = Util.randomInRange(this.minVel, this.maxVel, this.random);\n    const size = this.startSize || Util.randomInRange(this.minSize, this.maxSize, this.random);\n    const dx = vel * Math.cos(angle);\n    const dy = vel * Math.sin(angle);\n\n    if (this.emitterType === EmitterType.Rectangle) {\n      ranX = Util.randomInRange(0, this.width, this.random);\n      ranY = Util.randomInRange(0, this.height, this.random);\n    } else if (this.emitterType === EmitterType.Circle) {\n      const radius = Util.randomInRange(0, this.radius, this.random);\n      ranX = radius * Math.cos(angle);\n      ranY = radius * Math.sin(angle);\n    }\n\n    const p = new Particle(\n      this,\n      this.particleLife,\n      this.opacity,\n      this.beginColor,\n      this.endColor,\n      new Vector(ranX, ranY),\n      new Vector(dx, dy),\n      this.acceleration,\n      this.startSize,\n      this.endSize\n    );\n    p.fadeFlag = this.fadeFlag;\n    p.particleSize = size;\n    if (this.particleSprite) {\n      p.particleSprite = this.particleSprite;\n      p.graphics.opacity = this.opacity;\n      p.graphics.use(this._sprite);\n    }\n    p.particleRotationalVelocity = this.particleRotationalVelocity;\n    if (this.randomRotation) {\n      p.currentRotation = Util.randomInRange(0, Math.PI * 2, this.random);\n    }\n    if (this.focus) {\n      p.focus = this.focus.add(new Vector(this.pos.x, this.pos.y));\n      p.focusAccel = this.focusAccel;\n    }\n    return p;\n  }\n\n  public update(engine: Engine, delta: number) {\n    super.update(engine, delta);\n\n    if (this.isEmitting) {\n      this._particlesToEmit += this.emitRate * (delta / 1000);\n      if (this._particlesToEmit > 1.0) {\n        this.emitParticles(Math.floor(this._particlesToEmit));\n        this._particlesToEmit = this._particlesToEmit - Math.floor(this._particlesToEmit);\n      }\n    }\n\n    // deferred removal\n    for (let i = 0; i < this.deadParticles.length; i++) {\n      Util.removeItemFromArray(this.deadParticles[i], this.particles);\n      if (this?.scene?.world) {\n        this.scene.world.remove(this.deadParticles[i]);\n      }\n    }\n    this.deadParticles.length = 0;\n  }\n\n  public draw(ctx: CanvasRenderingContext2D) {\n    // todo is there a more efficient to draw\n    // possibly use a webgl offscreen canvas and shaders to do particles?\n    this.particles.forEach((p) => p.draw(ctx));\n  }\n\n  public debugDraw(ctx: CanvasRenderingContext2D) {\n    super.debugDraw(ctx);\n    ctx.fillStyle = Color.Black.toString();\n    ctx.fillText('Particles: ' + this.particles.length, this.pos.x, this.pos.y + 20);\n\n    if (this.focus) {\n      ctx.fillRect(this.focus.x + this.pos.x, this.focus.y + this.pos.y, 3, 3);\n      DrawUtil.line(ctx, Color.Yellow, this.focus.x + this.pos.x, this.focus.y + this.pos.y, this.center.x, this.center.y);\n      ctx.fillText('Focus', this.focus.x + this.pos.x, this.focus.y + this.pos.y);\n    }\n  }\n}\n\nexport interface ParticleEmitterArgs extends Partial<ParticleEmitterImpl> {\n  width?: number;\n  height?: number;\n  isEmitting?: boolean;\n  minVel?: number;\n  maxVel?: number;\n  acceleration?: Vector;\n  minAngle?: number;\n  maxAngle?: number;\n  emitRate?: number;\n  particleLife?: number;\n  opacity?: number;\n  fadeFlag?: boolean;\n  focus?: Vector;\n  focusAccel?: number;\n  startSize?: number;\n  endSize?: number;\n  minSize?: number;\n  maxSize?: number;\n  beginColor?: Color;\n  endColor?: Color;\n  particleSprite?: Sprite;\n  emitterType?: EmitterType;\n  radius?: number;\n  particleRotationalVelocity?: number;\n  randomRotation?: boolean;\n  random?: Random;\n}\n\n/**\n * Using a particle emitter is a great way to create interesting effects\n * in your game, like smoke, fire, water, explosions, etc. `ParticleEmitter`\n * extend [[Actor]] allowing you to use all of the features that come with.\n */\nexport class ParticleEmitter extends Configurable(ParticleEmitterImpl) {\n  constructor(config?: ParticleEmitterArgs);\n  constructor(x?: number | ParticleEmitterArgs, y?: number, width?: number, height?: number);\n  constructor(xOrConfig?: number | ParticleEmitterArgs, y?: number, width?: number, height?: number) {\n    super(xOrConfig, y, width, height);\n  }\n}\n","export * from './ActionContext';\nexport * from './Actionable';\nexport * from './RotationType';\n\nimport * as actions from './Action';\nexport { actions as Actions };\n\n// legacy Internal.Actions namespace support\nexport const Internal = { Actions: actions };\n","import { Audio } from './Audio';\n\nexport type ExResponseType = '' | 'arraybuffer' | 'blob' | 'document' | 'json' | 'text';\n\nexport interface ExResponseTypesLookup {\n  [name: string]: ExResponseType;\n}\n\nexport class ExResponse {\n  public static type: ExResponseTypesLookup = {\n    any: '',\n    blob: 'blob',\n    json: 'json',\n    text: 'text',\n    document: 'document',\n    arraybuffer: 'arraybuffer'\n  };\n}\n\n/**\n * Represents an audio implementation like [[WebAudioInstance]]\n */\nexport interface AudioImplementation {\n  /**\n   * XHR response type\n   */\n  responseType: ExResponseType;\n\n  /**\n   * Processes raw data and transforms into sound data\n   */\n  processData(data: Blob | ArrayBuffer): Promise<string | AudioBuffer>;\n\n  /**\n   * Factory method that returns an instance of a played audio track\n   */\n  createInstance(data: string | AudioBuffer): Audio;\n}\n","import { Engine } from './../Engine';\nimport * as Events from './../Events';\nimport { Scene } from '../Scene';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface _initialize {\n  _initialize(engine: Engine): void;\n}\n\n/**\n * Type guard checking for internal initialize method\n * @internal\n * @param a\n */\nexport function has_initialize(a: any): a is _initialize {\n  return !!a._initialize;\n}\n\nexport interface OnInitialize {\n  onInitialize(engine: Engine): void;\n}\n\n/**\n *\n */\nexport function hasOnInitialize(a: any): a is OnInitialize {\n  return !!a.onInitialize;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface _preupdate {\n  _preupdate(engine: Engine, delta: number): void;\n}\n\n/**\n *\n */\nexport function has_preupdate(a: any): a is _preupdate {\n  return !!a._preupdate;\n}\n\nexport interface OnPreUpdate {\n  onPreUpdate(engine: Engine, delta: number): void;\n}\n\n/**\n *\n */\nexport function hasOnPreUpdate(a: any): a is OnPreUpdate {\n  return !!a.onPreUpdate;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface _postupdate {\n  _postupdate(engine: Engine, delta: number): void;\n}\n\n/**\n *\n */\nexport function has_postupdate(a: any): a is _postupdate {\n  return !!a.onPostUpdate;\n}\n\nexport interface OnPostUpdate {\n  onPostUpdate(engine: Engine, delta: number): void;\n}\n\n/**\n *\n */\nexport function hasOnPostUpdate(a: any): a is OnPostUpdate {\n  return !!a.onPostUpdate;\n}\n\nexport interface CanInitialize {\n  /**\n   * Overridable implementation\n   */\n  onInitialize(_engine: Engine): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.initialize, handler: (event: Events.InitializeEvent<any>) => void): void;\n  once(eventName: Events.initialize, handler: (event: Events.InitializeEvent<any>) => void): void;\n  off(eventName: Events.initialize, handler?: (event: Events.InitializeEvent<any>) => void): void;\n}\n\nexport interface CanActivate {\n  /**\n   * Overridable implementation\n   */\n  onActivate(oldScene: Scene, newScene: Scene): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.activate, handler: (event: Events.ActivateEvent) => void): void;\n  once(eventName: Events.activate, handler: (event: Events.ActivateEvent) => void): void;\n  off(eventName: Events.activate, handler?: (event: Events.ActivateEvent) => void): void;\n}\n\nexport interface CanDeactivate {\n  /**\n   * Overridable implementation\n   */\n  onDeactivate(oldScene: Scene, newScene: Scene): void;\n\n  /**\n   * Event signature\n   */\n  on(eventName: Events.deactivate, handler: (event: Events.DeactivateEvent) => void): void;\n  once(eventName: Events.deactivate, handler: (event: Events.DeactivateEvent) => void): void;\n  off(eventName: Events.deactivate, handler?: (event: Events.DeactivateEvent) => void): void;\n}\n\nexport interface CanUpdate {\n  /**\n   * Overridable implementation\n   */\n  onPreUpdate(_engine: Engine, _delta: number): void;\n\n  /**\n   * Event signature\n   */\n  on(eventName: Events.preupdate, handler: (event: Events.PreUpdateEvent<any>) => void): void;\n  once(eventName: Events.preupdate, handler: (event: Events.PreUpdateEvent<any>) => void): void;\n  off(eventName: Events.preupdate, handler?: (event: Events.PreUpdateEvent<any>) => void): void;\n\n  /**\n   * Overridable implementation\n   */\n  onPostUpdate(_engine: Engine, _delta: number): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.postupdate, handler: (event: Events.PostUpdateEvent<any>) => void): void;\n  once(eventName: Events.postupdate, handler: (event: Events.PostUpdateEvent<any>) => void): void;\n  off(eventName: Events.postupdate, handler?: (event: Events.PostUpdateEvent<any>) => void): void;\n}\n\nexport interface OnPreDraw {\n  /**\n   * Overridable implementation\n   */\n  onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.predraw, handler: (event: Events.PreDrawEvent) => void): void;\n  once(eventName: Events.predraw, handler: (event: Events.PreDrawEvent) => void): void;\n  off(eventName: Events.predraw, handler?: (event: Events.PreDrawEvent) => void): void;\n}\n\nexport interface OnPostDraw {\n  /**\n   * Overridable implementation\n   */\n  onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.postdraw, handler: (event: Events.PostDrawEvent) => void): void;\n  once(eventName: Events.postdraw, handler: (event: Events.PostDrawEvent) => void): void;\n  off(eventName: Events.postdraw, handler?: (event: Events.PostDrawEvent) => void): void;\n}\n\nexport interface CanDraw extends OnPreDraw, OnPostDraw {\n  on(eventName: Events.predraw, handler: (event: Events.PreDrawEvent) => void): void;\n  on(eventName: Events.postdraw, handler: (event: Events.PostDrawEvent) => void): void;\n\n  once(eventName: Events.predraw, handler: (event: Events.PreDrawEvent) => void): void;\n  once(eventName: Events.postdraw, handler: (event: Events.PostDrawEvent) => void): void;\n\n  off(eventName: Events.predraw, handler?: (event: Events.PreDrawEvent) => void): void;\n  off(eventName: Events.postdraw, handler?: (event: Events.PostDrawEvent) => void): void;\n}\n\n/**\n *\n */\nexport function hasPreDraw(a: any): a is OnPreDraw {\n  return !!a.onPreDraw;\n}\n\n/**\n *\n */\nexport function hasPostDraw(a: any): a is OnPostDraw {\n  return !!a.onPostDraw;\n}\n\nexport interface CanBeKilled {\n  /**\n   * Overridable implementation\n   */\n  onPreKill(_scene: Scene): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.prekill, handler: (event: Events.PreKillEvent) => void): void;\n  once(eventName: Events.prekill, handler: (event: Events.PreKillEvent) => void): void;\n  off(eventName: Events.prekill, handler: (event: Events.PreKillEvent) => void): void;\n\n  /**\n   * Overridable implementation\n   */\n  onPostKill(_scene: Scene): void;\n\n  /**\n   * Event signatures\n   */\n  on(eventName: Events.postkill, handler: (event: Events.PostKillEvent) => void): void;\n  once(eventName: Events.postkill, handler: (event: Events.PostKillEvent) => void): void;\n  off(eventName: Events.postkill, handler: (event: Events.PostKillEvent) => void): void;\n}\n","export * from './Trait';\nexport * from './Audio';\nexport * from './AudioImplementation';\nexport * from './Drawable';\nexport * from './Evented';\nexport * from './Loadable';\nexport * from './LifecycleEvents';\nexport * from './PointerEventHandlers';\n","import { Random } from './Random';\nimport { Color } from '../Drawing/Color';\nimport * as Util from '../Util/Util';\n\n/**\n * Linear interpolation between a and b\n * @internal\n * @param time number between [0, 1]\n * @param a starting number\n * @param b ending number\n */\nfunction _lerp(time: number, a: number, b: number): number {\n  return a + time * (b - a);\n}\n\n/**\n * Reduce t by a quintic function that produces a desired effect\n * @internal\n * @param t\n */\nfunction _fade(t: number): number {\n  return t * t * t * (t * (t * 6 - 15) + 10);\n}\n\n/**\n * Options for the perlin noise generator\n */\nexport interface PerlinOptions {\n  /**\n   * Random number seed for the Perlin noise generator\n   */\n  seed?: number;\n  /**\n   * Number of octaves to use when generating the noise, the number of octaves is the number of times the perlin\n   * noise is generated and laid on top of itself. Using higher values can increase the curviness of the noise, and\n   * make it look more natural.\n   */\n  octaves?: number;\n  /**\n   * Frequency to use when generating the noise, the higher the number the more quickly the pattern will oscillate. Another way\n   * to think about this is that it is like \"zooming\" out from an infinite pattern determined by the seed.\n   */\n  frequency?: number;\n  /**\n   * The amplitude determines the relative height of the peaks generated in the noise.\n   */\n  amplitude?: number;\n  /**\n   * The persistance determines how quickly the amplitude will drop off, a high degree of persistance results in smoother patterns,\n   * a low degree of persistance generates spiky patterns.\n   */\n  persistance?: number;\n}\n\n/**\n * Generates perlin noise based on the 2002 Siggraph paper http://mrl.nyu.edu/~perlin/noise/\n * Also https://flafla2.github.io/2014/08/09/perlinnoise.html\n */\nexport class PerlinGenerator {\n  private _perm: number[] = [\n    151,\n    160,\n    137,\n    91,\n    90,\n    15,\n    131,\n    13,\n    201,\n    95,\n    96,\n    53,\n    194,\n    233,\n    7,\n    225,\n    140,\n    36,\n    103,\n    30,\n    69,\n    142,\n    8,\n    99,\n    37,\n    240,\n    21,\n    10,\n    23,\n    190,\n    6,\n    148,\n    247,\n    120,\n    234,\n    75,\n    0,\n    26,\n    197,\n    62,\n    94,\n    252,\n    219,\n    203,\n    117,\n    35,\n    11,\n    32,\n    57,\n    177,\n    33,\n    88,\n    237,\n    149,\n    56,\n    87,\n    174,\n    20,\n    125,\n    136,\n    171,\n    168,\n    68,\n    175,\n    74,\n    165,\n    71,\n    134,\n    139,\n    48,\n    27,\n    166,\n    77,\n    146,\n    158,\n    231,\n    83,\n    111,\n    229,\n    122,\n    60,\n    211,\n    133,\n    230,\n    220,\n    105,\n    92,\n    41,\n    55,\n    46,\n    245,\n    40,\n    244,\n    102,\n    143,\n    54,\n    65,\n    25,\n    63,\n    161,\n    1,\n    216,\n    80,\n    73,\n    209,\n    76,\n    132,\n    187,\n    208,\n    89,\n    18,\n    169,\n    200,\n    196,\n    135,\n    130,\n    116,\n    188,\n    159,\n    86,\n    164,\n    100,\n    109,\n    198,\n    173,\n    186,\n    3,\n    64,\n    52,\n    217,\n    226,\n    250,\n    124,\n    123,\n    5,\n    202,\n    38,\n    147,\n    118,\n    126,\n    255,\n    82,\n    85,\n    212,\n    207,\n    206,\n    59,\n    227,\n    47,\n    16,\n    58,\n    17,\n    182,\n    189,\n    28,\n    42,\n    223,\n    183,\n    170,\n    213,\n    119,\n    248,\n    152,\n    2,\n    44,\n    154,\n    163,\n    70,\n    221,\n    153,\n    101,\n    155,\n    167,\n    43,\n    172,\n    9,\n    129,\n    22,\n    39,\n    253,\n    19,\n    98,\n    108,\n    110,\n    79,\n    113,\n    224,\n    232,\n    178,\n    185,\n    112,\n    104,\n    218,\n    246,\n    97,\n    228,\n    251,\n    34,\n    242,\n    193,\n    238,\n    210,\n    144,\n    12,\n    191,\n    179,\n    162,\n    241,\n    81,\n    51,\n    145,\n    235,\n    249,\n    14,\n    239,\n    107,\n    49,\n    192,\n    214,\n    31,\n    181,\n    199,\n    106,\n    157,\n    184,\n    84,\n    204,\n    176,\n    115,\n    121,\n    50,\n    45,\n    127,\n    4,\n    150,\n    254,\n    138,\n    236,\n    205,\n    93,\n    222,\n    114,\n    67,\n    29,\n    24,\n    72,\n    243,\n    141,\n    128,\n    195,\n    78,\n    66,\n    215,\n    61,\n    156,\n    180\n  ];\n  private _p: Uint8Array = new Uint8Array(512);\n  private _random: Random;\n\n  private _defaultPerlinOptions: PerlinOptions = {\n    octaves: 1,\n    frequency: 1,\n    amplitude: 1,\n    persistance: 0.5\n  };\n\n  /**\n   * The persistance determines how quickly the amplitude will drop off, a high degree of persistance results in smoother patterns,\n   * a low degree of persistance generates spiky patterns.\n   */\n  public persistance: number;\n\n  /**\n   * The amplitude determines the relative height of the peaks generated in the noise.\n   */\n  public amplitude: number;\n\n  /**\n   * Frequency to use when generating the noise, the higher the number the more quickly the pattern will oscillate. Another way\n   * to think about this is that it is like \"zooming\" out from an infinite pattern determined by the seed.\n   */\n  public frequency: number;\n\n  /**\n   * Number of octaves to use when generating the noise, the number of octaves is the number of times the perlin\n   * noise is generated and laid on top of itself. Using higher values can increase the curviness of the noise, and\n   * make it look more natural.\n   */\n  public octaves: number;\n\n  constructor(options?: PerlinOptions) {\n    options = Util.extend({}, this._defaultPerlinOptions, options);\n\n    this.persistance = options.persistance;\n    this.amplitude = options.amplitude;\n    this.frequency = options.frequency;\n    this.octaves = options.octaves;\n\n    if (options.seed) {\n      this._random = new Random(options.seed);\n    } else {\n      this._random = new Random();\n    }\n\n    this._perm = this._random.shuffle(this._perm);\n\n    for (let i = 0; i < 512; i++) {\n      this._p[i] = this._perm[i % 256] & 0xff;\n    }\n  }\n\n  /**\n   * Generates 1-Dimensional perlin noise given an x and generates noises values between [0, 1].\n   */\n  public noise(x: number): number;\n  /**\n   * Generates 2-Dimensional perlin noise given an (x, y) and generates noise values between [0, 1]\n   */\n  public noise(x: number, y: number): number;\n  /**\n   * Generates 3-Dimensional perlin noise given an (x, y, z) and generates noise values between [0, 1]\n   */\n  public noise(x: number, y: number, z: number): number;\n  public noise(): number {\n    let amp = this.amplitude;\n    let freq = this.frequency;\n\n    let total = 0;\n    let maxValue = 0;\n    for (let i = 0; i < this.octaves; i++) {\n      switch (arguments.length) {\n        case 1:\n          total += this._noise1d(arguments[0] * freq) * amp;\n          break;\n        case 2:\n          total += this._noise2d(arguments[0] * freq, arguments[1] * freq) * amp;\n          break;\n        case 3:\n          total += this._noise3d(arguments[0] * freq, arguments[1] * freq, arguments[2] * freq) * amp;\n          break;\n        /* istanbul ignore next */\n        default:\n          throw new Error('Invalid arguments for perlin noise');\n      }\n      maxValue += amp;\n      amp *= this.persistance;\n      freq *= 2;\n    }\n    return total / maxValue;\n  }\n\n  /**\n   * Generates a list starting at 0 and ending at 1 of continuous perlin noise, by default the step is 1/length;\n   *\n   */\n  public sequence(length: number, step?: number): number[] {\n    if (!step) {\n      step = 1 / length;\n    }\n    const array: number[] = new Array(length);\n    for (let i = 0; i < length; i++) {\n      array[i] = this.noise(i * step);\n    }\n    return array;\n  }\n\n  /**\n   * Generates a 2D grid of perlin noise given a step value packed into a 1D array i = (x + y*width),\n   * by default the step will 1/(min(dimension))\n   */\n  public grid(width: number, height: number, step?: number): number[] {\n    if (!step) {\n      step = 1 / Math.min(width, height);\n    }\n\n    const array: number[] = new Array(width * height);\n\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        array[x + y * width] = this.noise(x * step, y * step);\n      }\n    }\n\n    return array;\n  }\n\n  private _gradient3d(hash: number, x: number, y: number, z: number) {\n    const h = hash & 0xf;\n    const u = h < 8 ? x : y;\n    const v = h < 4 ? y : h === 12 || h === 14 ? x : z;\n    return ((h & 0b1) === 0 ? u : -u) + ((h & 0b10) === 0 ? v : -v);\n  }\n\n  private _gradient2d(hash: number, x: number, y: number) {\n    const value = (hash & 0b1) === 0 ? x : y;\n    return (hash & 0b10) === 0 ? -value : value;\n  }\n\n  private _gradient1d(hash: number, x: number) {\n    return (hash & 0b1) === 0 ? -x : x;\n  }\n\n  private _noise1d(x: number) {\n    const intX = Math.floor(x) & 0xff; // force 0-255 integers to lookup in permutation\n    x -= Math.floor(x);\n    const fadeX = _fade(x);\n    return (_lerp(fadeX, this._gradient1d(this._p[intX], x), this._gradient1d(this._p[intX + 1], x - 1)) + 1) / 2;\n  }\n\n  private _noise2d(x: number, y: number) {\n    const intX = Math.floor(x) & 0xff;\n    const intY = Math.floor(y) & 0xff;\n\n    x -= Math.floor(x);\n    y -= Math.floor(y);\n\n    const fadeX = _fade(x);\n    const fadeY = _fade(y);\n    const a = this._p[intX] + intY;\n    const b = this._p[intX + 1] + intY;\n    return (\n      (_lerp(\n        fadeY,\n        _lerp(fadeX, this._gradient2d(this._p[a], x, y), this._gradient2d(this._p[b], x - 1, y)),\n        _lerp(fadeX, this._gradient2d(this._p[a + 1], x, y - 1), this._gradient2d(this._p[b + 1], x - 1, y - 1))\n      ) +\n        1) /\n      2\n    );\n  }\n\n  private _noise3d(x: number, y: number, z: number) {\n    const intX = Math.floor(x) & 0xff;\n    const intY = Math.floor(y) & 0xff;\n    const intZ = Math.floor(z) & 0xff;\n\n    x -= Math.floor(x);\n    y -= Math.floor(y);\n    z -= Math.floor(z);\n\n    const fadeX = _fade(x);\n    const fadeY = _fade(y);\n    const fadeZ = _fade(z);\n\n    const a = this._p[intX] + intY;\n    const b = this._p[intX + 1] + intY;\n\n    const aa = this._p[a] + intZ;\n    const ba = this._p[b] + intZ;\n\n    const ab = this._p[a + 1] + intZ;\n    const bb = this._p[b + 1] + intZ;\n\n    return (\n      (_lerp(\n        fadeZ,\n        _lerp(\n          fadeY,\n          _lerp(fadeX, this._gradient3d(this._p[aa], x, y, z), this._gradient3d(this._p[ba], x - 1, y, z)),\n          _lerp(fadeX, this._gradient3d(this._p[ab], x, y - 1, z), this._gradient3d(this._p[bb], x - 1, y - 1, z))\n        ),\n        _lerp(\n          fadeY,\n          _lerp(fadeX, this._gradient3d(this._p[aa + 1], x, y, z - 1), this._gradient3d(this._p[ba + 1], x - 1, y, z - 1)),\n          _lerp(fadeX, this._gradient3d(this._p[ab + 1], x, y - 1, z - 1), this._gradient3d(this._p[bb + 1], x - 1, y - 1, z - 1))\n        )\n      ) +\n        1) /\n      2\n    );\n  }\n}\n\n/**\n * A helper to draw 2D perlin maps given a perlin generator and a function\n */\nexport class PerlinDrawer2D {\n  /**\n   * @param generator - An existing perlin generator\n   * @param colorFcn - A color function that takes a value between [0, 255] derived from the perlin generator, and returns a color\n   */\n  constructor(public generator: PerlinGenerator, public colorFcn?: (val: number) => Color) {\n    if (!colorFcn) {\n      this.colorFcn = (val: number) => {\n        return val < 125 ? Color.Black : Color.White;\n      };\n    }\n  }\n\n  /**\n   * Returns an image of 2D perlin noise\n   */\n  public image(width: number, height: number): HTMLImageElement {\n    const image = document.createElement('img');\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext('2d');\n    this.draw(ctx, 0, 0, width, height);\n    image.src = canvas.toDataURL();\n    return image;\n  }\n\n  /**\n   * This draws a 2D perlin grid on a canvas context, not recommended to be called every frame due to performance\n   */\n  public draw(ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number) {\n    const grid = this.generator.grid(width, height);\n    const imageData = ctx.getImageData(x, y, width, height);\n    for (let j = 0; j < height; j++) {\n      for (let i = 0; i < width; i++) {\n        const val = grid[i + width * j];\n        const c = Math.floor(val * 255) & 0xff;\n        const pixel = (i + j * imageData.width) * 4;\n        const color = this.colorFcn(c);\n\n        imageData.data[pixel] = color.r;\n        imageData.data[pixel + 1] = color.g;\n        imageData.data[pixel + 2] = color.b;\n        imageData.data[pixel + 3] = Math.floor(color.a * 255);\n      }\n    }\n    ctx.putImageData(imageData, x, y);\n  }\n}\n","export * from './PerlinNoise';\nexport * from './Random';\nexport * from './matrix';\nexport * from './vector-view';","import { Audio } from '../../Interfaces/Audio';\nimport * as Util from '../../Util/Util';\nimport { AudioContextFactory } from './AudioContext';\n\n/**\n * Internal class representing a Web Audio AudioBufferSourceNode instance\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\n */\nexport class WebAudioInstance implements Audio {\n  private _volume = 1;\n  private _duration: number | undefined = undefined;\n\n  private _playingPromise: Promise<boolean>;\n  private _playingResolve: (value: boolean) => void;\n\n  private _loop = false;\n  public set loop(value: boolean) {\n    this._loop = value;\n\n    if (this._instance) {\n      this._instance.loop = value;\n      this._wireUpOnEnded();\n    }\n  }\n  public get loop(): boolean {\n    return this._loop;\n  }\n\n  public set volume(value: number) {\n    value = Util.clamp(value, 0, 1.0);\n\n    this._volume = value;\n\n    if (this._isPlaying && this._volumeNode.gain.setTargetAtTime) {\n      // https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/setTargetAtTime\n      // After each .1 seconds timestep, the target value will ~63.2% closer to the target value.\n      // This exponential ramp provides a more pleasant transition in gain\n      this._volumeNode.gain.setTargetAtTime(value, this._audioContext.currentTime, 0.1);\n    } else {\n      this._volumeNode.gain.value = value;\n    }\n  }\n  public get volume(): number {\n    return this._volume;\n  }\n\n  public set duration(value: number | undefined) {\n    this._duration = value;\n  }\n\n  /**\n   * Duration of the sound, in seconds.\n   */\n  public get duration() {\n    return this._duration;\n  }\n\n  private get _playbackRate(): number {\n    return this._instance ? 1 / (this._instance.playbackRate.value || 1.0) : null;\n  }\n\n  private _isPlaying = false;\n  private _isPaused = false;\n  private _instance: AudioBufferSourceNode;\n  private _audioContext: AudioContext = AudioContextFactory.create();\n  private _volumeNode = this._audioContext.createGain();\n  private _startTime: number;\n\n  /**\n   * Current playback offset (in seconds)\n   */\n  private _currentOffset = 0;\n\n  constructor(private _src: AudioBuffer) {\n    this._createNewBufferSource();\n  }\n\n  public isPlaying() {\n    return this._isPlaying;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  public play(playStarted: () => any = () => {}) {\n    if (this._isPaused) {\n      this._resumePlayBack();\n      playStarted();\n    }\n\n    if (!this._isPlaying) {\n      this._startPlayBack();\n      playStarted();\n    }\n\n    return this._playingPromise;\n  }\n\n  public pause() {\n    if (!this._isPlaying) {\n      return;\n    }\n\n    this._isPaused = true;\n    this._isPlaying = false;\n\n    this._instance.stop(0);\n    // Playback rate will be a scale factor of how fast/slow the audio is being played\n    // default is 1.0\n    // we need to invert it to get the time scale\n\n    this._setPauseOffset();\n  }\n\n  public stop() {\n    if (!this._isPlaying) {\n      return;\n    }\n\n    this._isPlaying = false;\n    this._isPaused = false;\n\n    this._currentOffset = 0;\n    this._instance.stop(0);\n\n    // handler will not be wired up if we were looping\n    if (!this._instance.onended) {\n      this._handleOnEnded();\n    }\n  }\n\n  private _startPlayBack() {\n    this._isPlaying = true;\n    this._isPaused = false;\n    this._playingPromise = new Promise<boolean>((resolve) => {\n      this._playingResolve = resolve;\n    });\n\n    if (!this._instance) {\n      this._createNewBufferSource();\n    }\n\n    this._rememberStartTime();\n\n    this._volumeNode.connect(this._audioContext.destination);\n    this._instance.start(0, 0);\n    this._currentOffset = 0;\n\n    this._wireUpOnEnded();\n  }\n\n  private _resumePlayBack() {\n    if (!this._isPaused) {\n      return;\n    }\n\n    this._isPaused = false;\n    this._isPlaying = true;\n\n    // a buffer source can only be started once\n    // so we need to dispose of the previous instance before\n    // \"resuming\" the next one\n    this._instance.onended = null; // dispose of any previous event handler\n    this._createNewBufferSource();\n\n    const duration = this._playbackRate * this._src.duration;\n    const restartTime = this._currentOffset % duration;\n\n    this._rememberStartTime(restartTime * -1000);\n    this._instance.start(0, restartTime);\n    this._wireUpOnEnded();\n  }\n\n  private _wireUpOnEnded() {\n    if (!this.loop) {\n      this._instance.onended = () => this._handleOnEnded();\n    }\n  }\n\n  private _handleOnEnded() {\n    // pausing calls stop(0) which triggers onended event\n    // so we don't \"resolve\" yet (when we resume we'll try again)\n    if (!this._isPaused) {\n      this._isPlaying = false;\n      this._playingResolve(true);\n    }\n  }\n\n  private _rememberStartTime(amend?: number) {\n    this._startTime = new Date().getTime() + (amend | 0);\n  }\n\n  private _setPauseOffset() {\n    this._currentOffset = ((new Date().getTime() - this._startTime) * this._playbackRate) / 1000; // in seconds\n  }\n\n  private _createNewBufferSource() {\n    this._instance = this._audioContext.createBufferSource();\n    this._instance.buffer = this._src;\n    this._instance.loop = this.loop;\n    this._instance.playbackRate.setValueAtTime(1.0, 0);\n\n    this._instance.connect(this._volumeNode);\n  }\n}\n","import { Logger } from './Log';\n\n/**\n * Whether or not the browser can play this file as HTML5 Audio\n */\nexport function canPlayFile(file: string): boolean {\n  try {\n    const a = new Audio();\n    const filetype = /.*\\.([A-Za-z0-9]+)$/;\n    const type = file.match(filetype)[1];\n    if (a.canPlayType('audio/' + type)) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (e) {\n    Logger.getInstance().warn('Cannot determine audio support, assuming no support for the Audio Tag', e);\n    return false;\n  }\n}\n","import { ExResponse } from '../../Interfaces/AudioImplementation';\nimport { Audio } from '../../Interfaces/Audio';\nimport { Engine } from '../../Engine';\nimport { Resource } from '../Resource';\nimport { WebAudioInstance } from './WebAudioInstance';\nimport { AudioContextFactory } from './AudioContext';\nimport { NativeSoundEvent, NativeSoundProcessedEvent } from '../../Events/MediaEvents';\nimport { canPlayFile } from '../../Util/Sound';\nimport { Loadable } from '../../Interfaces/Index';\nimport { Logger } from '../../Util/Log';\nimport { Class } from '../../Class';\n\n/**\n * The [[Sound]] object allows games built in Excalibur to load audio\n * components, from soundtracks to sound effects. [[Sound]] is an [[Loadable]]\n * which means it can be passed to a [[Loader]] to pre-load before a game or level.\n */\nexport class Sound extends Class implements Audio, Loadable<AudioBuffer> {\n  public logger: Logger = Logger.getInstance();\n  public data: AudioBuffer;\n  private _resource: Resource<ArrayBuffer>;\n  /**\n   * Indicates whether the clip should loop when complete\n   * @param value  Set the looping flag\n   */\n  public set loop(value: boolean) {\n    this._loop = value;\n\n    for (const track of this._tracks) {\n      track.loop = this._loop;\n    }\n\n    this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._loop);\n  }\n  public get loop(): boolean {\n    return this._loop;\n  }\n\n  public set volume(value: number) {\n    this._volume = value;\n\n    for (const track of this._tracks) {\n      track.volume = this._volume;\n    }\n\n    this.emit('volumechange', new NativeSoundEvent(this));\n\n    this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._volume);\n  }\n  public get volume(): number {\n    return this._volume;\n  }\n\n  public get duration(): number | undefined {\n    return this._duration;\n  }\n\n  /**\n   * Return array of Current AudioInstances playing or being paused\n   */\n  public get instances(): Audio[] {\n    return this._tracks;\n  }\n\n  public get path() {\n    return this._resource.path;\n  }\n\n  public set path(val: string) {\n    this._resource.path = val;\n  }\n\n  private _loop = false;\n  private _volume = 1;\n  private _duration: number | undefined = undefined;\n  private _isStopped = false;\n  private _isPaused = false;\n  private _tracks: Audio[] = [];\n  private _engine: Engine;\n  private _wasPlayingOnHidden: boolean = false;\n  private _audioContext = AudioContextFactory.create();\n\n  /**\n   * @param paths A list of audio sources (clip.wav, clip.mp3, clip.ogg) for this audio clip. This is done for browser compatibility.\n   */\n  constructor(...paths: string[]) {\n    super();\n    this._resource = new Resource('', ExResponse.type.arraybuffer);\n    /** Chrome : MP3, WAV, Ogg\n     * Firefox : WAV, Ogg,\n     * IE : MP3, WAV coming soon\n     * Safari MP3, WAV, Ogg\n     */\n    for (const path of paths) {\n      if (canPlayFile(path)) {\n        this.path = path;\n        break;\n      }\n    }\n\n    if (!this.path) {\n      this.logger.warn('This browser does not support any of the audio files specified:', paths.join(', '));\n      this.logger.warn('Attempting to use', paths[0]);\n      this.path = paths[0]; // select the first specified\n    }\n  }\n\n  public isLoaded() {\n    return !!this.data;\n  }\n\n  public async load(): Promise<AudioBuffer> {\n    if (this.data) {\n      return this.data;\n    }\n    const arraybuffer = await this._resource.load();\n    const audiobuffer = await this.decodeAudio(arraybuffer.slice(0));\n    this._duration = typeof audiobuffer === 'object' ? audiobuffer.duration : undefined;\n    this.emit('processed', new NativeSoundProcessedEvent(this, audiobuffer));\n    return this.data = audiobuffer;\n  }\n\n  public async decodeAudio(data: ArrayBuffer): Promise<AudioBuffer> {\n    try {\n      return await this._audioContext.decodeAudioData(data.slice(0));\n    } catch (e) {\n      this.logger.error(\n        'Unable to decode ' +\n          ' this browser may not fully support this format, or the file may be corrupt, ' +\n          'if this is an mp3 try removing id3 tags and album art from the file.'\n      );\n      return await Promise.reject();\n    }\n  }\n\n  public wireEngine(engine: Engine) {\n    if (engine) {\n      this._engine = engine;\n\n      this._engine.on('hidden', () => {\n        if (engine.pauseAudioWhenHidden && this.isPlaying()) {\n          this._wasPlayingOnHidden = true;\n          this.pause();\n        }\n      });\n\n      this._engine.on('visible', () => {\n        if (engine.pauseAudioWhenHidden && this._wasPlayingOnHidden) {\n          this.play();\n          this._wasPlayingOnHidden = false;\n        }\n      });\n\n      this._engine.on('start', () => {\n        this._isStopped = false;\n      });\n\n      this._engine.on('stop', () => {\n        this.stop();\n        this._isStopped = true;\n      });\n    }\n  }\n\n  /**\n   * Returns how many instances of the sound are currently playing\n   */\n  public instanceCount(): number {\n    return this._tracks.length;\n  }\n\n  /**\n   * Whether or not the sound is playing right now\n   */\n  public isPlaying(): boolean {\n    return this._tracks.some((t) => t.isPlaying());\n  }\n\n  /**\n   * Play the sound, returns a promise that resolves when the sound is done playing\n   * An optional volume argument can be passed in to play the sound. Max volume is 1.0\n   */\n  public play(volume?: number): Promise<boolean> {\n    if (!this.isLoaded()) {\n      this.logger.warn('Cannot start playing. Resource', this.path, 'is not loaded yet');\n\n      return Promise.resolve(true);\n    }\n\n    if (this._isStopped) {\n      this.logger.warn('Cannot start playing. Engine is in a stopped state.');\n      return Promise.resolve(false);\n    }\n\n    this.volume = volume || this.volume;\n\n    if (this._isPaused) {\n      return this._resumePlayback();\n    } else {\n      return this._startPlayback();\n    }\n  }\n\n  /**\n   * Stop the sound, and do not rewind\n   */\n  public pause() {\n    if (!this.isPlaying()) {\n      return;\n    }\n\n    for (const track of this._tracks) {\n      track.pause();\n    }\n\n    this._isPaused = true;\n\n    this.emit('pause', new NativeSoundEvent(this));\n\n    this.logger.debug('Paused all instances of sound', this.path);\n  }\n\n  /**\n   * Stop the sound if it is currently playing and rewind the track. If the sound is not playing, rewinds the track.\n   */\n  public stop() {\n    for (const track of this._tracks) {\n      track.stop();\n    }\n\n    this.emit('stop', new NativeSoundEvent(this));\n\n    this._isPaused = false;\n    this._tracks.length = 0;\n    this.logger.debug('Stopped all instances of sound', this.path);\n  }\n\n\n\n  /**\n   * Get Id of provided AudioInstance in current trackList\n   * @param track [[Audio]] which Id is to be given\n   */\n  public getTrackId(track: Audio): number {\n    return this._tracks.indexOf(track);\n  }\n\n  private async _resumePlayback(): Promise<boolean> {\n    if (this._isPaused) {\n      const resumed: Promise<boolean>[] = [];\n      // ensure we resume *current* tracks (if paused)\n      for (const track of this._tracks) {\n        resumed.push(track.play());\n      }\n\n      this._isPaused = false;\n\n      this.emit('resume', new NativeSoundEvent(this));\n\n      this.logger.debug('Resuming paused instances for sound', this.path, this._tracks);\n      // resolve when resumed tracks are done\n      await Promise.all(resumed);\n    }\n    return true;\n  }\n\n  /**\n   * Starts playback, returns a promise that resolves when playback is complete\n   */\n  private async _startPlayback(): Promise<boolean> {\n    const track = await this._getTrackInstance(this.data);\n\n    const complete = await track.play(() => {\n      this.emit('playbackstart', new NativeSoundEvent(this, track));\n      this.logger.debug('Playing new instance for sound', this.path);\n    });\n\n    // when done, remove track\n    this.emit('playbackend', new NativeSoundEvent(this, track));\n    this._tracks.splice(this.getTrackId(track), 1);\n\n    return complete;\n  }\n\n  private _getTrackInstance(data: AudioBuffer): WebAudioInstance {\n    const newTrack = new WebAudioInstance(data);\n\n    newTrack.loop = this.loop;\n    newTrack.volume = this.volume;\n    newTrack.duration = this.duration;\n\n    this._tracks.push(newTrack);\n\n    return newTrack;\n  }\n}\n","export * from './Sound';\nexport * from './AudioContext';\nexport * from './WebAudioInstance';\n","import { Resource } from './Resource';\nimport { Sprite } from '../Drawing/Sprite';\nimport { Texture } from './Texture';\nimport { Color } from '../Drawing/Color';\nimport { SpriteSheet } from '../Drawing/SpriteSheet';\nimport { Animation } from '../Drawing/Animation';\nimport { Engine } from '../Engine';\nimport { Loadable } from '../Interfaces/Index';\n/**\n * The [[Texture]] object allows games built in Excalibur to load image resources.\n * [[Texture]] is an [[Loadable]] which means it can be passed to a [[Loader]]\n * to pre-load before starting a level or game.\n */\nexport class Gif implements Loadable<Texture[]> {\n  private _resource: Resource<ArrayBuffer>;\n\n  /**\n   * The width of the texture in pixels\n   */\n  public width: number;\n\n  /**\n   * The height of the texture in pixels\n   */\n  public height: number;\n\n\n  private _stream: Stream = null;\n  private _gif: ParseGif = null;\n  private _textures: Texture[] = [];\n  private _animation: Animation = null;\n  private _transparentColor: Color = null;\n\n  public data: Texture[];\n\n  /**\n   * @param path       Path to the image resource\n   * @param color      Optionally set the color to treat as transparent the gif, by default [[Color.Magenta]]\n   * @param bustCache  Optionally load texture with cache busting\n   */\n  constructor(public path: string, public color: Color = Color.Magenta, public bustCache = true) {\n    this._resource = new Resource(path, 'arraybuffer', bustCache);\n    this._transparentColor = color;\n  }\n\n  /**\n   * Begins loading the texture and returns a promise to be resolved on completion\n   */\n  public async load(): Promise<Texture[]> {\n    const arraybuffer = await this._resource.load();\n    this._stream = new Stream(arraybuffer);\n    this._gif = new ParseGif(this._stream, this._transparentColor);\n    const textures = this._gif.images.map(i => new Texture(i.src, false));\n\n    // Load all textures\n    await Promise.all(textures.map(t => t.load()));\n    return this.data = this._textures = textures;\n  }\n\n  public isLoaded() {\n    return !!this.data;\n  }\n\n  public asSprite(id: number = 0): Sprite {\n    const sprite = this._textures[id].asSprite();\n    return sprite;\n  }\n\n  public asSpriteSheet(): SpriteSheet {\n    const spriteArray: Sprite[] = this._textures.map((texture) => {\n      return texture.asSprite();\n    });\n    return new SpriteSheet(spriteArray);\n  }\n\n  public asAnimation(engine: Engine, speed: number): Animation {\n    const spriteSheet: SpriteSheet = this.asSpriteSheet();\n    this._animation = spriteSheet.getAnimationForAll(engine, speed);\n    return this._animation;\n  }\n\n  public get readCheckBytes(): number[] {\n    return this._gif.checkBytes;\n  }\n}\n\nexport interface Frame {\n  sentinel: number;\n  type: string;\n  leftPos: number;\n  topPos: number;\n  width: number;\n  height: number;\n  lctFlag: boolean;\n  interlaced: boolean;\n  sorted: boolean;\n  reserved: boolean[];\n  lctSize: number;\n  lzwMinCodeSize: number;\n  pixels: number[];\n}\n\nconst bitsToNum = (ba: any) => {\n  return ba.reduce(function (s: number, n: number) {\n    return s * 2 + n;\n  }, 0);\n};\n\nconst byteToBitArr = (bite: any) => {\n  const a = [];\n  for (let i = 7; i >= 0; i--) {\n    a.push(!!(bite & (1 << i)));\n  }\n  return a;\n};\n\nexport class Stream {\n  data: any = null;\n  len: number = 0;\n  position: number = 0;\n\n  constructor(dataArray: ArrayBuffer) {\n    this.data = new Uint8Array(dataArray);\n    this.len = this.data.byteLength;\n    if (this.len === 0) {\n      throw new Error('No data loaded from file');\n    }\n  }\n\n  public readByte = () => {\n    if (this.position >= this.data.byteLength) {\n      throw new Error('Attempted to read past end of stream.');\n    }\n    return this.data[this.position++];\n  };\n\n  public readBytes = (n: number) => {\n    const bytes = [];\n    for (let i = 0; i < n; i++) {\n      bytes.push(this.readByte());\n    }\n    return bytes;\n  };\n\n  public read = (n: number) => {\n    let s = '';\n    for (let i = 0; i < n; i++) {\n      s += String.fromCharCode(this.readByte());\n    }\n    return s;\n  };\n\n  public readUnsigned = () => {\n    // Little-endian.\n    const a = this.readBytes(2);\n    return (a[1] << 8) + a[0];\n  };\n}\n\nconst lzwDecode = function (minCodeSize: number, data: any) {\n  // TODO: Now that the GIF parser is a bit different, maybe this should get an array of bytes instead of a String?\n  let pos = 0; // Maybe this streaming thing should be merged with the Stream?\n\n  const readCode = function (size: number) {\n    let code = 0;\n    for (let i = 0; i < size; i++) {\n      if (data.charCodeAt(pos >> 3) & (1 << (pos & 7))) {\n        code |= 1 << i;\n      }\n      pos++;\n    }\n    return code;\n  };\n\n  const output: any[] = [];\n\n  const clearCode = 1 << minCodeSize;\n  const eoiCode = clearCode + 1;\n\n  let codeSize = minCodeSize + 1;\n\n  let dict: any[] = [];\n\n  const clear = function () {\n    dict = [];\n    codeSize = minCodeSize + 1;\n    for (let i = 0; i < clearCode; i++) {\n      dict[i] = [i];\n    }\n    dict[clearCode] = [];\n    dict[eoiCode] = null;\n  };\n\n  let code;\n  let last;\n\n  while (true) {\n    last = code;\n    code = readCode(codeSize);\n    if (code === clearCode) {\n      clear();\n      continue;\n    }\n    if (code === eoiCode) {\n      break;\n    }\n\n    if (code < dict.length) {\n      if (last !== clearCode) {\n        dict.push(dict[last].concat(dict[code][0]));\n      }\n    } else {\n      if (code !== dict.length) {\n        throw new Error('Invalid LZW code.');\n      }\n      dict.push(dict[last].concat(dict[last][0]));\n    }\n    output.push.apply(output, dict[code]);\n\n    if (dict.length === 1 << codeSize && codeSize < 12) {\n      // If we're at the last code and codeSize is 12, the next code will be a clearCode, and it'll be 12 bits long.\n      codeSize++;\n    }\n  }\n\n  // I don't know if this is technically an error, but some GIFs do it.\n  //if (Math.ceil(pos / 8) !== data.length) throw new Error('Extraneous LZW bytes.');\n  return output;\n};\n\n// The actual parsing; returns an object with properties.\nexport class ParseGif {\n  private _st: Stream = null;\n  private _handler: any = {};\n  private _transparentColor: Color = null;\n  public frames: Frame[] = [];\n  public images: HTMLImageElement[] = [];\n  public globalColorTable: any[] = [];\n  public checkBytes: number[] = [];\n\n  constructor(stream: Stream, color: Color = Color.Magenta) {\n    this._st = stream;\n    this._handler = {};\n    this._transparentColor = color;\n    this.parseHeader();\n    this.parseBlock();\n  }\n\n  // LZW (GIF-specific)\n  parseColorTable = (entries: any) => {\n    // Each entry is 3 bytes, for RGB.\n    const ct = [];\n    for (let i = 0; i < entries; i++) {\n      const rgb: number[] = this._st.readBytes(3);\n      const rgba =\n        '#' +\n        rgb\n          .map((x: any) => {\n            const hex = x.toString(16);\n            return hex.length === 1 ? '0' + hex : hex;\n          })\n          .join('');\n      ct.push(rgba);\n    }\n    return ct;\n  };\n\n  readSubBlocks = () => {\n    let size, data;\n    data = '';\n    do {\n      size = this._st.readByte();\n      data += this._st.read(size);\n    } while (size !== 0);\n    return data;\n  };\n\n  parseHeader = () => {\n    const hdr: any = {\n      sig: null,\n      ver: null,\n      width: null,\n      height: null,\n      colorRes: null,\n      globalColorTableSize: null,\n      gctFlag: null,\n      sorted: null,\n      globalColorTable: [],\n      bgColor: null,\n      pixelAspectRatio: null // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n    };\n\n    hdr.sig = this._st.read(3);\n    hdr.ver = this._st.read(3);\n    if (hdr.sig !== 'GIF') {\n      throw new Error('Not a GIF file.'); // XXX: This should probably be handled more nicely.\n    }\n\n    hdr.width = this._st.readUnsigned();\n    hdr.height = this._st.readUnsigned();\n\n    const bits = byteToBitArr(this._st.readByte());\n    hdr.gctFlag = bits.shift();\n    hdr.colorRes = bitsToNum(bits.splice(0, 3));\n    hdr.sorted = bits.shift();\n    hdr.globalColorTableSize = bitsToNum(bits.splice(0, 3));\n\n    hdr.bgColor = this._st.readByte();\n    hdr.pixelAspectRatio = this._st.readByte(); // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n\n    if (hdr.gctFlag) {\n      hdr.globalColorTable = this.parseColorTable(1 << (hdr.globalColorTableSize + 1));\n      this.globalColorTable = hdr.globalColorTable;\n    }\n    if (this._handler.hdr && this._handler.hdr(hdr)) {\n      this.checkBytes.push(this._handler.hdr);\n    }\n  };\n\n  parseExt = (block: any) => {\n    const parseGCExt = (block: any) => {\n      this.checkBytes.push(this._st.readByte()); // Always 4\n\n      const bits = byteToBitArr(this._st.readByte());\n      block.reserved = bits.splice(0, 3); // Reserved; should be 000.\n      block.disposalMethod = bitsToNum(bits.splice(0, 3));\n      block.userInput = bits.shift();\n      block.transparencyGiven = bits.shift();\n\n      block.delayTime = this._st.readUnsigned();\n\n      block.transparencyIndex = this._st.readByte();\n\n      block.terminator = this._st.readByte();\n\n      if (this._handler.gce && this._handler.gce(block)) {\n        this.checkBytes.push(this._handler.gce);\n      }\n    };\n\n    const parseComExt = (block: any) => {\n      block.comment = this.readSubBlocks();\n      if (this._handler.com && this._handler.com(block)) {\n        this.checkBytes.push(this._handler.com);\n      }\n    };\n\n    const parsePTExt = (block: any) => {\n      this.checkBytes.push(this._st.readByte()); // Always 12\n      block.ptHeader = this._st.readBytes(12);\n      block.ptData = this.readSubBlocks();\n      if (this._handler.pte && this._handler.pte(block)) {\n        this.checkBytes.push(this._handler.pte);\n      }\n    };\n\n    const parseAppExt = (block: any) => {\n      const parseNetscapeExt = (block: any) => {\n        this.checkBytes.push(this._st.readByte()); // Always 3\n        block.unknown = this._st.readByte(); // ??? Always 1? What is this?\n        block.iterations = this._st.readUnsigned();\n        block.terminator = this._st.readByte();\n        if (this._handler.app && this._handler.app.NETSCAPE && this._handler.app.NETSCAPE(block)) {\n          this.checkBytes.push(this._handler.app);\n        }\n      };\n\n      const parseUnknownAppExt = (block: any) => {\n        block.appData = this.readSubBlocks();\n        // FIXME: This won't work if a handler wants to match on any identifier.\n        if (this._handler.app && this._handler.app[block.identifier] && this._handler.app[block.identifier](block)) {\n          this.checkBytes.push(this._handler.app[block.identifier]);\n        }\n      };\n\n      this.checkBytes.push(this._st.readByte()); // Always 11\n      block.identifier = this._st.read(8);\n      block.authCode = this._st.read(3);\n      switch (block.identifier) {\n        case 'NETSCAPE':\n          parseNetscapeExt(block);\n          break;\n        default:\n          parseUnknownAppExt(block);\n          break;\n      }\n    };\n\n    const parseUnknownExt = (block: any) => {\n      block.data = this.readSubBlocks();\n      if (this._handler.unknown && this._handler.unknown(block)) {\n        this.checkBytes.push(this._handler.unknown);\n      }\n    };\n\n    block.label = this._st.readByte();\n    switch (block.label) {\n      case 0xf9:\n        block.extType = 'gce';\n        parseGCExt(block);\n        break;\n      case 0xfe:\n        block.extType = 'com';\n        parseComExt(block);\n        break;\n      case 0x01:\n        block.extType = 'pte';\n        parsePTExt(block);\n        break;\n      case 0xff:\n        block.extType = 'app';\n        parseAppExt(block);\n        break;\n      default:\n        block.extType = 'unknown';\n        parseUnknownExt(block);\n        break;\n    }\n  };\n\n  parseImg = (img: any) => {\n    const deinterlace = (pixels: any, width: any) => {\n      // Of course this defeats the purpose of interlacing. And it's *probably*\n      // the least efficient way it's ever been implemented. But nevertheless...\n\n      const newPixels = new Array(pixels.length);\n      const rows = pixels.length / width;\n      const cpRow = (toRow: any, fromRow: any) => {\n        const fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n        newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n      };\n\n      const offsets = [0, 4, 2, 1];\n      const steps = [8, 8, 4, 2];\n\n      let fromRow = 0;\n      for (let pass = 0; pass < 4; pass++) {\n        for (let toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n          cpRow(toRow, fromRow);\n          fromRow++;\n        }\n      }\n\n      return newPixels;\n    };\n\n    img.leftPos = this._st.readUnsigned();\n    img.topPos = this._st.readUnsigned();\n    img.width = this._st.readUnsigned();\n    img.height = this._st.readUnsigned();\n\n    const bits = byteToBitArr(this._st.readByte());\n    img.lctFlag = bits.shift();\n    img.interlaced = bits.shift();\n    img.sorted = bits.shift();\n    img.reserved = bits.splice(0, 2);\n    img.lctSize = bitsToNum(bits.splice(0, 3));\n\n    if (img.lctFlag) {\n      img.lct = this.parseColorTable(1 << (img.lctSize + 1));\n    }\n\n    img.lzwMinCodeSize = this._st.readByte();\n\n    const lzwData = this.readSubBlocks();\n\n    img.pixels = lzwDecode(img.lzwMinCodeSize, lzwData);\n\n    if (img.interlaced) {\n      // Move\n      img.pixels = deinterlace(img.pixels, img.width);\n    }\n\n    this.frames.push(img);\n    this.arrayToImage(img);\n    if (this._handler.img && this._handler.img(img)) {\n      this.checkBytes.push(this._handler);\n    }\n  };\n\n  public parseBlock = () => {\n    const block = {\n      sentinel: this._st.readByte(),\n      type: ''\n    };\n    const blockChar = String.fromCharCode(block.sentinel);\n    switch (blockChar) {\n      case '!':\n        block.type = 'ext';\n        this.parseExt(block);\n        break;\n      case ',':\n        block.type = 'img';\n        this.parseImg(block);\n        break;\n      case ';':\n        block.type = 'eof';\n        if (this._handler.eof && this._handler.eof(block)) {\n          this.checkBytes.push(this._handler.eof);\n        }\n        break;\n      default:\n        throw new Error('Unknown block: 0x' + block.sentinel.toString(16));\n    }\n\n    if (block.type !== 'eof') {\n      this.parseBlock();\n    }\n  };\n\n  arrayToImage = (frame: Frame) => {\n    let count = 0;\n    const c = document.createElement('canvas');\n    c.id = count.toString();\n    c.width = frame.width;\n    c.height = frame.height;\n    count++;\n    const context = c.getContext('2d');\n    const pixSize = 1;\n    let y = 0;\n    let x = 0;\n    for (let i = 0; i < frame.pixels.length; i++) {\n      if (x % frame.width === 0) {\n        y++;\n        x = 0;\n      }\n      if (this.globalColorTable[frame.pixels[i]] === this._transparentColor.toHex()) {\n        context.fillStyle = `rgba(0, 0, 0, 0)`;\n      } else {\n        context.fillStyle = this.globalColorTable[frame.pixels[i]];\n      }\n\n      context.fillRect(x, y, pixSize, pixSize);\n      x++;\n    }\n    const img = new Image();\n    img.src = c.toDataURL();\n    this.images.push(img);\n  };\n}\n","export * from './Resource';\nexport * from './Sound/Index';\nexport * from './Texture';\nexport * from './Gif';\n","export * from './Util';\nimport * as drawUtil from './DrawUtil';\n\nexport { drawUtil as DrawUtil };\n","import { obsolete } from './Decorators';\n\n/**\n * A sorted list implementation. NOTE: this implementation is not self-balancing\n * @deprecated WIll be removed in v0.26.0 Use built in JS array.sort\n */\n@obsolete({message: 'Will be removed in excalibur v0.26.0', alternateMethod: 'Use built in JS array.sort'})\nexport class SortedList<T> {\n  private _getComparable: (item: T) => number;\n  private _root: BinaryTreeNode<T>;\n\n  constructor(getComparable: (item: T) => number) {\n    this._getComparable = getComparable;\n  }\n\n  public find(element: T): boolean {\n    return this._find(this._root, element);\n  }\n\n  private _find(node: BinaryTreeNode<T>, element: any): boolean {\n    if (node == null) {\n      return false;\n    } else if (this._getComparable(element) === node.getKey()) {\n      if (node.getData().indexOf(element) > -1) {\n        return true;\n      } else {\n        return false;\n      }\n    } else if (this._getComparable(element) < node.getKey()) {\n      return this._find(node.getLeft(), element);\n    } else {\n      return this._find(node.getRight(), element);\n    }\n  }\n\n  // returns the array of elements at a specific key value\n  public get(key: number): any[] {\n    return this._get(this._root, key);\n  }\n\n  private _get(node: BinaryTreeNode<T>, key: number): any[] {\n    if (node == null) {\n      return [];\n    } else if (key === node.getKey()) {\n      return node.getData();\n    } else if (key < node.getKey()) {\n      return this._get(node.getLeft(), key);\n    } else {\n      return this._get(node.getRight(), key);\n    }\n  }\n\n  public add(element: T): boolean {\n    if (this._root == null) {\n      this._root = new BinaryTreeNode(this._getComparable(element), [element], null, null);\n      return true;\n    } else {\n      return this._insert(this._root, element);\n    }\n  }\n\n  private _insert(node: BinaryTreeNode<T>, element: T): boolean {\n    if (node != null) {\n      if (this._getComparable(element) === node.getKey()) {\n        if (node.getData().indexOf(element) > -1) {\n          return false; // the element we're trying to insert already exists\n        } else {\n          node.getData().push(element);\n          return true;\n        }\n      } else if (this._getComparable(element) < node.getKey()) {\n        if (node.getLeft() == null) {\n          node.setLeft(new BinaryTreeNode(this._getComparable(element), [element], null, null));\n          return true;\n        } else {\n          return this._insert(node.getLeft(), element);\n        }\n      } else {\n        if (node.getRight() == null) {\n          node.setRight(new BinaryTreeNode(this._getComparable(element), [element], null, null));\n          return true;\n        } else {\n          return this._insert(node.getRight(), element);\n        }\n      }\n    }\n    return false;\n  }\n\n  public removeByComparable(element: T): void {\n    this._root = this._remove(this._root, element);\n  }\n\n  private _remove(node: BinaryTreeNode<T>, element: T): BinaryTreeNode<T> {\n    if (node == null) {\n      return null;\n    } else if (this._getComparable(element) === node.getKey()) {\n      const elementIndex = node.getData().indexOf(element);\n      // if the node contains the element, remove the element\n      if (elementIndex > -1) {\n        node.getData().splice(elementIndex, 1);\n        // if we have removed the last element at this node, remove the node\n        if (node.getData().length === 0) {\n          // if the node is a leaf\n          if (node.getLeft() == null && node.getRight() == null) {\n            return null;\n          } else if (node.getLeft() == null) {\n            return node.getRight();\n          } else if (node.getRight() == null) {\n            return node.getLeft();\n          }\n          // if node has 2 children\n          const temp = this._findMinNode(node.getRight());\n          node.setKey(temp.getKey());\n          node.setData(temp.getData());\n          node.setRight(this._cleanup(node.getRight(), temp)); //\"cleanup nodes\" (move them up recursively)\n          return node;\n        } else {\n          // this prevents the node from being removed since it still contains elements\n          return node;\n        }\n      }\n    } else if (this._getComparable(element) < node.getKey()) {\n      node.setLeft(this._remove(node.getLeft(), element));\n      return node;\n    } else {\n      node.setRight(this._remove(node.getRight(), element));\n      return node;\n    }\n    return null;\n  }\n\n  // called once we have successfully removed the element we wanted, recursively corrects the part of the tree below the removed node\n  private _cleanup(node: BinaryTreeNode<T>, element: BinaryTreeNode<T>): BinaryTreeNode<T> {\n    const comparable = element.getKey();\n    if (node == null) {\n      return null;\n    } else if (comparable === node.getKey()) {\n      // if the node is a leaf\n      if (node.getLeft() == null && node.getRight() == null) {\n        return null;\n      } else if (node.getLeft() == null) {\n        return node.getRight();\n      } else if (node.getRight() == null) {\n        return node.getLeft();\n      }\n      // if node has 2 children\n      const temp = this._findMinNode(node.getRight());\n      node.setKey(temp.getKey());\n      node.setData(temp.getData());\n\n      node.setRight(this._cleanup(node.getRight(), temp));\n      return node;\n    } else if (element.getKey() < node.getKey()) {\n      node.setLeft(this._cleanup(node.getLeft(), element));\n      return node;\n    } else {\n      node.setRight(this._cleanup(node.getRight(), element));\n      return node;\n    }\n  }\n\n  private _findMinNode(node: BinaryTreeNode<T>): BinaryTreeNode<T> {\n    let current = node;\n    while (current.getLeft() != null) {\n      current = current.getLeft();\n    }\n    return current;\n  }\n\n  public list(): Array<T> {\n    const results = new Array<T>();\n    this._list(this._root, results);\n    return results;\n  }\n\n  private _list(treeNode: BinaryTreeNode<T>, results: Array<T>): void {\n    if (treeNode != null) {\n      this._list(treeNode.getLeft(), results);\n      treeNode.getData().forEach((element) => {\n        results.push(element);\n      });\n      this._list(treeNode.getRight(), results);\n    }\n  }\n}\n\n/**\n * A tree node part of [[SortedList]]\n * @deprecated Will be removed in v0.26.0\n */\n@obsolete({message: 'Will be removed in excalibur v0.26.0'})\nexport class BinaryTreeNode<T> {\n  private _key: number;\n  private _data: Array<T>;\n  private _left: BinaryTreeNode<T>;\n  private _right: BinaryTreeNode<T>;\n\n  constructor(key: number, data: Array<T>, left: BinaryTreeNode<T>, right: BinaryTreeNode<T>) {\n    this._key = key;\n    this._data = data;\n    this._left = left;\n    this._right = right;\n  }\n\n  public getKey(): number {\n    return this._key;\n  }\n\n  public setKey(key: number) {\n    this._key = key;\n  }\n\n  public getData(): T[] {\n    return this._data;\n  }\n\n  public setData(data: T[]) {\n    this._data = data;\n  }\n\n  public getLeft(): BinaryTreeNode<T> {\n    return this._left;\n  }\n\n  public setLeft(left: BinaryTreeNode<T>) {\n    this._left = left;\n  }\n\n  public getRight(): BinaryTreeNode<T> {\n    return this._right;\n  }\n\n  public setRight(right: BinaryTreeNode<T>) {\n    this._right = right;\n  }\n}\n\n/**\n * Mock element for testing\n *\n * @internal\n * @deprecated Will be removed in v0.26.0\n */\nexport class MockedElement {\n  private _key: number = 0;\n\n  constructor(key: number) {\n    this._key = key;\n  }\n\n  public getTheKey() {\n    return this._key;\n  }\n\n  public setKey(key: number) {\n    this._key = key;\n  }\n}\n","// Promises/A+ Spec http://promises-aplus.github.io/promises-spec/\n\nimport { obsolete } from './Util/Decorators';\n\n/**\n * Valid states for a promise to be in\n * @deprecated Will be removed in v0.26.0\n */\nexport enum PromiseState {\n  Resolved,\n  Rejected,\n  Pending\n}\n\n/**\n * @deprecated Will be removed in v0.26.0\n */\nexport interface PromiseLike<T> {\n  then(successCallback?: (value?: T) => any, rejectCallback?: (value?: T) => any): PromiseLike<T>;\n  error(rejectCallback?: (value?: any) => any): PromiseLike<T>;\n\n  //Cannot define static methods on interfaces\n  //wrap<T>(value?: T): IPromise<T>;\n\n  resolve(value?: T): PromiseLike<T>;\n  reject(value?: any): PromiseLike<T>;\n\n  state(): PromiseState;\n}\n\n/**\n * Promises are used to do asynchronous work and they are useful for\n * creating a chain of actions. In Excalibur they are used for loading,\n * sounds, animation, actions, and more.\n * @deprecated Will be removed in v0.26.0\n */\n@obsolete({\n  message: 'ex.Promises are being replaced by native browser promises in v0.26.0',\n  alternateMethod: 'Use browser native promises'\n})\nexport class Promise<T> implements PromiseLike<T> {\n  private _state: PromiseState = PromiseState.Pending;\n  private _value: T;\n  private _successCallbacks: { (value?: T): any }[] = [];\n  private _rejectCallback: (value?: any) => any = () => {\n    return;\n  };\n  private _errorCallback: (value?: any) => any;\n\n  /**\n   * Create and resolve a Promise with an optional value\n   * @param value  An optional value to wrap in a resolved promise\n   * @deprecated Use browser native promises\n   */\n  public static resolve<T>(value?: T): Promise<T> {\n    const promise = new Promise<T>().resolve(value);\n\n    return promise;\n  }\n\n  /**\n   * Create and reject a Promise with an optional value\n   * @param value  An optional value to wrap in a rejected promise\n   * @deprecated Use browser native promises\n   */\n  public static reject<T>(value?: T): Promise<T> {\n    const promise = new Promise<T>().reject(value);\n\n    return promise;\n  }\n\n  /**\n   * Returns a new promise that resolves when all the promises passed to it resolve, or rejects\n   * when at least 1 promise rejects.\n   * @deprecated Use browser native promises\n   */\n  public static join<T>(promises: Promise<T>[]): Promise<T>;\n\n  /**\n   * Returns a new promise that resolves when all the promises passed to it resolve, or rejects\n   * when at least 1 promise rejects.\n   * @deprecated Use browser native promises\n   */\n  public static join<T>(...promises: Promise<T>[]): Promise<T>;\n\n  public static join<T>() {\n    let promises: Promise<T>[] = [];\n\n    if (arguments.length > 0 && !Array.isArray(arguments[0])) {\n      for (let _i = 0; _i < arguments.length; _i++) {\n        promises[_i - 0] = arguments[_i];\n      }\n    } else if (arguments.length === 1 && Array.isArray(arguments[0])) {\n      promises = arguments[0];\n    }\n\n    const joinedPromise = new Promise<T>();\n    if (!promises || !promises.length) {\n      return joinedPromise.resolve();\n    }\n\n    const total = promises.length;\n    let successes = 0;\n    let rejects = 0;\n    const errors: any = [];\n\n    promises.forEach((p) => {\n      p.then(\n        () => {\n          successes += 1;\n          if (successes === total) {\n            joinedPromise.resolve();\n          } else if (successes + rejects + errors.length === total) {\n            joinedPromise.reject(errors);\n          }\n        },\n        () => {\n          rejects += 1;\n          if (successes + rejects + errors.length === total) {\n            joinedPromise.reject(errors);\n          }\n        }\n      ).error((e) => {\n        errors.push(e);\n        if (errors.length + successes + rejects === total) {\n          joinedPromise.reject(errors);\n        }\n      });\n    });\n\n    return joinedPromise;\n  }\n\n  /**\n   * Chain success and reject callbacks after the promise is resolved\n   * @param successCallback  Call on resolution of promise\n   * @param rejectCallback   Call on rejection of promise\n   * @deprecated Use browser native promises\n   */\n  public then(successCallback?: (value?: T) => any, rejectCallback?: (value?: any) => any) {\n    if (successCallback) {\n      this._successCallbacks.push(successCallback);\n\n      // If the promise is already resolved call immediately\n      if (this.state() === PromiseState.Resolved) {\n        try {\n          successCallback.call(this, this._value);\n        } catch (e) {\n          this._handleError(e);\n        }\n      }\n    }\n    if (rejectCallback) {\n      this._rejectCallback = rejectCallback;\n\n      // If the promise is already rejected call immediately\n      if (this.state() === PromiseState.Rejected) {\n        try {\n          rejectCallback.call(this, this._value);\n        } catch (e) {\n          this._handleError(e);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Add an error callback to the promise\n   * @param errorCallback  Call if there was an error in a callback\n   * @deprecated Use browser native promises\n   */\n  public error(errorCallback?: (value?: any) => any) {\n    if (errorCallback) {\n      this._errorCallback = errorCallback;\n    }\n    return this;\n  }\n\n  /**\n   * Resolve the promise and pass an option value to the success callbacks\n   * @param value  Value to pass to the success callbacks\n   * @deprecated Use browser native promises\n   */\n  public resolve(value?: T): Promise<T> {\n    if (this._state === PromiseState.Pending) {\n      this._value = value;\n      try {\n        this._state = PromiseState.Resolved;\n        this._successCallbacks.forEach((cb) => {\n          cb.call(this, this._value);\n        });\n      } catch (e) {\n        this._handleError(e);\n      }\n    } else {\n      throw new Error('Cannot resolve a promise that is not in a pending state!');\n    }\n    return this;\n  }\n\n  /**\n   * Reject the promise and pass an option value to the reject callbacks\n   * @param value  Value to pass to the reject callbacks\n   * @deprecated Use browser native promises\n   */\n  public reject(value?: any) {\n    if (this._state === PromiseState.Pending) {\n      this._value = value;\n      try {\n        this._state = PromiseState.Rejected;\n        this._rejectCallback.call(this, this._value);\n      } catch (e) {\n        this._handleError(e);\n      }\n    } else {\n      throw new Error('Cannot reject a promise that is not in a pending state!');\n    }\n    return this;\n  }\n\n  /**\n   * Inspect the current state of a promise\n   * @deprecated Use browser native promises\n   */\n  public state(): PromiseState {\n    return this._state;\n  }\n\n  private _handleError(e: any) {\n    if (this._errorCallback) {\n      this._errorCallback.call(this, e);\n    } else {\n      // rethrow error\n      throw e;\n    }\n  }\n}\n","/**\n * The current Excalibur version string\n * @description `process.env.__EX_VERSION` gets replaced by Webpack on build\n */\nexport const EX_VERSION = process.env.__EX_VERSION;\nimport { polyfill } from './Polyfill';\npolyfill();\n\n// This file is used as the bundle entry point and exports everything\n// that will be exposed as the `ex` global variable.\nexport * from './Flags';\nexport * from './Engine';\nexport * from './Screen';\nexport { Actor, ActorArgs } from './Actor';\nexport { CollisionType } from './Collision/CollisionType';\nexport * from './Algebra';\nexport * from './Camera';\nexport * from './Class';\nexport * from './Configurable';\nexport * from './Debug';\nexport * from './EventDispatcher';\nexport * from './Events/MediaEvents';\nexport * from './Events';\nexport { Label } from './Label';\nexport { FontStyle, FontUnit, TextAlign, BaseAlign } from './Graphics/FontCommon';\nexport * from './Loader';\nexport { Particle, ParticleEmitter, ParticleArgs, ParticleEmitterArgs, EmitterType } from './Particles';\nexport * from './Physics';\nexport * from './Scene';\nexport { TileMap, Cell, TileMapArgs, CellArgs } from './TileMap';\nexport * from './Timer';\nexport * from './Trigger';\nexport * from './ScreenElement';\n\nexport * from './Actions/Index';\nexport * from './Collision/Index';\nexport * from './Drawing/Index';\nexport * from './Interfaces/Index';\nexport * from './Math/Index';\nexport * from './PostProcessing/Index';\nexport * from './Resources/Index';\n\nexport * from './EntityComponentSystem/index';\n\n// ex.Graphics namespace\nimport * as graphics from './Graphics/index';\nexport { graphics as Graphics };\n\n// ex.Events namespace\nimport * as events from './Events';\nexport { events as Events };\n\n// ex.Input namespace\nimport * as input from './Input/Index';\nexport { input as Input };\n\n// ex.Traits namespace\nimport * as traits from './Traits/Index';\nexport { traits as Traits };\n\n// ex.Util namespaces\nimport * as util from './Util/Index';\nexport { util as Util };\n\nexport * from './Util/Browser';\nexport * from './Util/Decorators';\nexport * from './Util/Detector';\nexport * from './Util/CullingBox';\nexport * from './Util/EasingFunctions';\nexport * from './Util/Log';\nexport * from './Util/SortedList';\nexport * from './Util/Pool';\n\n// ex.Deprecated\nexport * from './Promises';\n// import * as deprecated from './Deprecated';\n// export { deprecated as Deprecated };\n// export * from './Deprecated';\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return obj instanceof Function;\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      this.__state.space = 'HEX';\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","import { Graphics, Sound } from \"excalibur\";\nimport sword from \"./images/sword.png\";\nimport dirt from \"./images/dirt_001.png\";\nimport dirtBackground from \"./images/dirt_back.png\";\nimport dirtTunnel from \"./images/dirt_tunnel.png\";\nimport dirtSide from \"./images/dirt_side.png\";\nimport dirtAngle from \"./images/dirt_angle.png\";\nimport rock from \"./images/rock_001.png\";\nimport rock2 from \"./images/rock_002.png\";\nimport digWav from \"./sound/dig.wav\";\nimport digMp3 from \"./sound/dig.mp3\";\nimport clankWav from \"./sound/clank.wav\";\nimport clankMp3 from \"./sound/clank.mp3\";\nimport pickupMp3 from \"./sound/getitem.mp3\";\nimport pickupWav from \"./sound/getitem.wav\";\nimport backgroundMp3 from \"./sound/background.mp3\";\nimport backgroundWav from \"./sound/background.wav\";\nimport modal from \"./images/modal.png\";\nimport snek from \"./images/snek.png\";\nimport speedPowerUp from \"./images/energy-drink.png\";\nimport progressMeter from \"./images/meter.png\";\nimport spriteFont from \"./images/spritefont.png\";\nimport avatar from \"./images/meerkat_avatars.png\";\nimport digging from \"./images/digging.png\";\nimport frontFacing from \"./images/meerkat_front-facing.png\";\n\nlet Resources = {\n  Sword: new Graphics.ImageSource(sword),\n  Dirt: new Graphics.ImageSource(dirt),\n  DirtSide: new Graphics.ImageSource(dirtSide),\n  DirtBackground: new Graphics.ImageSource(dirtBackground),\n  DirtTunnel: new Graphics.ImageSource(dirtTunnel),\n  DirtAngle: new Graphics.ImageSource(dirtAngle),\n  Rock: new Graphics.ImageSource(rock),\n  Rock2: new Graphics.ImageSource(rock2),\n  DigSound: new Sound(digMp3, digWav),\n  ClankSound: new Sound(clankMp3, clankWav),\n  PickUpSound: new Sound(pickupMp3, pickupWav),\n  BackgroundMusic: new Sound(backgroundMp3, backgroundWav),\n  Modal: new Graphics.ImageSource(modal),\n  Snek: new Graphics.ImageSource(snek),\n  SpeedPowerUp: new Graphics.ImageSource(speedPowerUp),\n  ProgressMeter: new Graphics.ImageSource(progressMeter),\n  SpriteFont: new Graphics.ImageSource(spriteFont),\n  Avatar: new Graphics.ImageSource(avatar),\n  Digging: new Graphics.ImageSource(digging),\n  FrontFacing: new Graphics.ImageSource(frontFacing),\n};\n\nResources.BackgroundMusic.loop = true;\nResources.BackgroundMusic.volume = 0.1;\nResources.PickUpSound.volume = 0.3;\n\nexport { Resources };\n","export default {\n  TerrainRandomSeed: Math.floor(10000 * Math.random()), //1337,\n  CollectibleRandomSeed: Math.floor(10000 * Math.random()),//7331,\n\n  // Progress meter\n  DistanceToComplete: 200,\n  MeterTilesHigh: 20,\n\n  // Board Layout\n  TileWidth: 64, // pixels\n\n  ChunkWidth: 9, // tiles\n  ChunkHeight: 16, // tiles\n\n  AspectRatio: 9 / 16, // 9:16\n  InvAspectRatio: 1 / (9 / 16),\n\n  DigTime: 200,\n  SpaceMoveDuration: 200,\n  PowerUpSpeedIncreaseFactor: 2,\n  PowerUpDurationSeconds: 2,\n\n  RockDigDelay: 100,\n\n  /**************************\n   * Snek Config\n   **************************/\n  SnekStartingSecondsPerSquare: 5, // seconds per tile\n  SnekAcceleration: 0.05, // seconds per tile when user is further away\n  SnekCatchUpSecondsPerSquare: 0.5,\n  SnekSquaresDistanceBeforeCatchUpSpeed: 10,\n  SnekMinSecondsPerSquare: 250 / 1000,\n  SnekBodyLength: 7, // head is 1 tile, this is the rest\n  SnakeMoveDuration: 100,\n};\n","import { Vector } from \"excalibur\";\ninterface IQueue<T> {\n    enqueue(item: T): void;\n    dequeue(): T | undefined;\n    size(): number;\n}\nclass Queue<T> implements IQueue<T> {\n    protected storage: T[] = [];\n\n    constructor(private capacity: number = Infinity) { }\n\n    enqueue(item: T): void {\n        if (this.size() === this.capacity) {\n            throw Error(\"Queue has reached max capacity, you cannot add more items\");\n        }\n        this.storage.push(item);\n    }\n\n    dequeue(): T | undefined {\n        return this.storage.shift();\n    }\n\n    peekLast(): T | undefined {\n        return this.storage[this.size() - 1];\n    }\n\n    size(): number {\n        return this.storage.length;\n    }\n\n    clear(): void {\n        this.storage = [];\n    }\n}\nexport class PlayerTrail extends Queue<Vector> {\n    static instance: PlayerTrail;\n    private constructor() {\n        super();\n    }\n\n    public static GetInstance(): PlayerTrail {\n        if (!PlayerTrail.instance) {\n            PlayerTrail.instance = new PlayerTrail();\n        }\n        return PlayerTrail.instance;\n    }\n\n    Remove(item: Vector) {\n        this.storage = this.storage.filter((path) => !(path.y === item.y && path.x === item.x));\n    }\n    \n    RemoveLast(){\n        this.storage.pop();\n    }\n\n    Contains(item: Vector): boolean {\n        return this.storage.findIndex((path) => path.x === item.x && path.y === item.y) !== -1;\n    }\n}","import { Cell, Engine, Graphics, Sound, TileMap, Util } from \"excalibur\";\nimport { Resources } from \"./resources\";\nimport config from \"./config\";\nimport { PowerUp, Collectible } from \"./powerup\";\nimport { WeightMap } from \"./weightmap\";\n\ninterface ITerrain {\n  mineable(): Boolean;\n  tag(): string;\n  delay(): number;\n\n  playSound(): void;\n  sprites(): Graphics.Sprite[] | null;\n}\n\nexport class Terrain implements ITerrain {\n  constructor(\n    tag: string,\n    mineable: Boolean,\n    delay: () => number,\n    spriteImages: Graphics.ImageSource[] | null,\n    digSound: Sound | null\n  ) {\n    this.actorTag = tag;\n    this.isMineable = mineable;\n    this.mineDelay = delay;\n    this.spriteImages = spriteImages;\n    this.digSound = digSound;\n    this.blockSprites = null;\n  }\n\n  private actorTag: string;\n  private isMineable: Boolean;\n  private mineDelay: () => number;\n  private digSound: Sound | null;\n  protected spriteImages: Graphics.ImageSource[] | null;\n  protected blockSprites: Graphics.Sprite[] | null;\n\n  playSound() {\n    this.digSound?.play();\n  }\n\n  tag(): string {\n    return this.actorTag;\n  }\n  mineable(): Boolean {\n    return this.isMineable;\n  }\n\n  delay(): number {\n    return this.mineDelay();\n  }\n  sprites(): Graphics.Sprite[] | null {\n    if (this.blockSprites) return this.blockSprites;\n    if (this.spriteImages) {\n      this.blockSprites = this.spriteImages.map((image) => image.toSprite());\n    }\n    return this.blockSprites;\n  }\n\n  static GetTerrain(cell: Cell | null): Terrain {\n    if (!cell) return EmptyTerrain;\n    if (cell.hasTag(EmptyTag)) return EmptyTerrain;\n    else if (cell.hasTag(RockTag)) return RockTerrain;\n    else if (cell.hasTag(DirtTag)) return DirtTerrain;\n    else return EmptyTerrain;\n  }\n\n  static Initialize() {\n    EmptyTerrain = new Terrain(EmptyTag, true, () => 0, null, null);\n    RockTerrain = new Terrain(\n      RockTag,\n      false,\n      () => config.RockDigDelay,\n      [Resources.Rock],\n      Resources.ClankSound\n    );\n    DirtTerrain = new Terrain(\n      DirtTag,\n      true,\n      () => config.DigTime,\n      [Resources.Dirt],\n      Resources.DigSound\n    );\n  }\n}\n\nexport interface TunnelSides {\n  north: boolean;\n  south: boolean;\n  east: boolean;\n  west: boolean;\n}\n\nexport class TunnelTerrain extends Terrain {\n  constructor(private sides: TunnelSides) {\n    super(EmptyTag, true, () => 0, null, null);\n  }\n\n  sprites(): Graphics.Sprite[] | null {\n    if (this.blockSprites) return this.blockSprites;\n\n    this.blockSprites = [];\n\n    if (this.sides.north) {\n      const northEdge = Resources.DirtSide.toSprite();\n      northEdge.rotation = Util.toRadians(180);\n      this.blockSprites.push(northEdge);\n    }\n    if (this.sides.east) {\n      const eastEdge = Resources.DirtSide.toSprite();\n      eastEdge.rotation = Util.toRadians(-90);\n      this.blockSprites.push(eastEdge);\n    }\n    if (this.sides.west) {\n      const westEdge = Resources.DirtSide.toSprite();\n      westEdge.rotation = Util.toRadians(90);\n      this.blockSprites.push(westEdge);\n    }\n    if (this.sides.south) {\n      this.blockSprites.push(Resources.DirtSide.toSprite());\n    }\n\n    return this.blockSprites;\n  }\n}\n\nexport const RockTag = \"rock\";\nexport const DirtTag = \"dirt\";\nexport const EmptyTag = \"empty\";\n\nexport var EmptyTerrain: Terrain;\nexport var RockTerrain: Terrain;\nexport var DirtTerrain: Terrain;\n","import {Scene} from \"excalibur\"\n\nexport class GlobalState {\n  static instance: GlobalState;\n  HasSpeedPowerUp = false;\n\n  private constructor() {}\n  public static GetInstance(): GlobalState {\n    if (!GlobalState.instance) {\n      GlobalState.instance = new GlobalState();\n    }\n    return GlobalState.instance;\n  }\n\n  public GameOver = false;\n}\n","import {\n  Cell,\n  ParticleEmitter,\n  Graphics,\n  Engine,\n  Vector,\n  Color,\n} from \"excalibur\";\nimport config from \"./config\";\n\nexport function digEffect(engine: Engine, tile: Cell, sprite: Graphics.Sprite) {\n  var emitter = new ParticleEmitter(\n    tile.bounds.center.x,\n    tile.bounds.center.y,\n    1,\n    1\n  );\n  emitter.minVel = 30;\n  emitter.maxVel = 125;\n  emitter.minAngle = Math.PI / 4;\n  emitter.maxAngle = (Math.PI * 3) / 4;\n  emitter.isEmitting = false;\n  emitter.emitRate = 5;\n  emitter.opacity = 0.5;\n  emitter.fadeFlag = true;\n  emitter.particleLife = 1000;\n  emitter.maxSize = 0.4;\n  emitter.minSize = 0.2;\n  emitter.acceleration = new Vector(0, 500);\n  emitter.beginColor = Color.Red;\n  emitter.endColor = Color.Yellow;\n  emitter.startSize = 0.5;\n  emitter.endSize = 0.01;\n  emitter.particleSprite = Graphics.Sprite.toLegacySprite(sprite);\n  emitter.particleRotationalVelocity = Math.PI / 10;\n  emitter.randomRotation = true;\n  emitter.fadeFlag = true;\n  emitter.focus = new Vector(0, emitter.pos.y + 1000); // relative to the emitter\n  emitter.focusAccel = 900;\n\n  engine.add(emitter);\n\n  emitter.emitParticles(5);\n  emitter.actions.moveTo(emitter.pos.x + 3, emitter.pos.y + 1, 1).die();\n}\n","import {\n  Actor,\n  Color,\n  EasingFunctions,\n  Engine,\n  Side,\n  vec,\n  Vector,\n  Util,\n  Input,\n  RotationType,\n  Traits,\n  Timer,\n  Graphics,\n} from \"excalibur\";\nimport { Level } from \"./level\";\nimport { Resources } from \"./resources\";\nimport config from \"./config\";\nimport { PlayerTrail } from \"./playerTrail\";\nimport { EmptyTag, Terrain } from \"./terrain\";\nimport { GlobalState } from \"./globalState\";\nimport { digEffect } from \"./effects\";\n\nexport class Player extends Actor {\n  private trail: PlayerTrail = PlayerTrail.GetInstance();\n  private state: GlobalState = GlobalState.GetInstance();\n  private moving = false;\n  private pointerHeld = false;\n  private pointerScreenPos = vec(0, 0);\n  private engine!: Engine;\n  private digSprite: Graphics.Sprite = Resources.Rock2.toSprite();\n\n  private startAngle = Math.PI / 2;\n  private frontFacing!: Graphics.Sprite;\n  private digAnimation!: Graphics.Animation;\n\n  constructor(public level: Level) {\n    super({\n      pos: vec(\n        config.TileWidth * 5 - config.TileWidth / 2,\n        config.TileWidth * 5 - config.TileWidth / 2\n      ),\n      width: config.TileWidth,\n      height: config.TileWidth,\n    });\n\n    this.z = 10;\n    this.rotation = 0; // Math.PI;// Math.PI / 2 + Math.PI / 4;\n    this.traits = this.traits.filter(\n      (t) => !(t instanceof Traits.TileMapCollisionDetection)\n    );\n  }\n\n  onInitialize(engine: Engine) {\n    this.frontFacing = Resources.FrontFacing.toSprite();\n    this.graphics.add(this.frontFacing);\n\n    const spriteSheet = Graphics.SpriteSheet.fromGrid({\n      image: Resources.Digging,\n      grid: {\n        spriteWidth: 64,\n        spriteHeight: 64,\n        rows: 1,\n        columns: 4,\n      },\n    });\n\n    const anim = Graphics.Animation.fromSpriteSheet(\n      spriteSheet,\n      [0, 1, 2, 3],\n      100,\n      Graphics.AnimationStrategy.PingPong\n    );\n    anim.rotation = Math.PI;\n    this.digAnimation = anim;\n\n    this.engine = engine;\n    engine.input.keyboard.on(\"hold\", (evt) => {\n      if (this.state.GameOver) return;\n      let dir = Vector.Down;\n      switch (evt.key) {\n        case Input.Keys.A:\n        case Input.Keys.Left:\n          dir = Vector.Left;\n          break;\n        case Input.Keys.D:\n        case Input.Keys.Right:\n          dir = Vector.Right;\n          break;\n        case Input.Keys.S:\n        case Input.Keys.Down:\n          dir = Vector.Down;\n          break;\n        case Input.Keys.W:\n        case Input.Keys.Up:\n          dir = Vector.Up;\n          break;\n        default:\n          return;\n      }\n\n      this.moveToNearestTile(this.pos.add(dir.scale(config.TileWidth)));\n    });\n\n    engine.input.pointers.primary.on(\"down\", (evt) => {\n      if (this.state.GameOver) return;\n      this.pointerHeld = true;\n      this.pointerScreenPos = evt.screenPos;\n    });\n\n    engine.input.pointers.primary.on(\"move\", (evt) => {\n      this.pointerScreenPos = evt.screenPos;\n    });\n\n    engine.input.pointers.primary.on(\"up\", (evt) => {\n      this.pointerHeld = false;\n    });\n  }\n\n  bestDirection(dir: Vector): Vector {\n    // Handle ambigous down cases between\n    const angle = Math.atan2(dir.y, dir.x);\n    if (angle < Math.PI - Math.PI / 16 && angle > Math.PI / 16) {\n      dir = Vector.Down;\n    }\n\n    const cardinal = [Vector.Up, Vector.Down, Vector.Left, Vector.Right];\n    let bestDir = Vector.Down;\n    let mostDir = -Number.MAX_VALUE;\n\n    for (let card of cardinal) {\n      let currDir = dir.dot(card);\n      if (currDir > mostDir) {\n        mostDir = currDir;\n        bestDir = card;\n      }\n    }\n    return bestDir;\n  }\n\n  onPreUpdate() {\n    if (this.vel.size !== 0) {\n      this.rotation = Math.atan2(this.vel.y, this.vel.x) + this.startAngle; // + Math.PI ; /* + Math.PI / 4*/;\n      this.graphics.use(this.digAnimation);\n    }\n\n    if (this.pointerHeld) {\n      if (this.state.GameOver) return;\n      // Find the best cardinal\n      let actorScreenPos = this.engine.screen.worldToScreenCoordinates(\n        this.pos\n      );\n      let dir = this.pointerScreenPos.sub(actorScreenPos).normalize();\n      let bestDir = this.bestDirection(dir);\n\n      this.moveToNearestTile(this.pos.add(bestDir.scale(config.TileWidth)));\n    }\n  }\n\n  isValidMove(posX: number, posY: number) {\n    const tileX = Math.floor(posX / config.TileWidth);\n    const tileY = Math.floor(posY / config.TileWidth);\n\n    const playerTileX = Math.floor(this.pos.x / config.TileWidth);\n    const playerTileY = Math.floor(this.pos.y / config.TileWidth);\n\n    const distX = Math.abs(playerTileX - tileX);\n    const distY = Math.abs(playerTileY - tileY);\n\n    let isDistanceOne = Math.sqrt(distX * distX + distY * distY) === 1;\n    let tile = this.level.getTile(posX, posY);\n    return isDistanceOne && !!tile;\n  }\n\n  moveToNearestTile(worldPos: Vector) {\n    this.graphics.use(this.digAnimation);\n    const tileX = Math.floor(worldPos.x / config.TileWidth);\n    const tileY = Math.floor(worldPos.y / config.TileWidth);\n\n    const validMove = this.isValidMove(worldPos.x, worldPos.y);\n    const movementBonus = this.state.HasSpeedPowerUp\n      ? config.PowerUpSpeedIncreaseFactor\n      : 1;\n\n    if (validMove) {\n      // if you are moving we wait otherwise weird things happen and players can make invalid moves\n      if (!this.moving) {\n        this.moving = true;\n      } else {\n        return;\n      }\n\n      // TODO play digging animation\n\n      const tile = this.level.getTile(worldPos.x, worldPos.y);\n\n      this.actions.rotateTo(\n        Math.atan2(worldPos.y - this.pos.y, worldPos.x - this.pos.x) +\n          this.startAngle,\n        100,\n        RotationType.ShortestPath\n      );\n\n      if (tile) {\n        var terrain = Terrain.GetTerrain(tile);\n        let digDelay = terrain.delay() / movementBonus;\n        terrain.playSound();\n        if (!terrain.mineable()) {\n          this.actions.delay(digDelay).callMethod(() => {\n            this.moving = false;\n          });\n          return;\n        } else {\n          digEffect(this.engine, tile, this.digSprite);\n          this.actions.delay(digDelay).callMethod(() => {\n            this.level.finishDig(worldPos.x, worldPos.y);\n          });\n        }\n\n        this.actions\n          .easeTo(\n            tileX * config.TileWidth + config.TileWidth / 2,\n            tileY * config.TileWidth + config.TileWidth / 2,\n            config.SpaceMoveDuration / movementBonus,\n            EasingFunctions.EaseInOutCubic\n          )\n          .callMethod(() => {\n            this.moving = false;\n            if (!this.trail.Contains(this.pos.clone())) {\n              this.trail.enqueue(this.pos.clone());\n            } else {\n              this.trail.RemoveLast();\n            }\n          });\n      }\n    }\n  }\n}\n","export module Every {\n  export abstract class Interval {\n    protected internalTimer: number = 0;\n    constructor(protected action: Function, protected interval: number) { }\n\n    public Update(delta: number) {\n      this.internalTimer += delta;\n      if (this.internalTimer >= this.interval) {\n        this.action();\n        this.internalTimer = 0;\n      }\n    }\n    public UpdateInterval(newInterval: number){\n      this.interval = newInterval;\n    }\n  }\n\n  export class Minute extends Interval {\n    \n    constructor(action: Function, minutes: number) { \n      super(action, minutes * 60 * 1000);\n    }\n    public UpdateInterval(minutes: number){\n      super.UpdateInterval(minutes * 60 * 1000);\n    }\n  }\n\n  export class Second extends Interval {\n    constructor(action: Function, seconds: number) { \n      super(action, seconds * 1000);\n    }\n    public UpdateInterval(seconds: number) {\n      super.UpdateInterval(seconds * 1000);\n    }\n  }\n\n  export class MiliSecond extends Interval{\n    constructor(action: Function, milis: number) { \n      super(action, milis);\n    }\n  }\n}","import {\n  Actor,\n  EasingFunctions,\n  Engine,\n  Graphics,\n  vec,\n  Vector,\n  Traits,\n} from \"excalibur\";\nimport { Level } from \"./level\";\nimport { Resources } from \"./resources\";\nimport config from \"./config\";\nimport { PlayerTrail } from \"./playerTrail\";\nimport { Every } from \"./every\";\nexport class Snek extends Actor {\n  private playerTrail: PlayerTrail = PlayerTrail.GetInstance();\n  private snekCurrentSecondsPerSquare: number =\n    config.SnekStartingSecondsPerSquare;\n  private snekCalculatedSecondsPerSquare: number =\n    config.SnekStartingSecondsPerSquare;\n  private moving: Boolean = false;\n\n  private snekBody: Actor[] = [];\n\n  private moveSnekTimer = new Every.Second(() => {\n    this.moveSnek();\n  }, config.SnekStartingSecondsPerSquare);\n  private updateSnekTimer = new Every.Second(() => {\n    this.updateSnekSpeed();\n  }, 1);\n\n  private updateFunctions: Every.Interval[] = [\n    this.moveSnekTimer,\n    this.updateSnekTimer,\n  ];\n\n  private spritesheet = Graphics.SpriteSheet.fromGrid({\n    image: Resources.Snek,\n    grid: {\n      rows: 1,\n      columns: 8,\n      spriteHeight: 64,\n      spriteWidth: 64,\n    },\n  });\n\n  constructor(public level: Level) {\n    super({\n      pos: vec(0, config.TileWidth * 5 - config.TileWidth / 2),\n      width: config.TileWidth,\n      height: config.TileWidth,\n    });\n    this.z = 11;\n    this.traits = this.traits.filter(\n      (t) => !(t instanceof Traits.TileMapCollisionDetection)\n    );\n  }\n\n  onInitialize(engine: Engine) {\n    this.graphics.add(this.spritesheet.sprites[config.SnekBodyLength]);\n    this.createSnekBody();\n  }\n\n  onPreUpdate(_engine: Engine, _delta: number): void {\n    if (this.vel.size !== 0) {\n      this.rotation = Math.atan2(this.vel.y, this.vel.x);\n    }\n\n    this.moveSnekTimer.UpdateInterval(this.snekCurrentSecondsPerSquare);\n\n    this.updateFunctions.forEach((fun) => fun.Update(_delta));\n  }\n\n  updateSnekSpeed() {\n    this.snekCalculatedSecondsPerSquare -= config.SnekAcceleration;\n    const playerPos = this.playerTrail.peekLast();\n    if (!!playerPos) {\n      const distX = Math.abs(playerPos.x - this.pos.x);\n      const distY = Math.abs(playerPos.y - this.pos.y);\n      const distance = Math.sqrt(distX * distX + distY * distY);\n      if (distance >= config.SnekSquaresDistanceBeforeCatchUpSpeed) {\n        this.snekCurrentSecondsPerSquare = Math.min(\n          config.SnekCatchUpSecondsPerSquare,\n          this.snekCalculatedSecondsPerSquare\n        );\n      }\n    }\n    if (this.snekCurrentSecondsPerSquare <= config.SnekMinSecondsPerSquare) {\n      this.snekCurrentSecondsPerSquare = config.SnekMinSecondsPerSquare;\n    }\n  }\n\n  moveSnek() {\n    if (this.moving) {\n      return;\n    }\n    const place = this.playerTrail.dequeue();\n    if (!place) {\n      return;\n    }\n    const currentTileX = Math.floor(this.pos.x / config.TileWidth);\n    const currentTileY = Math.floor(this.pos.y / config.TileWidth);\n\n    this.moving = true;\n    const tileX = Math.floor(place.x / config.TileWidth);\n    const tileY = Math.floor(place.y / config.TileWidth);\n\n    this.actions\n      .easeTo(\n        tileX * config.TileWidth + config.TileWidth / 2,\n        tileY * config.TileWidth + config.TileWidth / 2,\n        config.SnakeMoveDuration,\n        EasingFunctions.EaseInOutCubic\n      )\n      .callMethod(() => {\n        this.moving = false;\n      });\n\n    this.moveSnekBody(currentTileX, currentTileY);\n  }\n\n  createSnekBody() {\n    for (let i = 0; i < config.SnekBodyLength; i++) {\n      const bodySegment = new Actor({\n        x: this.pos.x - (i + 1) * config.TileWidth,\n        y: this.pos.y,\n        width: config.TileWidth,\n        height: config.TileWidth,\n      });\n      bodySegment.traits = bodySegment.traits.filter(\n        (t) => !(t instanceof Traits.TileMapCollisionDetection)\n      );\n      bodySegment.graphics.add(\n        this.spritesheet.sprites[config.SnekBodyLength - (i + 1)]\n      );\n      bodySegment.onPreUpdate = () => {\n        const first = i === 0;\n        const last = i === config.SnekBodyLength - 1;\n        if (bodySegment.vel.size !== 0) {\n          var prior: Actor; // Towards the head\n          var next: Actor; // Towards the tail\n          if (first) {\n            prior = this; // Snake head\n            next = this.snekBody[1];\n          } else if (last) {\n            prior = this.snekBody[i - 1];\n            next = bodySegment;\n          } else {\n            prior = this.snekBody[i - 1];\n            next = this.snekBody[i + 1];\n          }\n          bodySegment.rotation = Math.atan2(\n            prior.pos.y - next.pos.y,\n            prior.pos.x - next.pos.x\n          );\n        }\n      };\n\n      this.snekBody.push(bodySegment);\n      this.scene.add(bodySegment);\n    }\n  }\n\n  moveSnekBody(prevHeadX: number, prevHeadY: number) {\n    const snekBodyLocations: Vector[] = this.getSnekBodyLocations();\n\n    // move the first body segment to where the head just was\n    this.snekBody[0].actions.easeTo(\n      prevHeadX * config.TileWidth + config.TileWidth / 2,\n      prevHeadY * config.TileWidth + config.TileWidth / 2,\n      config.SnakeMoveDuration,\n      EasingFunctions.EaseInOutCubic\n    );\n\n    // move each remaining segment to the position that the one ahead of it was occupying\n    for (let i = 1; i < this.snekBody.length; i++) {\n      this.snekBody[i].actions.easeTo(\n        snekBodyLocations[i - 1].x * config.TileWidth + config.TileWidth / 2,\n        snekBodyLocations[i - 1].y * config.TileWidth + config.TileWidth / 2,\n        config.SnakeMoveDuration,\n        EasingFunctions.EaseInOutCubic\n      );\n    }\n  }\n\n  getSnekBodyLocations() {\n    const locations: Vector[] = [];\n    for (let i = 0; i < this.snekBody.length; i++) {\n      const bodySegment = this.snekBody[i];\n      const location = new Vector(\n        Math.floor(bodySegment.pos.x / config.TileWidth),\n        Math.floor(bodySegment.pos.y / config.TileWidth)\n      );\n      locations[i] = location;\n    }\n    console.log({ locations });\n    return locations;\n  }\n}\n","import {\n  Actor,\n  ActorArgs,\n  Graphics,\n  vec,\n  Color,\n  Traits,\n  CoordPlane,\n  ScreenElement,\n} from \"excalibur\";\nimport { Resources } from \"./resources\";\n\nexport interface DialogCardOptions {\n  topPadding?: number;\n}\nexport class DialogCard extends ScreenElement {\n  private topPadding: number;\n\n  constructor(private text: string[], options: ActorArgs & DialogCardOptions) {\n    super({ ...options, width: 837, height: 480 });\n    this.topPadding = options.topPadding || 0;\n    this.traits = this.traits.filter(\n      (t) => !(t instanceof Traits.TileMapCollisionDetection)\n    );\n    this.transform.coordPlane = CoordPlane.Screen;\n  }\n\n  onInitialize() {\n    let graphicsMember: Graphics.GraphicsGrouping[] = [];\n    graphicsMember.push({\n      graphic: Graphics.Sprite.from(Resources.Modal),\n      pos: vec(0, 0),\n    });\n    for (let index = 0; index < this.text.length; index++) {\n      graphicsMember.push({\n        graphic: new Graphics.Text({\n          text: this.text[index],\n          color: Color.White,\n          font: new Graphics.Font({\n            family: \"Century, Georgia, serif\",\n            size: 36,\n            textAlign: Graphics.TextAlign.Center,\n          }),\n        } as any),\n        pos: vec(\n          this.width / 2,\n          this.height * ((index + 1) / (this.text.length + 1)) + this.topPadding\n        ),\n      });\n    }\n    const group = new Graphics.GraphicsGroup({\n      members: graphicsMember,\n    });\n    group.width = this.width;\n    group.height = this.height;\n    this.graphics.add(group);\n  }\n}\n","import {\n  Actor,\n  CollisionType,\n  Color,\n  EasingFunctions,\n  Engine,\n  Graphics,\n  vec,\n  ExitTriggerEvent,\n  Traits,\n  CoordPlane,\n  Vector,\n  ScreenElement,\n} from \"excalibur\";\nimport { DialogCard } from \"./dialogueCard\";\nimport config from \"./config\";\nimport { Resources } from \"./resources\";\nimport { Level } from \"./level\";\nexport class GameOver extends ScreenElement {\n  private card!: DialogCard;\n  private backShadow!: Graphics.Rectangle;\n  private backShadowLayer!: Graphics.GraphicsLayer;\n\n  constructor(public gameWidth: number, public gameHeight: number) {\n    super(gameWidth / 2, gameHeight / 2, 0, 0);\n    this.transform.coordPlane = CoordPlane.Screen;\n    this.traits = this.traits.filter(\n      (t) => !(t instanceof Traits.TileMapCollisionDetection)\n    );\n    this.anchor = vec(0.5, 0.5);\n  }\n\n  onInitialize(engine: Engine) {\n    this.backShadow = new Graphics.Rectangle({\n      width: this.gameWidth * 2,\n      height: this.gameHeight * 2,\n      color: Color.fromRGB(51, 51, 51, 0.5),\n    });\n    this.graphics.anchor = vec(0.5, 0.5);\n    this.backShadowLayer = this.graphics.layers.create({\n      name: \"backshadow\",\n      order: 1,\n      // offset: vec(-this.width/2, -this.gameHeight/2),\n    });\n  }\n\n  public updateEndScreen() {\n    const cardPos = vec(this.pos.x, this.pos.y);\n    let text = \"Press 'R' to reset.\";\n    this.card = new DialogCard([text], {\n      pos: cardPos,\n      topPadding: 30,\n    });\n    this.card.transform.coordPlane = CoordPlane.Screen;\n    this.scene.add(this.card);\n    this.card.z = 100;\n    this.z = 100;\n  }\n\n  show() {\n    this.backShadowLayer.show(this.backShadow);\n    this.card.actions.easeTo(\n      this.gameWidth / 2,\n      this.gameHeight / 3,\n      500,\n      EasingFunctions.EaseInOutCubic\n    );\n  }\n\n  hide() {\n    this.backShadowLayer.hide();\n    this.card.actions.easeTo(\n      this.gameWidth / 2,\n      this.gameHeight * 2,\n      500,\n      EasingFunctions.EaseInOutCubic\n    );\n  }\n}\n","import { Timer, Scene, Actor, Engine, Vector, Graphics } from \"excalibur\";\nimport { Player } from \"./player\";\nimport config from \"./config\";\n\nexport abstract class Collectible {\n  sprite!: Graphics.Sprite;\n  name!: string;\n\n  constructor(sprite: Graphics.Sprite, name: string) {\n    this.sprite = sprite;\n    this.name = name;\n  }\n}\n\nexport class PowerUp extends Collectible {\n  constructor(\n    sprite: Graphics.Sprite,\n    name: string,\n    private powerUpTimer: PowerUpTimer\n  ) {\n    super(sprite, name);\n  }\n\n  apply() {\n    this.powerUpTimer.addPowerUp();\n  }\n}\n\nexport class PowerUpTimer {\n  private timer!: Timer;\n  private _timeRemaining: number = 0;\n  private _enabled = false;\n  private _outerDisabled: () => void;\n  constructor(\n    private scene: Scene,\n    private onEnable: () => void,\n    private onDisable: () => void,\n    private durationSeconds: number\n  ) {\n    this.timer = new Timer({ interval: this.durationSeconds * 1000 });\n    this.scene.addTimer(this.timer);\n    this._outerDisabled = this.disable.bind(this);\n  }\n\n  private disable() {\n    this.onDisable();\n    this._enabled = false;\n    this.timer.off(this._outerDisabled);\n  }\n\n  enabled(): Boolean {\n    return this._enabled;\n  }\n  // ensures that powerUp bonuses will stack.\n  // i.e. if you have two seconds left and pick up another one,\n  // you have seven seconds left.\n  addPowerUp() {\n    this.timer.pause();\n    this.timer.reset();\n    this._timeRemaining = this.timeRemaining() + this.durationSeconds;\n    this.onEnable();\n    this._enabled = true;\n    this.timer.on(this._outerDisabled);\n    this.timer.unpause();\n  }\n\n  timeRemaining(): number {\n    let timeRemaining = this._timeRemaining - this.timer.getTimeRunning();\n    return timeRemaining < 0 ? 0 : timeRemaining;\n  }\n}\n","import config from \"./config\";\nimport { Level } from \"level\";\nimport { TileMap } from \"excalibur\";\nimport { Resources } from \"./resources\";\n\nexport class Background {\n  parallaxFactor = 0.25;\n  backgrounds: TileMap[] = [];\n  lastChunkId = 0;\n  useTop = true;\n\n  constructor(level: Level) {\n    const backgroundSprite = Resources.DirtBackground.toSprite();\n    const top = new TileMap({\n      x: 0,\n      y: config.TileWidth * 5,\n      rows: config.ChunkHeight,\n      cols: config.ChunkWidth,\n      cellWidth: config.TileWidth,\n      cellHeight: config.TileWidth,\n    });\n    top.z = -1;\n    top.data.forEach((c) => {\n      c.addSprite(backgroundSprite);\n    });\n\n    const bottom = new TileMap({\n      x: 0,\n      y: config.TileWidth * (5 + config.ChunkHeight),\n      rows: config.ChunkHeight,\n      cols: config.ChunkWidth,\n      cellWidth: config.TileWidth,\n      cellHeight: config.TileWidth,\n    });\n    bottom.z = -1;\n    bottom.data.forEach((c) => {\n      c.addSprite(backgroundSprite);\n    });\n\n    level.add(top);\n    level.add(bottom);\n\n    this.backgrounds = [top, bottom];\n  }\n\n  setCurrentChunkId(id: number) {\n    const startOffset = config.TileWidth * 5;\n    if (id < 0) {\n      return;\n    }\n\n    if (id % 2 === 0) {\n      const first = this.backgrounds[0];\n      first.y = id * (config.TileWidth * config.ChunkHeight) + startOffset;\n    } else {\n      const second = this.backgrounds[1];\n      second.y = id * (config.TileWidth * config.ChunkHeight) + startOffset;\n    }\n\n    this.lastChunkId = id;\n  }\n}\n","import {Random} from \"excalibur\"\n\nclass WeightPair<T> {\n    constructor(weight: number, obj: T | null) {\n      this.weight = weight;\n      this.obj = obj;\n    }\n    weight: number;\n    obj: T | null;\n  }\n  export class WeightMap<T> {\n    total: number = 0;\n    pairs: WeightPair<T>[] = [];\n    random: Random;\n  \n    constructor(random: Random) {\n      this.random = random;\n    }\n  \n    add(weight: number, obj: T | null) {\n      this.total += weight;\n      this.pairs.push(new WeightPair<T>(weight, obj));\n    }\n  \n    randomSelect(defObj: T | null): T | null {\n      const roll = this.random.next() * this.total;\n      var total = 0;\n      var obj: T | null = null;\n      this.pairs.forEach((a) => {\n        if (obj) return;\n        if (roll - total <= a.weight) {\n          obj = a.obj;\n        }\n        total += a.weight;\n      });\n      return obj ?? defObj;\n    }\n  }","import config from \"./config\";\nimport { Graphics, ScreenElement, Util, vec } from \"excalibur\";\nimport { Resources } from \"./resources\";\n\nexport class ProgressMeter extends ScreenElement {\n  totalDistance = config.DistanceToComplete; // tiles\n  progress = 0; // tiles;\n  meterStart!: Graphics.Sprite;\n  meterFill!: Graphics.Sprite;\n  meterFillCap!: Graphics.Sprite;\n  meterEmpty!: Graphics.Sprite;\n  meterEnd!: Graphics.Sprite;\n  meterEndFill!: Graphics.Sprite;\n\n  spriteFont!: Graphics.SpriteFont;\n  text!: Graphics.Text;\n  avatar!: Graphics.Sprite;\n\n  constructor() {\n    super({\n      pos: vec(24, 48),\n    });\n    this.z = 100;\n  }\n\n  onInitialize() {\n    this.avatar = Resources.Avatar.toSprite();\n    const spriteSheet = Graphics.SpriteSheet.fromGrid({\n      image: Resources.ProgressMeter,\n      grid: {\n        spriteHeight: 8,\n        spriteWidth: 32,\n        rows: 8,\n        columns: 1,\n      },\n    });\n\n    const spriteFontSheet = Graphics.SpriteSheet.fromGrid({\n      image: Resources.SpriteFont,\n      grid: {\n        spriteWidth: 16,\n        spriteHeight: 16,\n        rows: 3,\n        columns: 16,\n      },\n    });\n\n    this.spriteFont = new Graphics.SpriteFont({\n      spriteSheet: spriteFontSheet,\n      alphabet: \"0123456789abcdefghijklmnopqrstuvwxyz,!'&.\\\"?- \",\n      caseInsensitive: true,\n      spacing: -8,\n    });\n\n    this.text = new Graphics.Text({\n      text: ((this.progress / this.totalDistance) * 100).toFixed(1) + \"M\",\n      font: this.spriteFont,\n    });\n    // this.text.rotation = Math.PI/2;\n    this.text.scale = vec(1.5, 1.5);\n\n    this.meterStart = spriteSheet.sprites[0];\n    this.meterFill = spriteSheet.sprites[1];\n    this.meterFillCap = spriteSheet.sprites[2];\n    this.meterEmpty = spriteSheet.sprites[3];\n    this.meterEndFill = spriteSheet.sprites[6];\n    this.meterEnd = spriteSheet.sprites[7];\n\n    this.buildMeterGraphics();\n  }\n\n  updateProgress(currentProgress: number) {\n    this.progress = Util.clamp(currentProgress, 0, this.totalDistance);\n    this.text.text =\n      ((this.progress / this.totalDistance) * 100).toFixed(1) + \"M\";\n  }\n\n  onPreUpdate() {\n    this.buildMeterGraphics();\n  }\n\n  buildMeterGraphics() {\n    let tileHeight = 8; // pixels\n    let totalTiles = config.MeterTilesHigh;\n\n    // init\n    let currentTile = 0;\n    this.graphics.hide();\n\n    // Show avatar portrait\n    this.graphics.show(this.avatar, {\n      offset: vec(48 + tileHeight, tileHeight * 4),\n    });\n\n    // Show sprite font text\n    this.graphics.show(\n      this.text,\n      { offset: vec(5, -32) }\n      // { offset: vec(-112, 90) }\n    );\n\n    // Show start cap\n    this.graphics.show(this.meterStart, {\n      offset: vec(0, tileHeight * currentTile++),\n    });\n\n    // Show progress fill\n    let progressTiles = Math.floor(\n      (this.progress / this.totalDistance) * totalTiles\n    ); // total tiles high\n    let complete = progressTiles === totalTiles; // total tiles\n\n    for (let i = 0; i < progressTiles; i++) {\n      this.graphics.show(this.meterFill, {\n        offset: vec(0, tileHeight * currentTile++),\n      });\n    }\n\n    // Show progress fill cap if not complete\n    if (!complete) {\n      this.graphics.show(this.meterFillCap, {\n        offset: vec(0, tileHeight * currentTile++),\n      });\n\n      // Show empty portion of the meter\n      const emptyTiles = totalTiles - currentTile - 1; // -1 for endcap\n      for (let i = 0; i < emptyTiles; i++) {\n        this.graphics.show(this.meterEmpty, {\n          offset: vec(0, tileHeight * currentTile++),\n        });\n      }\n    }\n\n    // Show endcap\n    this.graphics.show(complete ? this.meterEndFill : this.meterEnd, {\n      offset: vec(0, tileHeight * currentTile++),\n    });\n  }\n}\n","import {\n  Cell,\n  ElasticToActorStrategy,\n  Engine,\n  Random,\n  Scene,\n  TileMap,\n  Color,\n  Graphics,\n} from \"excalibur\";\nimport { Player } from \"./player\";\nimport config from \"./config\";\nimport { Resources } from \"./resources\";\nimport { Snek } from \"./snek\";\nimport { GameOver } from \"./gameOver\";\nimport { PowerUpTimer, PowerUp, Collectible } from \"./powerup\";\nimport {\n  DirtTerrain,\n  EmptyTerrain,\n  RockTerrain,\n  Terrain,\n  EmptyTag,\n  TunnelTerrain,\n  TunnelSides,\n} from \"./terrain\";\nimport { GlobalState } from \"./globalState\";\nimport { Background } from \"./background\";\nimport { WeightMap } from \"./weightmap\";\nimport { ProgressMeter } from \"./progress-meter\";\n\nexport class Level extends Scene {\n  start = 5; // tiles down\n  chunkWidth = config.ChunkWidth;\n  chunkHeight = config.ChunkHeight; // full screen\n  terrainRandom = new Random(config.TerrainRandomSeed);\n  collectibleRandom = new Random(config.CollectibleRandomSeed);\n  terrainWeightMap: WeightMap<Terrain> = new WeightMap(this.terrainRandom);\n  collectibleWeightMap: WeightMap<Collectible> = new WeightMap(\n    this.collectibleRandom\n  );\n\n  onScreenChunkId = 0;\n  previousChunk: TileMap | null = null;\n  currentChunk: TileMap | null = null;\n\n  background!: Background;\n\n  player: Player | null = null;\n  snek: Snek | null = null;\n\n  progressMeter: ProgressMeter | null = null;\n\n  gameOver: GameOver | null = null;\n\n  chunks: TileMap[] = [];\n\n  state: GlobalState = GlobalState.GetInstance();\n  speedPowerUp!: PowerUp;\n\n  onInitialize(engine: Engine) {\n    // engine.input.keyboard.on('press', (evt) => {\n    //     if (evt.key === Input.Keys.L) {\n    //         this.gameOver?.updateEndScreen();\n    //         this.gameOver?.show();\n    //         this.state.GameOver = true;\n    //     }\n    // });\n\n    Terrain.Initialize();\n\n    let speedPowerUpTimer = new PowerUpTimer(\n      this,\n      () => {\n        this.state.HasSpeedPowerUp = true;\n      },\n      () => {\n        this.state.HasSpeedPowerUp = false;\n      },\n      config.PowerUpDurationSeconds\n    );\n\n    this.player = new Player(this);\n    this.snek = new Snek(this);\n    this.gameOver = new GameOver(engine.drawWidth, engine.drawHeight);\n    this.progressMeter = new ProgressMeter();\n\n    this.add(this.player);\n    this.add(this.snek);\n    this.add(this.gameOver);\n    this.add(this.progressMeter);\n\n    this.camera.addStrategy(new ElasticToActorStrategy(this.player, 0.2, 0.2));\n    this.camera.on(\"postupdate\", (e) => {\n      this.camera.pos.x = this.camera.viewport.width / 2;\n    });\n\n    this.background = new Background(this);\n\n    this.buildTerrainWeightMap();\n    this.buildCollectibleWeightMap(speedPowerUpTimer);\n    const tileMap = this.generateChunk(config.TileWidth * this.start);\n    this.setCellToTerrain(tileMap.getCellByIndex(4), DirtTerrain); // Make sure the player entry is always allowed.\n\n    this.previousChunk = null;\n    this.add((this.currentChunk = tileMap));\n    this.chunks.push(this.currentChunk);\n  }\n\n  buildTerrainWeightMap(): void {\n    this.terrainWeightMap.add(20, RockTerrain);\n    this.terrainWeightMap.add(80, DirtTerrain);\n  }\n\n  buildCollectibleWeightMap(speedPowerUpTimer: PowerUpTimer): void {\n    let speedPowerUpSprite = Resources.SpeedPowerUp.toSprite();\n    this.speedPowerUp = new PowerUp(\n      speedPowerUpSprite,\n      \"speedPowerUp\",\n      speedPowerUpTimer\n    );\n    this.collectibleWeightMap.add(1, this.speedPowerUp);\n    this.collectibleWeightMap.add(99, null);\n  }\n\n  onPostUpdate() {\n    if (this.currentChunk && this.player) {\n      if (\n        this.camera.pos.y >\n        this.currentChunk.y + (config.TileWidth * config.ChunkHeight) / 2\n      ) {\n        this.loadNextChunk();\n      }\n    }\n\n    if (this.previousChunk && this.player) {\n      if (\n        this.camera.pos.y <=\n        this.previousChunk.y + (config.TileWidth * config.ChunkHeight) / 2\n      ) {\n        this.loadPrevChunk();\n      }\n    }\n    this.updateProgress();\n    this.checkGameOver();\n  }\n\n  updateProgress() {\n    // Each tile is a \"M\"\n    const progress =\n      Math.max(this.player!.pos.y - this.start * config.TileWidth, 0) /\n      config.TileWidth;\n    this.progressMeter!.updateProgress(progress);\n  }\n\n  checkGameOver() {\n    if (this.state.GameOver) return;\n    if (\n      this.player?.pos.x == this.snek?.pos.x &&\n      this.player?.pos.y == this.snek?.pos.y\n    ) {\n      this.gameOver?.updateEndScreen();\n      this.gameOver?.show();\n      this.state.GameOver = true;\n    }\n  }\n\n  getTile(xpos: number, ypos: number): Cell | null {\n    return (\n      this.currentChunk?.getCellByPoint(xpos, ypos) ??\n      this.previousChunk?.getCellByPoint(xpos, ypos) ??\n      null\n    );\n  }\n\n  generateChunk(yPos: number): TileMap {\n    const tileMap = new TileMap({\n      x: 0, // always the left\n      y: yPos,\n      rows: this.chunkHeight,\n      cols: this.chunkWidth,\n      cellWidth: config.TileWidth,\n      cellHeight: config.TileWidth,\n    });\n\n    for (let cell of tileMap.data) {\n      var terrain = this.terrainWeightMap.randomSelect(EmptyTerrain);\n      this.setCellToTerrain(cell, terrain!);\n      if (terrain!.tag() === \"dirt\") {\n        var collectible = this.collectibleWeightMap.randomSelect(null);\n        this.setCellCollectible(cell, collectible);\n      }\n    }\n\n    this.ValidateTileMap(tileMap, this.currentChunk);\n\n    return tileMap;\n  }\n\n  ValidateTileMap(tile: TileMap, prev: TileMap | null) {\n    var y = tile.y;\n    var prevRow: Cell[] | null = null;\n\n    if (prev) {\n      prevRow = prev.data.filter((c) => {\n        return c.y === y - tile.cellHeight;\n      });\n    }\n\n    const defaultPathable = DirtTerrain;\n\n    for (var i = 0; i < tile.rows; ++i) {\n      const curRow = tile.data.filter((c) => {\n        return c.y === y;\n      });\n\n      for (let x = 0; x < curRow.length; x++) {\n        //only validate if there's a previous row\n        if (!prevRow) {\n          continue;\n        }\n\n        const curCell = curRow[x];\n        const curTerrain = Terrain.GetTerrain(curRow[x]);\n        const upperLeftTile = x != 0 ? prevRow[x - 1] : null;\n        const upperRightTile = x != curRow.length - 1 ? prevRow[x + 1] : null;\n        if (!upperLeftTile || !upperRightTile) {\n          if (curTerrain.mineable()) {\n            this.setCellToTerrain(curCell, defaultPathable);\n          }\n          continue;\n        }\n        const upperLeftTerrain = Terrain.GetTerrain(upperLeftTile);\n        const upperRightTerrain = Terrain.GetTerrain(upperRightTile);\n        if (\n          !upperLeftTerrain.mineable() &&\n          !upperRightTerrain.mineable() &&\n          !curTerrain.mineable()\n        ) {\n          this.setCellToTerrain(curCell, defaultPathable);\n        }\n      }\n\n      y += tile.cellHeight;\n      prevRow = curRow;\n    }\n  }\n\n  loadNextChunk(): void {\n    this.onScreenChunkId++;\n\n    let newChunk: TileMap;\n    console.log(\"Loading chunk id: \", this.onScreenChunkId);\n\n    if (this.chunks[this.onScreenChunkId]) {\n      newChunk = this.chunks[this.onScreenChunkId];\n    } else {\n      newChunk = this.generateChunk(\n        this.onScreenChunkId * (config.TileWidth * config.ChunkHeight) +\n          this.start * config.TileWidth\n      );\n      this.chunks.push(newChunk);\n    }\n\n    if (this.previousChunk) {\n      this.remove(this.previousChunk);\n      console.log(\"Removing previous chunk\");\n    }\n    this.previousChunk = this.currentChunk;\n    this.currentChunk = newChunk;\n    this.background.setCurrentChunkId(this.onScreenChunkId);\n\n    this.add(this.currentChunk);\n  }\n\n  loadPrevChunk(): void {\n    if (this.onScreenChunkId !== 0) {\n      this.onScreenChunkId--;\n      console.log(\"Loading chunk id: \", this.onScreenChunkId);\n      // We need to store away chunks that we've interacted with\n      const newChunk = this.chunks[this.onScreenChunkId];\n\n      //   const currentChunkId = this.chunks.indexOf(this.currentChunk as TileMap);\n      if (this.currentChunk) {\n        this.remove(this.currentChunk);\n      }\n\n      this.currentChunk = newChunk;\n      this.previousChunk = this.chunks[this.onScreenChunkId - 1] ?? null;\n      this.background.setCurrentChunkId(this.onScreenChunkId);\n      this.background.setCurrentChunkId(this.onScreenChunkId - 1);\n      this.add(newChunk);\n      this.add(this.previousChunk);\n    } else {\n      this.currentChunk = this.chunks[0];\n      this.previousChunk = null;\n    }\n  }\n\n  finishDig(xpos: number, ypos: number): void {\n    var tilemap = this.currentChunk;\n    var tile = tilemap?.getCellByPoint(xpos, ypos);\n    if (!tile) {\n      tilemap = this.previousChunk;\n      tile = tilemap?.getCellByPoint(xpos, ypos);\n    }\n    if (!tile) return;\n\n    const tunnelTerrain = new TunnelTerrain(\n      this.determineTunnelSidesForCell(tile)\n    );\n\n    this.setCellToTerrain(tile, tunnelTerrain);\n    if (tile.tags.indexOf(\"speedPowerUp\") !== -1) {\n      this.speedPowerUp.apply();\n      Resources.PickUpSound.play();\n    }\n\n    //\n    // Clean up edges from neighboring cells\n    //\n    const neighbors = this.getNeighbors(tile);\n    if (neighbors.north?.hasTag(EmptyTag)) {\n      this.setCellToTerrain(\n        neighbors.north,\n        new TunnelTerrain(this.determineTunnelSidesForCell(neighbors.north))\n      );\n    }\n    if (neighbors.south?.hasTag(EmptyTag)) {\n      this.setCellToTerrain(\n        neighbors.south,\n        new TunnelTerrain(this.determineTunnelSidesForCell(neighbors.south))\n      );\n    }\n    if (neighbors.west?.hasTag(EmptyTag)) {\n      this.setCellToTerrain(\n        neighbors.west,\n        new TunnelTerrain(this.determineTunnelSidesForCell(neighbors.west))\n      );\n    }\n    if (neighbors.east?.hasTag(EmptyTag)) {\n      this.setCellToTerrain(\n        neighbors.east,\n        new TunnelTerrain(this.determineTunnelSidesForCell(neighbors.east))\n      );\n    }\n  }\n\n  getNeighbors(cell: Cell) {\n    const north = this.getTile(cell.x, cell.y - cell.height);\n    const south = this.getTile(cell.x, cell.y + cell.height);\n    const east = this.getTile(cell.x + cell.width, cell.y);\n    const west = this.getTile(cell.x - cell.width, cell.y);\n\n    return {\n      north,\n      south,\n      east,\n      west,\n    };\n  }\n\n  determineTunnelSidesForCell(cell: Cell) {\n    const sides: TunnelSides = {\n      north: false,\n      south: false,\n      east: false,\n      west: false,\n    };\n    const { north, south, east, west } = this.getNeighbors(cell);\n\n    if (east && !east.hasTag(EmptyTag)) {\n      sides.east = true;\n    }\n\n    if (west && !west.hasTag(EmptyTag)) {\n      sides.west = true;\n    }\n\n    if (south && !south?.hasTag(EmptyTag)) {\n      sides.south = true;\n    }\n\n    if (north && !north.hasTag(EmptyTag)) {\n      sides.north = true;\n    }\n\n    return sides;\n  }\n\n  setCellToTerrain(cell: Cell, terrain: Terrain) {\n    const curTerrain = Terrain.GetTerrain(cell);\n    if (terrain.tag() === EmptyTag) {\n      // if (curTerrain.tag() === EmptyTag) {\n      //   return;\n      // }\n      cell.clearSprites();\n    }\n    cell.removeComponent(curTerrain.tag(), true);\n    var sprites = terrain.sprites();\n    if (sprites) {\n      sprites.forEach((sprite) => cell.addSprite(sprite));\n    }\n    cell.addTag(terrain.tag());\n  }\n\n  setCellCollectible(cell: Cell, collectible: Collectible | null) {\n    if (collectible) {\n      cell.addSprite(collectible.sprite);\n      cell.addTag(collectible.name);\n    }\n  }\n}\n","import \"regenerator-runtime/runtime\"; // needed for async/await with parcel\n\nimport {\n  DisplayMode,\n  Engine,\n  Flags,\n  Loader,\n  Input,\n  PostUpdateEvent,\n  Physics,\n  Vector,\n} from \"excalibur\";\nimport dat from \"dat.gui\";\n\nimport { Resources } from \"./resources\";\nimport { Level } from \"./level\";\nimport config from \"./config\";\nimport { GlobalState } from \"./globalState\";\nimport { PlayerTrail } from \"./playerTrail\";\nPhysics.enabled = false;\n\nconst gui = new dat.GUI({ name: \"Ludum 48 Debug\" });\nfor (let key in config as any) {\n  if (typeof (config as any)[key] === \"number\") {\n    switch (key) {\n      case \"DigTime\":\n      case \"SpaceMoveDuration\":\n      case \"SnakeMoveDuration\":\n        gui.add(config, key, 0, config[key] * 10, 50);\n        break;\n      case \"SnekMinSecondsPerSquare\":\n      case \"SnekCatchUpSecondsPerSquare\":\n        // tenth\n        gui.add(config, key, 0, config[key] * 10, 1 / 10);\n        break;\n      case \"SnekSquaresDistanceBeforeCatchUpSpeed\":\n        // ones\n        gui.add(config, key, 0, config[key] * 10, 1);\n        break;\n      default: {\n        gui.add(\n          config as any,\n          key,\n          0,\n          (config as any)[key] * 10,\n          ((config as any)[key] * 10) / 20\n        );\n      }\n    }\n  }\n}\n\nFlags.enable(\"use-webgl\");\nclass Game extends Engine {\n  private state: GlobalState = GlobalState.GetInstance();\n  private trail: PlayerTrail = PlayerTrail.GetInstance();\n  constructor() {\n    super({\n      canvasElementId: \"game\",\n      width: config.TileWidth * config.ChunkWidth,\n      height: config.TileWidth * (config.ChunkWidth * config.InvAspectRatio),\n      displayMode: DisplayMode.Fit,\n      pointerScope: Input.PointerScope.Canvas,\n    });\n  }\n  initialize() {\n    const loader = new Loader();\n    for (const resource of Object.values(Resources)) {\n      loader.addResource(resource);\n    }\n    this.start(loader).then(() => {\n      Resources.BackgroundMusic.play();\n    });\n    this.NewGame();\n  }\n\n  public NewGame(): void {\n    this.state.GameOver = false;\n    const startY = config.TileWidth * 5 - config.TileWidth / 2;\n    this.trail.clear();\n    this.trail.enqueue(new Vector(1 * config.TileWidth, startY));\n    this.trail.enqueue(new Vector(2 * config.TileWidth, startY));\n    this.trail.enqueue(new Vector(3 * config.TileWidth, startY));\n    this.trail.enqueue(new Vector(4 * config.TileWidth, startY));\n\n    const level = new Level();\n    this.addScene(\"main\", level);\n    this.goToScene(\"main\");\n\n    game.input.keyboard.on(\"press\", (e) => {\n      if (e.key === Input.Keys.Semicolon) {\n        this.toggleDebug();\n      }\n    });\n\n    game.input.keyboard.on(\"press\", (e) => {\n      if (this.state.GameOver) {\n        if (e.key === Input.Keys.R) {\n          const sceneKeys = this.scenes.Keys;\n          for (let sceneKey in sceneKeys) {\n            for (let actor of this.scenes[sceneKey].actors) {\n              actor.kill();\n            }\n\n            this.removeScene(sceneKey);\n          }\n          this.NewGame();\n        }\n      }\n    });\n  }\n}\n\nexport const game = new Game();\n\ngame.initialize();\n"]}